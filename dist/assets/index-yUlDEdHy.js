(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var op={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function hx(){if(IT)return nu;IT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return nu.Fragment=t,nu.jsx=n,nu.jsxs=n,nu}var MT;function fx(){return MT||(MT=1,op.exports=hx()),op.exports}var z=fx(),lp={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function dx(){if(NT)return wt;NT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function k(O,it,ct){this.props=O,this.context=it,this.refs=j,this.updater=ct||C}k.prototype.isReactComponent={},k.prototype.setState=function(O,it){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,it,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=k.prototype;function H(O,it,ct){this.props=O,this.context=it,this.refs=j,this.updater=ct||C}var Y=H.prototype=new F;Y.constructor=H,I(Y,k.prototype),Y.isPureReactComponent=!0;var et=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function x(O,it,ct,lt,pt,At){return ct=At.ref,{$$typeof:e,type:O,key:it,ref:ct!==void 0?ct:null,props:At}}function w(O,it){return x(O.type,it,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function N(O){var it={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return it[ct]})}var V=/\/+/g;function U(O,it){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):it.toString(36)}function M(){}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(it){O.status==="pending"&&(O.status="fulfilled",O.value=it)},function(it){O.status==="pending"&&(O.status="rejected",O.reason=it)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Qt(O,it,ct,lt,pt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var yt=!1;if(O===null)yt=!0;else switch(At){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(O.$$typeof){case e:case t:yt=!0;break;case y:return yt=O._init,Qt(yt(O._payload),it,ct,lt,pt)}}if(yt)return pt=pt(O),yt=lt===""?"."+U(O,0):lt,et(pt)?(ct="",yt!=null&&(ct=yt.replace(V,"$&/")+"/"),Qt(pt,it,ct,"",function(Ze){return Ze})):pt!=null&&(R(pt)&&(pt=w(pt,ct+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(V,"$&/")+"/")+yt)),it.push(pt)),1;yt=0;var ae=lt===""?".":lt+":";if(et(O))for(var kt=0;kt<O.length;kt++)lt=O[kt],At=ae+U(lt,kt),yt+=Qt(lt,it,ct,At,pt);else if(kt=S(O),typeof kt=="function")for(O=kt.call(O),kt=0;!(lt=O.next()).done;)lt=lt.value,At=ae+U(lt,kt++),yt+=Qt(lt,it,ct,At,pt);else if(At==="object"){if(typeof O.then=="function")return Qt(me(O),it,ct,lt,pt);throw it=String(O),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return yt}function Z(O,it,ct){if(O==null)return O;var lt=[],pt=0;return Qt(O,lt,"","",function(At){return it.call(ct,At,pt++)}),lt}function at(O){if(O._status===-1){var it=O._result;it=it(),it.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=it)}if(O._status===1)return O._result.default;throw O._result}var ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function bt(){}return wt.Children={map:Z,forEach:function(O,it,ct){Z(O,function(){it.apply(this,arguments)},ct)},count:function(O){var it=0;return Z(O,function(){it++}),it},toArray:function(O){return Z(O,function(it){return it})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=k,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=H,wt.StrictMode=r,wt.Suspense=m,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return W.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,it,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=I({},O.props),pt=O.key,At=void 0;if(it!=null)for(yt in it.ref!==void 0&&(At=void 0),it.key!==void 0&&(pt=""+it.key),it)!rt.call(it,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&it.ref===void 0||(lt[yt]=it[yt]);var yt=arguments.length-2;if(yt===1)lt.children=ct;else if(1<yt){for(var ae=Array(yt),kt=0;kt<yt;kt++)ae[kt]=arguments[kt+2];lt.children=ae}return x(O.type,pt,void 0,void 0,At,lt)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,it,ct){var lt,pt={},At=null;if(it!=null)for(lt in it.key!==void 0&&(At=""+it.key),it)rt.call(it,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=it[lt]);var yt=arguments.length-2;if(yt===1)pt.children=ct;else if(1<yt){for(var ae=Array(yt),kt=0;kt<yt;kt++)ae[kt]=arguments[kt+2];pt.children=ae}if(O&&O.defaultProps)for(lt in yt=O.defaultProps,yt)pt[lt]===void 0&&(pt[lt]=yt[lt]);return x(O,At,void 0,void 0,null,pt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:d,render:O}},wt.isValidElement=R,wt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:at}},wt.memo=function(O,it){return{$$typeof:g,type:O,compare:it===void 0?null:it}},wt.startTransition=function(O){var it=W.T,ct={};W.T=ct;try{var lt=O(),pt=W.S;pt!==null&&pt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(bt,ht)}catch(At){ht(At)}finally{W.T=it}},wt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},wt.use=function(O){return W.H.use(O)},wt.useActionState=function(O,it,ct){return W.H.useActionState(O,it,ct)},wt.useCallback=function(O,it){return W.H.useCallback(O,it)},wt.useContext=function(O){return W.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,it){return W.H.useDeferredValue(O,it)},wt.useEffect=function(O,it,ct){var lt=W.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(O,it)},wt.useId=function(){return W.H.useId()},wt.useImperativeHandle=function(O,it,ct){return W.H.useImperativeHandle(O,it,ct)},wt.useInsertionEffect=function(O,it){return W.H.useInsertionEffect(O,it)},wt.useLayoutEffect=function(O,it){return W.H.useLayoutEffect(O,it)},wt.useMemo=function(O,it){return W.H.useMemo(O,it)},wt.useOptimistic=function(O,it){return W.H.useOptimistic(O,it)},wt.useReducer=function(O,it,ct){return W.H.useReducer(O,it,ct)},wt.useRef=function(O){return W.H.useRef(O)},wt.useState=function(O){return W.H.useState(O)},wt.useSyncExternalStore=function(O,it,ct){return W.H.useSyncExternalStore(O,it,ct)},wt.useTransition=function(){return W.H.useTransition()},wt.version="19.1.1",wt}var OT;function Hg(){return OT||(OT=1,lp.exports=dx()),lp.exports}var P=Hg(),up={exports:{}},iu={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function mx(){return PT||(PT=1,(function(e){function t(Z,at){var ht=Z.length;Z.push(at);t:for(;0<ht;){var bt=ht-1>>>1,O=Z[bt];if(0<o(O,at))Z[bt]=at,Z[ht]=O,ht=bt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var at=Z[0],ht=Z.pop();if(ht!==at){Z[0]=ht;t:for(var bt=0,O=Z.length,it=O>>>1;bt<it;){var ct=2*(bt+1)-1,lt=Z[ct],pt=ct+1,At=Z[pt];if(0>o(lt,ht))pt<O&&0>o(At,lt)?(Z[bt]=At,Z[pt]=ht,bt=pt):(Z[bt]=lt,Z[ct]=ht,bt=ct);else if(pt<O&&0>o(At,ht))Z[bt]=At,Z[pt]=ht,bt=pt;else break t}}return at}function o(Z,at){var ht=Z.sortIndex-at.sortIndex;return ht!==0?ht:Z.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,T=null,S=3,C=!1,I=!1,j=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function et(Z){for(var at=n(g);at!==null;){if(at.callback===null)r(g);else if(at.startTime<=Z)r(g),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(g)}}function W(Z){if(j=!1,et(Z),!I)if(n(m)!==null)I=!0,rt||(rt=!0,U());else{var at=n(g);at!==null&&Qt(W,at.startTime-Z)}}var rt=!1,x=-1,w=5,R=-1;function N(){return k?!0:!(e.unstable_now()-R<w)}function V(){if(k=!1,rt){var Z=e.unstable_now();R=Z;var at=!0;try{t:{I=!1,j&&(j=!1,H(x),x=-1),C=!0;var ht=S;try{e:{for(et(Z),T=n(m);T!==null&&!(T.expirationTime>Z&&N());){var bt=T.callback;if(typeof bt=="function"){T.callback=null,S=T.priorityLevel;var O=bt(T.expirationTime<=Z);if(Z=e.unstable_now(),typeof O=="function"){T.callback=O,et(Z),at=!0;break e}T===n(m)&&r(m),et(Z)}else r(m);T=n(m)}if(T!==null)at=!0;else{var it=n(g);it!==null&&Qt(W,it.startTime-Z),at=!1}}break t}finally{T=null,S=ht,C=!1}at=void 0}}finally{at?U():rt=!1}}}var U;if(typeof Y=="function")U=function(){Y(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,me=M.port2;M.port1.onmessage=V,U=function(){me.postMessage(null)}}else U=function(){F(V,0)};function Qt(Z,at){x=F(function(){Z(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var ht=S;S=at;try{return Z()}finally{S=ht}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(Z,at){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ht=S;S=Z;try{return at()}finally{S=ht}},e.unstable_scheduleCallback=function(Z,at,ht){var bt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?bt+ht:bt):ht=bt,Z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ht+O,Z={id:y++,callback:at,priorityLevel:Z,startTime:ht,expirationTime:O,sortIndex:-1},ht>bt?(Z.sortIndex=ht,t(g,Z),n(m)===null&&Z===n(g)&&(j?(H(x),x=-1):j=!0,Qt(W,ht-bt))):(Z.sortIndex=O,t(m,Z),I||C||(I=!0,rt||(rt=!0,U()))),Z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(Z){var at=S;return function(){var ht=S;S=at;try{return Z.apply(this,arguments)}finally{S=ht}}}})(hp)),hp}var VT;function px(){return VT||(VT=1,cp.exports=mx()),cp.exports}var fp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function gx(){if(LT)return en;LT=1;var e=Hg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},en.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},en.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},en.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,g){return m(g)},en.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.1",en}var kT;function yx(){if(kT)return fp.exports;kT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fp.exports=gx(),fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function vx(){if(UT)return iu;UT=1;var e=px(),t=Hg(),n=yx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),i;if(p===l)return d(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,l=p;break}if(A===l){E=!0,l=f,a=p;break}A=A.sibling}if(!E){for(A=p.child;A;){if(A===a){E=!0,a=p,l=f;break}if(A===l){E=!0,l=p,a=f;break}A=A.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case W:return"Suspense";case rt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case et:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return s=i.displayName||null,s!==null?s:me(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return me(i(s))}catch{}}return null}var Qt=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},bt=[],O=-1;function it(i){return{current:i}}function ct(i){0>O||(i.current=bt[O],bt[O]=null,O--)}function lt(i,s){O++,bt[O]=i.current,i.current=s}var pt=it(null),At=it(null),yt=it(null),ae=it(null);function kt(i,s){switch(lt(yt,s),lt(At,i),lt(pt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?sT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=sT(s),i=rT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(pt),lt(pt,i)}function Ze(){ct(pt),ct(At),ct(yt)}function Ts(i){i.memoizedState!==null&&lt(ae,i);var s=pt.current,a=rT(s,i.type);s!==a&&(lt(At,i),lt(pt,a))}function Oi(i){At.current===i&&(ct(pt),ct(At)),ae.current===i&&(ct(ae),Wl._currentValue=ht)}var dr=Object.prototype.hasOwnProperty,mr=e.unstable_scheduleCallback,pr=e.unstable_cancelCallback,Yo=e.unstable_shouldYield,uc=e.unstable_requestPaint,Dn=e.unstable_now,od=e.unstable_getCurrentPriorityLevel,Xo=e.unstable_ImmediatePriority,Ta=e.unstable_UserBlockingPriority,gr=e.unstable_NormalPriority,ld=e.unstable_LowPriority,Ea=e.unstable_IdlePriority,Qo=e.log,cc=e.unstable_setDisableYieldValue,le=null,Ft=null;function vn(i){if(typeof Qo=="function"&&cc(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(le,i)}catch{}}var Je=Math.clz32?Math.clz32:yr,hc=Math.log,ud=Math.LN2;function yr(i){return i>>>=0,i===0?32:31-(hc(i)/ud|0)|0}var vr=256,_r=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sa(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~p,l!==0?f=$n(l):(E&=A,E!==0?f=$n(E):a||(a=A&~i,a!==0&&(f=$n(a))))):(A=l&~p,A!==0?f=$n(A):E!==0?f=$n(E):a||(a=l&~i,a!==0&&(f=$n(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function Tr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var i=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),i}function Jo(){var i=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),i}function Pi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Vi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tl(i,s,a,l,f,p){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,K=i.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Je(a),nt=1<<J;A[J]=0,D[J]=-1;var $=K[J];if($!==null)for(K[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}a&=~nt}l!==0&&ui(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~s))}function ui(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Je(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function el(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Je(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function Es(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Aa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ss(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:bT(i.type))}function fc(i,s){var a=at.p;try{return at.p=i,s()}finally{at.p=a}}var te=Math.random().toString(36).slice(2),Re="__reactFiber$"+te,_e="__reactProps$"+te,In="__reactContainer$"+te,nl="__reactEvents$"+te,cd="__reactListeners$"+te,As="__reactHandles$"+te,dc="__reactResources$"+te,Er="__reactMarker$"+te;function bs(i){delete i[Re],delete i[_e],delete i[nl],delete i[cd],delete i[As]}function Li(i){var s=i[Re];if(s)return s;for(var a=i.parentNode;a;){if(s=a[In]||a[Re]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=uT(i);i!==null;){if(a=i[Re])return a;i=uT(i)}return s}i=a,a=i.parentNode}return null}function ci(i){if(i=i[Re]||i[In]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function hi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[dc];return s||(s=i[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Er]=!0}var il=new Set,ba={};function Yn(i,s){ki(i,s),ki(i+"Capture",s)}function ki(i,s){for(ba[i]=s,i=0;i<s.length;i++)il.add(s[i])}var mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},Sr={};function gc(i){return dr.call(Sr,i)?!0:dr.call(pc,i)?!1:mc.test(i)?Sr[i]=!0:(pc[i]=!0,!1)}function ws(i,s,a){if(gc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function fi(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function je(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var Ar,yc;function Ui(i){if(Ar===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ar=s&&s[1]||"",yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+i+yc}var wa=!1;function Ra(i,s){if(!i||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var $=X}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(X){$=X}i.call(nt.prototype)}}else{try{throw Error()}catch(X){$=X}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],A=p[1];if(E&&A){var D=E.split(`
`),K=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===K.length)for(l=D.length-1,f=K.length-1;1<=l&&0<=f&&D[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==K[f]){var J=`
`+D[l].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=l&&0<=f);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ui(a):""}function sl(i){switch(i.tag){case 26:case 27:case 5:return Ui(i.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return Ra(i.type,!1);case 11:return Ra(i.type.render,!1);case 1:return Ra(i.type,!0);case 31:return Ui("Activity");default:return""}}function Ca(i){try{var s="";do s+=sl(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hd(i){var s=rl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function xa(i){i._valueTracker||(i._valueTracker=hd(i))}function al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=rl(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function br(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fd=/[\n"\\]/g;function Te(i){return i.replace(fd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _n(i,s,a,l,f,p,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Rs(i,E,ln(s)):a!=null?Rs(i,E,ln(a)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ln(A):i.removeAttribute("name")}function wr(i,s,a,l,f,p,E,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Rs(i,s,a){s==="number"&&br(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ji(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Gt(i,s,a){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ln(a):""}function Rr(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Qt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ln(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Mn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||Cr.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ol(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&vc(i,f,l)}else for(var p in s)s.hasOwnProperty(p)&&vc(i,p,s[p])}function ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(i){return md.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bi=null;function Nn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Fi=null;function ul(i){var s=ci(i);if(s&&(i=s.stateNode)){var a=i[_e]||null;t:switch(i=s.stateNode,s.type){case"input":if(_n(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[_e]||null;if(!f)throw Error(r(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&al(l)}break t;case"textarea":Gt(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ji(i,!!a.multiple,s,!1)}}}var di=!1;function _c(i,s,a){if(di)return i(s,a);di=!0;try{var l=i(s);return l}finally{if(di=!1,(zi!==null||Fi!==null)&&(fh(),zi&&(s=zi,i=Fi,Fi=zi=null,ul(s),i)))for(s=0;s<i.length;s++)ul(i[s])}}function xr(i,s){var a=i.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Xn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){On=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{On=!1}var mi=null,Cs=null,Hi=null;function cl(){if(Hi)return Hi;var i,s=Cs,a=s.length,l,f="value"in mi?mi.value:mi.textContent,p=f.length;for(i=0;i<a&&s[i]===f[i];i++);var E=a-i;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return Hi=f.slice(i,1<l?1-l:void 0)}function pi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function hl(){return!1}function Me(i){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gi:hl,this.isPropagationStopped=hl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Me(Bt),Ir=y({},Bt,{view:0,detail:0}),Tc=Me(Ir),Ma,Na,yi,Mr=y({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(Ma=i.screenX-yi.screenX,Na=i.screenY-yi.screenY):Na=Ma=0,yi=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:Na}}),Pn=Me(Mr),Ec=y({},Mr,{dataTransfer:0}),pd=Me(Ec),Nr=y({},Ir,{relatedTarget:0}),Oa=Me(Nr),fl=y({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Me(fl),Sc=y({},Bt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Va=Me(Sc),gd=y({},Bt,{data:0}),dl=Me(gd),Or={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bc[i])?!!s[i]:!1}function Pr(){return ml}var wc=y({},Ir,{key:function(i){if(i.key){var s=Or[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),La=Me(wc),Rc=y({},Mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Me(Rc),qi=y({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Cc=Me(qi),xc=y({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=Me(xc),Ic=y({},Mr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Me(Ic),un=y({},Bt,{newState:0,oldState:0}),Mc=Me(un),Nc=[9,13,27,32],vi=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,_=Xn&&(!vi||h&&8<h&&11>=h),b=" ",q=!1;function Q(i,s){switch(i){case"keyup":return Nc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ot=!1;function Ce(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(q=!0,b);case"textInput":return i=s.data,i===b&&q?null:i;default:return null}}function Pt(i,s){if(Ot)return i==="compositionend"||!vi&&Q(i,s)?(i=cl(),Hi=Cs=mi=null,Ot=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ne[i.type]:s==="textarea"}function Gi(i,s,a,l){zi?Fi?Fi.push(l):Fi=[l]:zi=l,s=vh(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Be=null,_i=null;function gl(i){J0(i,0)}function Oc(i){var s=hi(i);if(al(s))return i}function Tv(i,s){if(i==="change")return s}var Ev=!1;if(Xn){var yd;if(Xn){var vd="oninput"in document;if(!vd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),vd=typeof Sv.oninput=="function"}yd=vd}else yd=!1;Ev=yd&&(!document.documentMode||9<document.documentMode)}function Av(){Be&&(Be.detachEvent("onpropertychange",bv),_i=Be=null)}function bv(i){if(i.propertyName==="value"&&Oc(_i)){var s=[];Gi(s,_i,i,Nn(i)),_c(gl,s)}}function zR(i,s,a){i==="focusin"?(Av(),Be=s,_i=a,Be.attachEvent("onpropertychange",bv)):i==="focusout"&&Av()}function FR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oc(_i)}function HR(i,s){if(i==="click")return Oc(s)}function qR(i,s){if(i==="input"||i==="change")return Oc(s)}function GR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Tn=typeof Object.is=="function"?Object.is:GR;function yl(i,s){if(Tn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dr.call(s,f)||!Tn(i[f],s[f]))return!1}return!0}function wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rv(i,s){var a=wv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wv(a)}}function Cv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function xv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=br(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=br(i.document)}return s}function _d(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var KR=Xn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Td=null,vl=null,Ed=!1;function Dv(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||Ua==null||Ua!==br(l)||(l=Ua,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=vh(Td,"onSelect"),0<l.length&&(s=new Ia("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Ua)))}function Vr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var ja={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Sd={},Iv={};Xn&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Lr(i){if(Sd[i])return Sd[i];if(!ja[i])return i;var s=ja[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Iv)return Sd[i]=s[a];return i}var Mv=Lr("animationend"),Nv=Lr("animationiteration"),Ov=Lr("animationstart"),$R=Lr("transitionrun"),YR=Lr("transitionstart"),XR=Lr("transitioncancel"),Pv=Lr("transitionend"),Vv=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function Qn(i,s){Vv.set(i,s),Yn(s,[i])}var Lv=new WeakMap;function Vn(i,s){if(typeof i=="object"&&i!==null){var a=Lv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Ca(s)},Lv.set(i,s),s)}return{value:i,source:s,stack:Ca(s)}}var Ln=[],Ba=0,bd=0;function Pc(){for(var i=Ba,s=bd=Ba=0;s<i;){var a=Ln[s];Ln[s++]=null;var l=Ln[s];Ln[s++]=null;var f=Ln[s];Ln[s++]=null;var p=Ln[s];if(Ln[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&kv(a,f,p)}}function Vc(i,s,a,l){Ln[Ba++]=i,Ln[Ba++]=s,Ln[Ba++]=a,Ln[Ba++]=l,bd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function wd(i,s,a,l){return Vc(i,s,a,l),Lc(i)}function za(i,s){return Vc(i,null,null,s),Lc(i)}function kv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=i.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&s!==null&&(f=31-Je(a),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Lc(i){if(50<Hl)throw Hl=0,Mm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fa={};function QR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,a,l){return new QR(i,s,a,l)}function Rd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,s){var a=i.alternate;return a===null?(a=En(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Uv(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function kc(i,s,a,l,f,p){var E=0;if(l=i,typeof i=="function")Rd(i)&&(E=1);else if(typeof i=="string")E=ZC(i,a,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=En(31,a,s,f),i.elementType=R,i.lanes=p,i;case I:return kr(a.children,f,p,s);case j:E=8,f|=24;break;case k:return i=En(12,a,s,f|2),i.elementType=k,i.lanes=p,i;case W:return i=En(13,a,s,f),i.elementType=W,i.lanes=p,i;case rt:return i=En(19,a,s,f),i.elementType=rt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case Y:E=10;break t;case H:E=9;break t;case et:E=11;break t;case x:E=14;break t;case w:E=16,l=null;break t}E=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=En(E,a,s,f),s.elementType=i,s.type=l,s.lanes=p,s}function kr(i,s,a,l){return i=En(7,i,l,s),i.lanes=a,i}function Cd(i,s,a){return i=En(6,i,null,s),i.lanes=a,i}function xd(i,s,a){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ha=[],qa=0,Uc=null,jc=0,kn=[],Un=0,Ur=null,$i=1,Yi="";function jr(i,s){Ha[qa++]=jc,Ha[qa++]=Uc,Uc=i,jc=s}function jv(i,s,a){kn[Un++]=$i,kn[Un++]=Yi,kn[Un++]=Ur,Ur=i;var l=$i;i=Yi;var f=32-Je(l)-1;l&=~(1<<f),a+=1;var p=32-Je(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,$i=1<<32-Je(s)+f|a<<f|l,Yi=p+i}else $i=1<<p|a<<f|l,Yi=i}function Dd(i){i.return!==null&&(jr(i,1),jv(i,1,0))}function Id(i){for(;i===Uc;)Uc=Ha[--qa],Ha[qa]=null,jc=Ha[--qa],Ha[qa]=null;for(;i===Ur;)Ur=kn[--Un],kn[Un]=null,Yi=kn[--Un],kn[Un]=null,$i=kn[--Un],kn[Un]=null}var cn=null,ue=null,jt=!1,Br=null,Ti=!1,Md=Error(r(519));function zr(i){var s=Error(r(418,""));throw El(Vn(s,i)),Md}function Bv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Re]=i,s[_e]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Mt(Gl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),wr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Rr(s,l.value,l.defaultValue,l.children),xa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||iT(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=_h),s=!0):s=!1,s||zr(i)}function zv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cn=cn.return}}function _l(i){if(i!==cn)return!1;if(!jt)return zv(i),jt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||$m(i.type,i.memoizedProps)),a=!a),a&&ue&&zr(i),zv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){ue=Zn(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}ue=null}}else s===27?(s=ue,Hs(i.type)?(i=Wm,Wm=null,ue=i):ue=s):ue=cn?Zn(i.stateNode.nextSibling):null;return!0}function Tl(){ue=cn=null,jt=!1}function Fv(){var i=Br;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Br=null),i}function El(i){Br===null?Br=[i]:Br.push(i)}var Nd=it(null),Fr=null,Xi=null;function xs(i,s,a){lt(Nd,s._currentValue),s._currentValue=a}function Qi(i){i._currentValue=Nd.current,ct(Nd)}function Od(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Pd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),Od(p.return,a,i),l||(E=null);break t}p=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Od(E,a,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Sl(i,s,a,l){i=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===ae.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Wl):i=[Wl])}f=f.return}i!==null&&Pd(s,i,a,l),s.flags|=262144}function Bc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hr(i){Fr=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return Hv(Fr,i)}function zc(i,s){return Fr===null&&Hr(i),Hv(i,s)}function Hv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(i===null)throw Error(r(308));Xi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xi=Xi.next=s;return a}var WR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},ZR=e.unstable_scheduleCallback,JR=e.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new WR,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&ZR(JR,function(){i.controller.abort()})}var bl=null,Ld=0,Ga=0,Ka=null;function tC(i,s){if(bl===null){var a=bl=[];Ld=0,Ga=Um(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,s.then(qv,qv),s}function qv(){if(--Ld===0&&bl!==null){Ka!==null&&(Ka.status="fulfilled");var i=bl;bl=null,Ga=0,Ka=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function eC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Gv=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tC(i,s),Gv!==null&&Gv(i,s)};var qr=it(null);function kd(){var i=qr.current;return i!==null?i:Wt.pooledCache}function Fc(i,s){s===null?lt(qr,qr.current):lt(qr,s.pool)}function Kv(){var i=kd();return i===null?null:{parent:De._currentValue,pool:i}}var wl=Error(r(460)),$v=Error(r(474)),Hc=Error(r(542)),Ud={then:function(){}};function Yv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qc(){}function Xv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(qc,qc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wv(i),i;default:if(typeof s.status=="string")s.then(qc,qc);else{if(i=Wt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wv(i),i}throw Rl=s,wl}}var Rl=null;function Qv(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}function Wv(i){if(i===wl||i===Hc)throw Error(r(483))}var Ds=!1;function jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Is(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ms(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Lc(i),kv(i,null,a),s}return Vc(i,l,s,a),Lc(i)}function Cl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}function zd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Fd=!1;function xl(){if(Fd){var i=Ka;if(i!==null)throw i}}function Dl(i,s,a,l){Fd=!1;var f=i.updateQueue;Ds=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,E===null?p=K:E.next=K,E=D;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=D))}if(p!==null){var nt=f.baseState;E=0,J=K=D=null,A=p;do{var $=A.lane&-536870913,X=$!==A.lane;if(X?(Vt&$)===$:(l&$)===$){$!==0&&$===Ga&&(Fd=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Et=i,vt=A;$=s;var Yt=a;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){nt=Et.call(Yt,nt,$);break t}nt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,$=typeof Et=="function"?Et.call(Yt,nt,$):Et,$==null)break t;nt=y({},nt,$);break t;case 2:Ds=!0}}$=A.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=X,D=nt):J=J.next=X,E|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=J,p===null&&(f.shared.lanes=0),js|=E,i.lanes=E,i.memoizedState=nt}}function Zv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Jv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Zv(a[i],s)}var $a=it(null),Gc=it(0);function t_(i,s){i=is,lt(Gc,i),lt($a,s),is=i|s.baseLanes}function Hd(){lt(Gc,is),lt($a,$a.current)}function qd(){is=Gc.current,ct($a),ct(Gc)}var Ns=0,Ct=null,Kt=null,Ee=null,Kc=!1,Ya=!1,Gr=!1,$c=0,Il=0,Xa=null,nC=0;function ge(){throw Error(r(321))}function Gd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Tn(i[a],s[a]))return!1;return!0}function Kd(i,s,a,l,f,p){return Ns=p,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?k_:U_,Gr=!1,p=a(l,f),Gr=!1,Ya&&(p=n_(s,a,l,f)),e_(i),p}function e_(i){Z.H=Jc;var s=Kt!==null&&Kt.next!==null;if(Ns=0,Ee=Kt=Ct=null,Kc=!1,Il=0,Xa=null,s)throw Error(r(300));i===null||Oe||(i=i.dependencies,i!==null&&Bc(i)&&(Oe=!0))}function n_(i,s,a,l){Ct=i;var f=0;do{if(Ya&&(Xa=null),Il=0,Ya=!1,25<=f)throw Error(r(301));if(f+=1,Ee=Kt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=uC,p=s(a,l)}while(Ya);return p}function iC(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Ml(s):s,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function $d(){var i=$c!==0;return $c=0,i}function Yd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Xd(i){if(Kc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kc=!1}Ns=0,Ee=Kt=Ct=null,Ya=!1,Il=$c=0,Xa=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ct.memoizedState=Ee=i:Ee=Ee.next=i,Ee}function Se(){if(Kt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var s=Ee===null?Ct.memoizedState:Ee.next;if(s!==null)Ee=s,Kt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Ct.memoizedState=Ee=i:Ee=Ee.next=i}return Ee}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(i){var s=Il;return Il+=1,Xa===null&&(Xa=[]),i=Xv(Xa,i,s),s=Ct,(Ee===null?s.memoizedState:Ee.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?k_:U_),i}function Yc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ml(i);if(i.$$typeof===Y)return tn(i)}throw Error(r(438,String(i)))}function Wd(i){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Qd(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=N;return s.index++,a}function Wi(i,s){return typeof s=="function"?s(i):s}function Xc(i){var s=Se();return Zd(s,Kt,i)}function Zd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{s=f.next;var A=E=null,D=null,K=s,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Vt&nt)===nt:(Ns&nt)===nt){var $=K.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===Ga&&(J=!0);else if((Ns&$)===$){K=K.next,$===Ga&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=nt,E=p):D=D.next=nt,Ct.lanes|=$,js|=$;nt=K.action,Gr&&a(p,nt),p=K.hasEagerState?K.eagerState:a(p,nt)}else $={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=$,E=p):D=D.next=$,Ct.lanes|=nt,js|=nt;K=K.next}while(K!==null&&K!==s);if(D===null?E=p:D.next=A,!Tn(p,i.memoizedState)&&(Oe=!0,J&&(a=Ka,a!==null)))throw a;i.memoizedState=p,i.baseState=E,i.baseQueue=D,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Jd(i){var s=Se(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);Tn(p,s.memoizedState)||(Oe=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function i_(i,s,a){var l=Ct,f=Se(),p=jt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Tn((Kt||f).memoizedState,a);E&&(f.memoizedState=a,Oe=!0),f=f.queue;var A=a_.bind(null,l,f,i);if(Nl(2048,8,A,[i]),f.getSnapshot!==s||E||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Qc(),r_.bind(null,l,f,a,s),null),Wt===null)throw Error(r(349));p||(Ns&124)!==0||s_(l,s,a)}return a}function s_(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=Qd(),Ct.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function r_(i,s,a,l){s.value=a,s.getSnapshot=l,o_(s)&&l_(i)}function a_(i,s,a){return a(function(){o_(s)&&l_(i)})}function o_(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Tn(i,a)}catch{return!0}}function l_(i){var s=za(i,2);s!==null&&Rn(s,i,2)}function tm(i){var s=fn();if(typeof i=="function"){var a=i;if(i=a(),Gr){vn(!0);try{a()}finally{vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},s}function u_(i,s,a,l){return i.baseState=a,Zd(i,Kt,typeof l=="function"?l:Wi)}function sC(i,s,a,l,f){if(Zc(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,c_(s,p)):(p.next=a.next,s.pending=a.next=p)}}function c_(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var A=a(f,l),D=Z.S;D!==null&&D(E,A),h_(i,s,A)}catch(K){em(i,s,K)}finally{Z.T=p}}else try{p=a(f,l),h_(i,s,p)}catch(K){em(i,s,K)}}function h_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f_(i,s,l)},function(l){return em(i,s,l)}):f_(i,s,a)}function f_(i,s,a){s.status="fulfilled",s.value=a,d_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,c_(i,a)))}function em(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,d_(s),s=s.next;while(s!==l)}i.action=null}function d_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function m_(i,s){return s}function p_(i,s){if(jt){var a=Wt.formState;if(a!==null){t:{var l=Ct;if(jt){if(ue){e:{for(var f=ue,p=Ti;f.nodeType!==8;){if(!p){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ue=Zn(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(s=a[0])}}return a=fn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:s},a.queue=l,a=P_.bind(null,Ct,l),l.dispatch=a,l=tm(!1),p=am.bind(null,Ct,!1,l.queue),l=fn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=sC.bind(null,Ct,f,p,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function g_(i){var s=Se();return y_(s,Kt,i)}function y_(i,s,a){if(s=Zd(i,s,m_)[0],i=Xc(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ml(s)}catch(E){throw E===wl?Hc:E}else l=s;s=Se();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,Qa(9,Qc(),rC.bind(null,f,a),null)),[l,p,i]}function rC(i,s){i.action=s}function v_(i){var s=Se(),a=Kt;if(a!==null)return y_(s,a,i);Se(),s=s.memoizedState,a=Se();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Qa(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Qd(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function Qc(){return{destroy:void 0,resource:void 0}}function __(){return Se().memoizedState}function Wc(i,s,a,l){var f=fn();l=l===void 0?null:l,Ct.flags|=i,f.memoizedState=Qa(1|s,Qc(),a,l)}function Nl(i,s,a,l){var f=Se();l=l===void 0?null:l;var p=f.memoizedState.inst;Kt!==null&&l!==null&&Gd(l,Kt.memoizedState.deps)?f.memoizedState=Qa(s,p,a,l):(Ct.flags|=i,f.memoizedState=Qa(1|s,p,a,l))}function T_(i,s){Wc(8390656,8,i,s)}function E_(i,s){Nl(2048,8,i,s)}function S_(i,s){return Nl(4,2,i,s)}function A_(i,s){return Nl(4,4,i,s)}function b_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function w_(i,s,a){a=a!=null?a.concat([i]):null,Nl(4,4,b_.bind(null,s,i),a)}function nm(){}function R_(i,s){var a=Se();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Gd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function C_(i,s){var a=Se();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Gd(s,l[1]))return l[0];if(l=i(),Gr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,s],l}function im(i,s,a){return a===void 0||(Ns&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=I0(),Ct.lanes|=i,js|=i,a)}function x_(i,s,a,l){return Tn(a,s)?a:$a.current!==null?(i=im(i,a,l),Tn(i,s)||(Oe=!0),i):(Ns&42)===0?(Oe=!0,i.memoizedState=a):(i=I0(),Ct.lanes|=i,js|=i,s)}function D_(i,s,a,l,f){var p=at.p;at.p=p!==0&&8>p?p:8;var E=Z.T,A={};Z.T=A,am(i,!1,s,a);try{var D=f(),K=Z.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=eC(D,l);Ol(i,s,J,wn(i))}else Ol(i,s,l,wn(i))}catch(nt){Ol(i,s,{then:function(){},status:"rejected",reason:nt},wn())}finally{at.p=p,Z.T=E}}function aC(){}function sm(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=I_(i).queue;D_(i,f,s,ht,a===null?aC:function(){return M_(i),a(l)})}function I_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function M_(i){var s=I_(i).next.queue;Ol(i,s,{},wn())}function rm(){return tn(Wl)}function N_(){return Se().memoizedState}function O_(){return Se().memoizedState}function oC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=wn();i=Is(a);var l=Ms(s,i,a);l!==null&&(Rn(l,s,a),Cl(l,s,a)),s={cache:Vd()},i.payload=s;return}s=s.return}}function lC(i,s,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(i)?V_(s,a):(a=wd(i,s,a,l),a!==null&&(Rn(a,i,l),L_(a,s,l)))}function P_(i,s,a){var l=wn();Ol(i,s,a,l)}function Ol(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(i))V_(s,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,A=p(E,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,E))return Vc(i,s,f,0),Wt===null&&Pc(),!1}catch{}finally{}if(a=wd(i,s,f,l),a!==null)return Rn(a,i,l),L_(a,s,l),!0}return!1}function am(i,s,a,l){if(l={lane:2,revertLane:Um(),action:l,hasEagerState:!1,eagerState:null,next:null},Zc(i)){if(s)throw Error(r(479))}else s=wd(i,a,l,2),s!==null&&Rn(s,i,2)}function Zc(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function V_(i,s){Ya=Kc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function L_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}var Jc={readContext:tn,use:Yc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},k_={readContext:tn,use:Yc,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:T_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Wc(4194308,4,b_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Wc(4194308,4,i,s)},useInsertionEffect:function(i,s){Wc(4,2,i,s)},useMemo:function(i,s){var a=fn();s=s===void 0?null:s;var l=i();if(Gr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=fn();if(a!==void 0){var f=a(s);if(Gr){vn(!0);try{a(s)}finally{vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=lC.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=tm(i);var s=i.queue,a=P_.bind(null,Ct,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:nm,useDeferredValue:function(i,s){var a=fn();return im(a,i,s)},useTransition:function(){var i=tm(!1);return i=D_.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Ct,f=fn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Wt===null)throw Error(r(349));(Vt&124)!==0||s_(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,T_(a_.bind(null,l,p,i),[i]),l.flags|=2048,Qa(9,Qc(),r_.bind(null,l,p,a,s),null),a},useId:function(){var i=fn(),s=Wt.identifierPrefix;if(jt){var a=Yi,l=$i;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,s=""+s+"R"+a,a=$c++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=nC++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:rm,useFormState:p_,useActionState:p_,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=am.bind(null,Ct,!0,a),a.dispatch=s,[i,s]},useMemoCache:Wd,useCacheRefresh:function(){return fn().memoizedState=oC.bind(null,Ct)}},U_={readContext:tn,use:Yc,useCallback:R_,useContext:tn,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:C_,useReducer:Xc,useRef:__,useState:function(){return Xc(Wi)},useDebugValue:nm,useDeferredValue:function(i,s){var a=Se();return x_(a,Kt.memoizedState,i,s)},useTransition:function(){var i=Xc(Wi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Ml(i),s]},useSyncExternalStore:i_,useId:N_,useHostTransitionStatus:rm,useFormState:g_,useActionState:g_,useOptimistic:function(i,s){var a=Se();return u_(a,Kt,i,s)},useMemoCache:Wd,useCacheRefresh:O_},uC={readContext:tn,use:Yc,useCallback:R_,useContext:tn,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:C_,useReducer:Jd,useRef:__,useState:function(){return Jd(Wi)},useDebugValue:nm,useDeferredValue:function(i,s){var a=Se();return Kt===null?im(a,i,s):x_(a,Kt.memoizedState,i,s)},useTransition:function(){var i=Jd(Wi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Ml(i),s]},useSyncExternalStore:i_,useId:N_,useHostTransitionStatus:rm,useFormState:v_,useActionState:v_,useOptimistic:function(i,s){var a=Se();return Kt!==null?u_(a,Kt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:O_},Wa=null,Pl=0;function th(i){var s=Pl;return Pl+=1,Wa===null&&(Wa=[]),Xv(Wa,i,s)}function Vl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function eh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function j_(i){var s=i._init;return s(i._payload)}function B_(i){function s(B,L){if(i){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function a(B,L){if(!i)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Ki(B,L),B.index=0,B.sibling=null,B}function p(B,L,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function A(B,L,G,tt){return L===null||L.tag!==6?(L=Cd(G,B.mode,tt),L.return=B,L):(L=f(L,G),L.return=B,L)}function D(B,L,G,tt){var ft=G.type;return ft===I?J(B,L,G.props.children,tt,G.key):L!==null&&(L.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&j_(ft)===L.type)?(L=f(L,G.props),Vl(L,G),L.return=B,L):(L=kc(G.type,G.key,G.props,null,B.mode,tt),Vl(L,G),L.return=B,L)}function K(B,L,G,tt){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=xd(G,B.mode,tt),L.return=B,L):(L=f(L,G.children||[]),L.return=B,L)}function J(B,L,G,tt,ft){return L===null||L.tag!==7?(L=kr(G,B.mode,tt,ft),L.return=B,L):(L=f(L,G),L.return=B,L)}function nt(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cd(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return G=kc(L.type,L.key,L.props,null,B.mode,G),Vl(G,L),G.return=B,G;case C:return L=xd(L,B.mode,G),L.return=B,L;case w:var tt=L._init;return L=tt(L._payload),nt(B,L,G)}if(Qt(L)||U(L))return L=kr(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return nt(B,th(L),G);if(L.$$typeof===Y)return nt(B,zc(B,L),G);eh(B,L)}return null}function $(B,L,G,tt){var ft=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ft!==null?null:A(B,L,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===ft?D(B,L,G,tt):null;case C:return G.key===ft?K(B,L,G,tt):null;case w:return ft=G._init,G=ft(G._payload),$(B,L,G,tt)}if(Qt(G)||U(G))return ft!==null?null:J(B,L,G,tt,null);if(typeof G.then=="function")return $(B,L,th(G),tt);if(G.$$typeof===Y)return $(B,L,zc(B,G),tt);eh(B,G)}return null}function X(B,L,G,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(G)||null,A(L,B,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return B=B.get(tt.key===null?G:tt.key)||null,D(L,B,tt,ft);case C:return B=B.get(tt.key===null?G:tt.key)||null,K(L,B,tt,ft);case w:var Dt=tt._init;return tt=Dt(tt._payload),X(B,L,G,tt,ft)}if(Qt(tt)||U(tt))return B=B.get(G)||null,J(L,B,tt,ft,null);if(typeof tt.then=="function")return X(B,L,G,th(tt),ft);if(tt.$$typeof===Y)return X(B,L,G,zc(L,tt),ft);eh(L,tt)}return null}function Et(B,L,G,tt){for(var ft=null,Dt=null,mt=L,_t=L=0,Ve=null;mt!==null&&_t<G.length;_t++){mt.index>_t?(Ve=mt,mt=null):Ve=mt.sibling;var Ut=$(B,mt,G[_t],tt);if(Ut===null){mt===null&&(mt=Ve);break}i&&mt&&Ut.alternate===null&&s(B,mt),L=p(Ut,L,_t),Dt===null?ft=Ut:Dt.sibling=Ut,Dt=Ut,mt=Ve}if(_t===G.length)return a(B,mt),jt&&jr(B,_t),ft;if(mt===null){for(;_t<G.length;_t++)mt=nt(B,G[_t],tt),mt!==null&&(L=p(mt,L,_t),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return jt&&jr(B,_t),ft}for(mt=l(mt);_t<G.length;_t++)Ve=X(mt,B,_t,G[_t],tt),Ve!==null&&(i&&Ve.alternate!==null&&mt.delete(Ve.key===null?_t:Ve.key),L=p(Ve,L,_t),Dt===null?ft=Ve:Dt.sibling=Ve,Dt=Ve);return i&&mt.forEach(function(Ys){return s(B,Ys)}),jt&&jr(B,_t),ft}function vt(B,L,G,tt){if(G==null)throw Error(r(151));for(var ft=null,Dt=null,mt=L,_t=L=0,Ve=null,Ut=G.next();mt!==null&&!Ut.done;_t++,Ut=G.next()){mt.index>_t?(Ve=mt,mt=null):Ve=mt.sibling;var Ys=$(B,mt,Ut.value,tt);if(Ys===null){mt===null&&(mt=Ve);break}i&&mt&&Ys.alternate===null&&s(B,mt),L=p(Ys,L,_t),Dt===null?ft=Ys:Dt.sibling=Ys,Dt=Ys,mt=Ve}if(Ut.done)return a(B,mt),jt&&jr(B,_t),ft;if(mt===null){for(;!Ut.done;_t++,Ut=G.next())Ut=nt(B,Ut.value,tt),Ut!==null&&(L=p(Ut,L,_t),Dt===null?ft=Ut:Dt.sibling=Ut,Dt=Ut);return jt&&jr(B,_t),ft}for(mt=l(mt);!Ut.done;_t++,Ut=G.next())Ut=X(mt,B,_t,Ut.value,tt),Ut!==null&&(i&&Ut.alternate!==null&&mt.delete(Ut.key===null?_t:Ut.key),L=p(Ut,L,_t),Dt===null?ft=Ut:Dt.sibling=Ut,Dt=Ut);return i&&mt.forEach(function(cx){return s(B,cx)}),jt&&jr(B,_t),ft}function Yt(B,L,G,tt){if(typeof G=="object"&&G!==null&&G.type===I&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var ft=G.key;L!==null;){if(L.key===ft){if(ft=G.type,ft===I){if(L.tag===7){a(B,L.sibling),tt=f(L,G.props.children),tt.return=B,B=tt;break t}}else if(L.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&j_(ft)===L.type){a(B,L.sibling),tt=f(L,G.props),Vl(tt,G),tt.return=B,B=tt;break t}a(B,L);break}else s(B,L);L=L.sibling}G.type===I?(tt=kr(G.props.children,B.mode,tt,G.key),tt.return=B,B=tt):(tt=kc(G.type,G.key,G.props,null,B.mode,tt),Vl(tt,G),tt.return=B,B=tt)}return E(B);case C:t:{for(ft=G.key;L!==null;){if(L.key===ft)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(B,L.sibling),tt=f(L,G.children||[]),tt.return=B,B=tt;break t}else{a(B,L);break}else s(B,L);L=L.sibling}tt=xd(G,B.mode,tt),tt.return=B,B=tt}return E(B);case w:return ft=G._init,G=ft(G._payload),Yt(B,L,G,tt)}if(Qt(G))return Et(B,L,G,tt);if(U(G)){if(ft=U(G),typeof ft!="function")throw Error(r(150));return G=ft.call(G),vt(B,L,G,tt)}if(typeof G.then=="function")return Yt(B,L,th(G),tt);if(G.$$typeof===Y)return Yt(B,L,zc(B,G),tt);eh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(B,L.sibling),tt=f(L,G),tt.return=B,B=tt):(a(B,L),tt=Cd(G,B.mode,tt),tt.return=B,B=tt),E(B)):a(B,L)}return function(B,L,G,tt){try{Pl=0;var ft=Yt(B,L,G,tt);return Wa=null,ft}catch(mt){if(mt===wl||mt===Hc)throw mt;var Dt=En(29,mt,null,B.mode);return Dt.lanes=tt,Dt.return=B,Dt}finally{}}}var Za=B_(!0),z_=B_(!1),jn=it(null),Ei=null;function Os(i){var s=i.alternate;lt(Ie,Ie.current&1),lt(jn,i),Ei===null&&(s===null||$a.current!==null||s.memoizedState!==null)&&(Ei=i)}function F_(i){if(i.tag===22){if(lt(Ie,Ie.current),lt(jn,i),Ei===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ei=i)}}else Ps()}function Ps(){lt(Ie,Ie.current),lt(jn,jn.current)}function Zi(i){ct(jn),Ei===i&&(Ei=null),ct(Ie)}var Ie=it(0);function nh(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function om(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var lm={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=wn(),f=Is(l);f.payload=s,a!=null&&(f.callback=a),s=Ms(i,f,l),s!==null&&(Rn(s,i,l),Cl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=wn(),f=Is(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ms(i,f,l),s!==null&&(Rn(s,i,l),Cl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=wn(),l=Is(a);l.tag=2,s!=null&&(l.callback=s),s=Ms(i,l,a),s!==null&&(Rn(s,i,a),Cl(s,i,a))}};function H_(i,s,a,l,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!yl(a,l)||!yl(f,p):!0}function q_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&lm.enqueueReplaceState(s,s.state,null)}function Kr(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=y({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function G_(i){ih(i)}function K_(i){console.error(i)}function $_(i){ih(i)}function sh(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Y_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function um(i,s,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){sh(i,s)},a}function X_(i){return i=Is(i),i.tag=3,i}function Q_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){Y_(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Y_(s,a,l),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function cC(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Sl(s,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 13:return Ei===null?Om():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ud?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Vm(i,l,f)),!1;case 22:return a.flags|=65536,l===Ud?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Vm(i,l,f)),!1}throw Error(r(435,a.tag))}return Vm(i,l,f),Om(),!1}if(jt)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Md&&(i=Error(r(422),{cause:l}),El(Vn(i,a)))):(l!==Md&&(s=Error(r(423),{cause:l}),El(Vn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Vn(l,a),f=um(i.stateNode,l,f),zd(i,f),ce!==4&&(ce=2)),!1;var p=Error(r(520),{cause:l});if(p=Vn(p,a),Fl===null?Fl=[p]:Fl.push(p),ce!==4&&(ce=2),s===null)return!0;l=Vn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=um(a.stateNode,l,i),zd(a,i),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bs===null||!Bs.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=X_(f),Q_(f,i,a,l),zd(a,f),!1}a=a.return}while(a!==null);return!1}var W_=Error(r(461)),Oe=!1;function ze(i,s,a,l){s.child=i===null?z_(s,null,a,l):Za(s,i.child,a,l)}function Z_(i,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Hr(s),l=Kd(i,s,a,E,p,f),A=$d(),i!==null&&!Oe?(Yd(i,s,f),Ji(i,s,f)):(jt&&A&&Dd(s),s.flags|=1,ze(i,s,l,f),s.child)}function J_(i,s,a,l,f){if(i===null){var p=a.type;return typeof p=="function"&&!Rd(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,t0(i,s,p,l,f)):(i=kc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!ym(i,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(E,l)&&i.ref===s.ref)return Ji(i,s,f)}return s.flags|=1,i=Ki(p,l),i.ref=s.ref,i.return=s,s.child=i}function t0(i,s,a,l,f){if(i!==null){var p=i.memoizedProps;if(yl(p,l)&&i.ref===s.ref)if(Oe=!1,s.pendingProps=l=p,ym(i,f))(i.flags&131072)!==0&&(Oe=!0);else return s.lanes=i.lanes,Ji(i,s,f)}return cm(i,s,a,l,f)}function e0(i,s,a){var l=s.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(f=s.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return n0(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fc(s,p!==null?p.cachePool:null),p!==null?t_(s,p):Hd(),F_(s);else return s.lanes=s.childLanes=536870912,n0(i,s,p!==null?p.baseLanes|a:a,a)}else p!==null?(Fc(s,p.cachePool),t_(s,p),Ps(),s.memoizedState=null):(i!==null&&Fc(s,null),Hd(),Ps());return ze(i,s,f,a),s.child}function n0(i,s,a,l){var f=kd();return f=f===null?null:{parent:De._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&Fc(s,null),Hd(),F_(s),i!==null&&Sl(i,s,l,!0),null}function rh(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function cm(i,s,a,l,f){return Hr(s),a=Kd(i,s,a,l,void 0,f),l=$d(),i!==null&&!Oe?(Yd(i,s,f),Ji(i,s,f)):(jt&&l&&Dd(s),s.flags|=1,ze(i,s,a,f),s.child)}function i0(i,s,a,l,f,p){return Hr(s),s.updateQueue=null,a=n_(s,l,a,f),e_(i),l=$d(),i!==null&&!Oe?(Yd(i,s,p),Ji(i,s,p)):(jt&&l&&Dd(s),s.flags|=1,ze(i,s,a,p),s.child)}function s0(i,s,a,l,f){if(Hr(s),s.stateNode===null){var p=Fa,E=a.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},jd(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?tn(E):Fa,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(om(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&lm.enqueueReplaceState(p,p.state,null),Dl(s,l,p,f),xl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){p=s.stateNode;var A=s.memoizedProps,D=Kr(a,A);p.props=D;var K=p.context,J=a.contextType;E=Fa,typeof J=="object"&&J!==null&&(E=tn(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||K!==E)&&q_(s,p,l,E),Ds=!1;var $=s.memoizedState;p.state=$,Dl(s,l,p,f),xl(),K=s.memoizedState,A||$!==K||Ds?(typeof nt=="function"&&(om(s,a,nt,l),K=s.memoizedState),(D=Ds||H_(s,a,D,l,$,K,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),p.props=l,p.state=K,p.context=E,l=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Bd(i,s),E=s.memoizedProps,J=Kr(a,E),p.props=J,nt=s.pendingProps,$=p.context,K=a.contextType,D=Fa,typeof K=="object"&&K!==null&&(D=tn(K)),A=a.getDerivedStateFromProps,(K=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||$!==D)&&q_(s,p,l,D),Ds=!1,$=s.memoizedState,p.state=$,Dl(s,l,p,f),xl();var X=s.memoizedState;E!==nt||$!==X||Ds||i!==null&&i.dependencies!==null&&Bc(i.dependencies)?(typeof A=="function"&&(om(s,a,A,l),X=s.memoizedState),(J=Ds||H_(s,a,J,l,$,X,D)||i!==null&&i.dependencies!==null&&Bc(i.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),p.props=l,p.state=X,p.context=D,l=J):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),l=!1)}return p=l,rh(i,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&l?(s.child=Za(s,i.child,null,f),s.child=Za(s,null,a,f)):ze(i,s,a,f),s.memoizedState=p.state,i=s.child):i=Ji(i,s,f),i}function r0(i,s,a,l){return Tl(),s.flags|=256,ze(i,s,a,l),s.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(i){return{baseLanes:i,cachePool:Kv()}}function dm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Bn),i}function a0(i,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(Ie.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(jt){if(f?Os(s):Ps(),jt){var A=ue,D;if(D=A){t:{for(D=A,A=Ti;D.nodeType!==8;){if(!A){A=null;break t}if(D=Zn(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ur!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},D=En(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,cn=s,ue=null,D=!0):D=!1}D||zr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Qm(A)?s.lanes=32:s.lanes=536870912,null;Zi(s)}return A=l.children,l=l.fallback,f?(Ps(),f=s.mode,A=ah({mode:"hidden",children:A},f),l=kr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,f=s.child,f.memoizedState=fm(a),f.childLanes=dm(i,E,a),s.memoizedState=hm,l):(Os(s),mm(s,A))}if(D=i.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(p)s.flags&256?(Os(s),s.flags&=-257,s=pm(i,s,a)):s.memoizedState!==null?(Ps(),s.child=i.child,s.flags|=128,s=null):(Ps(),f=l.fallback,A=s.mode,l=ah({mode:"visible",children:l.children},A),f=kr(f,A,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Za(s,i.child,null,a),l=s.child,l.memoizedState=fm(a),l.childLanes=dm(i,E,a),s.memoizedState=hm,s=f);else if(Os(s),Qm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,l=Error(r(419)),l.stack="",l.digest=E,El({value:l,source:null,stack:null}),s=pm(i,s,a)}else if(Oe||Sl(i,s,a,!1),E=(a&i.childLanes)!==0,Oe||E){if(E=Wt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Es(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,za(i,l),Rn(E,i,l),W_;A.data==="$?"||Om(),s=pm(i,s,a)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,ue=Zn(A.nextSibling),cn=s,jt=!0,Br=null,Ti=!1,i!==null&&(kn[Un++]=$i,kn[Un++]=Yi,kn[Un++]=Ur,$i=i.id,Yi=i.overflow,Ur=s),s=mm(s,l.children),s.flags|=4096);return s}return f?(Ps(),f=l.fallback,A=s.mode,D=i.child,K=D.sibling,l=Ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=Ki(K,f):(f=kr(f,A,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,A=i.child.memoizedState,A===null?A=fm(a):(D=A.cachePool,D!==null?(K=De._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=Kv(),A={baseLanes:A.baseLanes|a,cachePool:D}),f.memoizedState=A,f.childLanes=dm(i,E,a),s.memoizedState=hm,l):(Os(s),a=i.child,i=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=a,s.memoizedState=null,a)}function mm(i,s){return s=ah({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ah(i,s){return i=En(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function pm(i,s,a){return Za(s,i.child,null,a),i=mm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function o0(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Od(i.return,s,a)}function gm(i,s,a,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function l0(i,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;if(ze(i,s,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o0(i,a,s);else if(i.tag===19)o0(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(lt(Ie,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&nh(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),gm(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&nh(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}gm(s,!0,a,null,p);break;case"together":gm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ji(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),js|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Sl(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Ki(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Ki(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function ym(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bc(i)))}function hC(i,s,a){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),xs(s,De,i.memoizedState.cache),Tl();break;case 27:case 5:Ts(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(s),s.flags|=128,null):(a&s.child.childLanes)!==0?a0(i,s,a):(Os(s),i=Ji(i,s,a),i!==null?i.sibling:null);Os(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Sl(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return l0(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Ie,Ie.current),l)break;return null;case 22:case 23:return s.lanes=0,e0(i,s,a);case 24:xs(s,De,i.memoizedState.cache)}return Ji(i,s,a)}function u0(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Oe=!0;else{if(!ym(i,a)&&(s.flags&128)===0)return Oe=!1,hC(i,s,a);Oe=(i.flags&131072)!==0}else Oe=!1,jt&&(s.flags&1048576)!==0&&jv(s,jc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Rd(l)?(i=Kr(l,i),s.tag=1,s=s0(null,s,l,i,a)):(s.tag=0,s=cm(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===et){s.tag=11,s=Z_(null,s,l,i,a);break t}else if(f===x){s.tag=14,s=J_(null,s,l,i,a);break t}}throw s=me(l)||l,Error(r(306,s,""))}}return s;case 0:return cm(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Kr(l,s.pendingProps),s0(i,s,l,f,a);case 3:t:{if(kt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Bd(i,s),Dl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,xs(s,De,l),l!==p.cache&&Pd(s,[De],a,!0),xl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=r0(i,s,l,a);break t}else if(l!==f){f=Vn(Error(r(424)),s),El(f),s=r0(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ue=Zn(i.firstChild),cn=s,jt=!0,Br=null,Ti=!0,a=z_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===f){s=Ji(i,s,a);break t}ze(i,s,l,a)}s=s.child}return s;case 26:return rh(i,s),i===null?(a=dT(s.type,null,s.pendingProps,null))?s.memoizedState=a:jt||(a=s.type,i=s.pendingProps,l=Th(yt.current).createElement(a),l[Re]=s,l[_e]=i,He(l,a,i),pe(l),s.stateNode=l):s.memoizedState=dT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ts(s),i===null&&jt&&(l=s.stateNode=cT(s.type,s.pendingProps,yt.current),cn=s,Ti=!0,f=ue,Hs(s.type)?(Wm=f,ue=Zn(l.firstChild)):ue=f),ze(i,s,s.pendingProps.children,a),rh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&jt&&((f=l=ue)&&(l=jC(l,s.type,s.pendingProps,Ti),l!==null?(s.stateNode=l,cn=s,ue=Zn(l.firstChild),Ti=!1,f=!0):f=!1),f||zr(s)),Ts(s),f=s.type,p=s.pendingProps,E=i!==null?i.memoizedProps:null,l=p.children,$m(f,p)?l=null:E!==null&&$m(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Kd(i,s,iC,null,null,a),Wl._currentValue=f),rh(i,s),ze(i,s,l,a),s.child;case 6:return i===null&&jt&&((i=a=ue)&&(a=BC(a,s.pendingProps,Ti),a!==null?(s.stateNode=a,cn=s,ue=null,i=!0):i=!1),i||zr(s)),null;case 13:return a0(i,s,a);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Za(s,null,l,a):ze(i,s,l,a),s.child;case 11:return Z_(i,s,s.type,s.pendingProps,a);case 7:return ze(i,s,s.pendingProps,a),s.child;case 8:return ze(i,s,s.pendingProps.children,a),s.child;case 12:return ze(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,xs(s,s.type,l.value),ze(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Hr(s),f=tn(f),l=l(f),s.flags|=1,ze(i,s,l,a),s.child;case 14:return J_(i,s,s.type,s.pendingProps,a);case 15:return t0(i,s,s.type,s.pendingProps,a);case 19:return l0(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=ah(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Ki(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return e0(i,s,a);case 24:return Hr(s),l=tn(De),i===null?(f=kd(),f===null&&(f=Wt,p=Vd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},jd(s),xs(s,De,f)):((i.lanes&a)!==0&&(Bd(i,s),Dl(s,null,null,a),xl()),f=i.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),xs(s,De,l)):(l=p.cache,xs(s,De,l),l!==f.cache&&Pd(s,[De],a,!0))),ze(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ts(i){i.flags|=4}function c0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vT(s)){if(s=jn.current,s!==null&&((Vt&4194048)===Vt?Ei!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||s!==Ei))throw Rl=Ud,$v;i.flags|=8192}}function oh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Jo():536870912,i.lanes|=s,no|=s)}function Ll(i,s){if(!jt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function oe(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function fC(i,s,a){var l=s.pendingProps;switch(Id(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Qi(De),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_l(s)?ts(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fv())),oe(s),null;case 26:return a=s.memoizedState,i===null?(ts(s),a!==null?(oe(s),c0(s,a)):(oe(s),s.flags&=-16777217)):a?a!==i.memoizedState?(ts(s),oe(s),c0(s,a)):(oe(s),s.flags&=-16777217):(i.memoizedProps!==l&&ts(s),oe(s),s.flags&=-16777217),null;case 27:Oi(s),a=yt.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}i=pt.current,_l(s)?Bv(s):(i=cT(f,l,a),s.stateNode=i,ts(s))}return oe(s),null;case 5:if(Oi(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(i=pt.current,_l(s))Bv(s);else{switch(f=Th(yt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[Re]=s,i[_e]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(He(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ts(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=yt.current,_l(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Re]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iT(i.nodeValue,a)),i||zr(s)}else i=Th(i).createTextNode(l),i[Re]=s,s.stateNode=i}return oe(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_l(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Re]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),f=!1}else f=Fv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Zi(s),s):(Zi(s),null)}if(Zi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),oh(s,s.updateQueue),oe(s),null;case 4:return Ze(),i===null&&Fm(s.stateNode.containerInfo),oe(s),null;case 10:return Qi(s.type),oe(s),null;case 19:if(ct(Ie),f=s.memoizedState,f===null)return oe(s),null;if(l=(s.flags&128)!==0,p=f.rendering,p===null)if(l)Ll(f,!1);else{if(ce!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=nh(i),p!==null){for(s.flags|=128,Ll(f,!1),i=p.updateQueue,s.updateQueue=i,oh(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Uv(a,i),a=a.sibling;return lt(Ie,Ie.current&1|2),s.child}i=i.sibling}f.tail!==null&&Dn()>ch&&(s.flags|=128,l=!0,Ll(f,!1),s.lanes=4194304)}else{if(!l)if(i=nh(p),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,oh(s,i),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!jt)return oe(s),null}else 2*Dn()-f.renderingStartTime>ch&&a!==536870912&&(s.flags|=128,l=!0,Ll(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(i=f.last,i!==null?i.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Dn(),s.sibling=null,i=Ie.current,lt(Ie,l?i&1|2:i&1),s):(oe(s),null);case 22:case 23:return Zi(s),qd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),a=s.updateQueue,a!==null&&oh(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&ct(qr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Qi(De),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dC(i,s){switch(Id(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Qi(De),Ze(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Oi(s),null;case 13:if(Zi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Tl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Ie),null;case 4:return Ze(),null;case 10:return Qi(s.type),null;case 22:case 23:return Zi(s),qd(),i!==null&&ct(qr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Qi(De),null;case 25:return null;default:return null}}function h0(i,s){switch(Id(s),s.tag){case 3:Qi(De),Ze();break;case 26:case 27:case 5:Oi(s);break;case 4:Ze();break;case 13:Zi(s);break;case 19:ct(Ie);break;case 10:Qi(s.type);break;case 22:case 23:Zi(s),qd(),i!==null&&ct(qr);break;case 24:Qi(De)}}function kl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function Vs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var D=a,K=A;try{K()}catch(J){Xt(f,D,J)}}}l=l.next}while(l!==p)}}catch(J){Xt(s,s.return,J)}}function f0(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Jv(s,a)}catch(l){Xt(i,i.return,l)}}}function d0(i,s,a){a.props=Kr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,s,l)}}function Ul(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,s,f)}}function Si(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,s,f)}else a.current=null}function m0(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function vm(i,s,a){try{var l=i.stateNode;PC(l,i.type,a,s),l[_e]=s}catch(f){Xt(i,i.return,f)}}function p0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hs(i.type)||i.tag===4}function _m(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||p0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=_h));else if(l!==4&&(l===27&&Hs(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Tm(i,s,a),i=i.sibling;i!==null;)Tm(i,s,a),i=i.sibling}function lh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Hs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(lh(i,s,a),i=i.sibling;i!==null;)lh(i,s,a),i=i.sibling}function g0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);He(s,l,a),s[Re]=i,s[_e]=a}catch(p){Xt(i,i.return,p)}}var es=!1,ye=!1,Em=!1,y0=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function mC(i,s){if(i=i.containerInfo,Gm=Rh,i=xv(i),_d(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,A=-1,D=-1,K=0,J=0,nt=i,$=null;e:for(;;){for(var X;nt!==a||f!==0&&nt.nodeType!==3||(A=E+f),nt!==p||l!==0&&nt.nodeType!==3||(D=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(X=nt.firstChild)!==null;)$=nt,nt=X;for(;;){if(nt===i)break e;if($===a&&++K===f&&(A=E),$===p&&++J===l&&(D=E),(X=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=X}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Km={focusedElem:i,selectionRange:a},Rh=!1,Pe=s;Pe!==null;)if(s=Pe,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Pe=i;else for(;Pe!==null;){switch(s=Pe,p=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Et=Kr(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Et,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Xm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pe=i;break}Pe=s.return}}function v0(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(i,a),l&4&&kl(5,a);break;case 1:if(Ls(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(E){Xt(a,a.return,E)}else{var f=Kr(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(a,a.return,E)}}l&64&&f0(a),l&512&&Ul(a,a.return);break;case 3:if(Ls(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Jv(i,s)}catch(E){Xt(a,a.return,E)}}break;case 27:s===null&&l&4&&g0(a);case 26:case 5:Ls(i,a),s===null&&l&4&&m0(a),l&512&&Ul(a,a.return);break;case 12:Ls(i,a);break;case 13:Ls(i,a),l&4&&E0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=AC.bind(null,a),zC(i,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){s=s!==null&&s.memoizedState!==null||ye,f=es;var p=ye;es=l,(ye=s)&&!p?ks(i,a,(a.subtreeFlags&8772)!==0):Ls(i,a),es=f,ye=p}break;case 30:break;default:Ls(i,a)}}function _0(i){var s=i.alternate;s!==null&&(i.alternate=null,_0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ee=null,dn=!1;function ns(i,s,a){for(a=a.child;a!==null;)T0(i,s,a),a=a.sibling}function T0(i,s,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:ye||Si(a,s),ns(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||Si(a,s);var l=ee,f=dn;Hs(a.type)&&(ee=a.stateNode,dn=!1),ns(i,s,a),$l(a.stateNode),ee=l,dn=f;break;case 5:ye||Si(a,s);case 6:if(l=ee,f=dn,ee=null,ns(i,s,a),ee=l,dn=f,ee!==null)if(dn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(p){Xt(a,s,p)}else try{ee.removeChild(a.stateNode)}catch(p){Xt(a,s,p)}break;case 18:ee!==null&&(dn?(i=ee,lT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),eu(i)):lT(ee,a.stateNode));break;case 4:l=ee,f=dn,ee=a.stateNode.containerInfo,dn=!0,ns(i,s,a),ee=l,dn=f;break;case 0:case 11:case 14:case 15:ye||Vs(2,a,s),ye||Vs(4,a,s),ns(i,s,a);break;case 1:ye||(Si(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d0(a,s,l)),ns(i,s,a);break;case 21:ns(i,s,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,ns(i,s,a),ye=l;break;default:ns(i,s,a)}}function E0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eu(i)}catch(a){Xt(s,s.return,a)}}function pC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new y0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new y0),s;default:throw Error(r(435,i.tag))}}function Sm(i,s){var a=pC(i);s.forEach(function(l){var f=bC.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function Sn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=i,E=s,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Hs(A.type)){ee=A.stateNode,dn=!1;break t}break;case 5:ee=A.stateNode,dn=!1;break t;case 3:case 4:ee=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(ee===null)throw Error(r(160));T0(p,E,f),ee=null,dn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)S0(s,i),s=s.sibling}var Wn=null;function S0(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(s,i),An(i),l&4&&(Vs(3,i,i.return),kl(3,i),Vs(5,i,i.return));break;case 1:Sn(s,i),An(i),l&512&&(ye||a===null||Si(a,a.return)),l&64&&es&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(Sn(s,i),An(i),l&512&&(ye||a===null||Si(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Er]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),He(p,l,a),p[Re]=i,pe(p),l=p;break t;case"link":var E=gT("link","href",f).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(p=E[A],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break e}}p=f.createElement(l),He(p,l,a),f.head.appendChild(p);break;case"meta":if(E=gT("meta","content",f).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(p=E[A],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break e}}p=f.createElement(l),He(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[Re]=i,pe(p),l=p}i.stateNode=l}else yT(f,i.type,i.stateNode);else i.stateNode=pT(f,l,i.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?yT(f,i.type,i.stateNode):pT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&vm(i,i.memoizedProps,a.memoizedProps)}break;case 27:Sn(s,i),An(i),l&512&&(ye||a===null||Si(a,a.return)),a!==null&&l&4&&vm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Sn(s,i),An(i),l&512&&(ye||a===null||Si(a,a.return)),i.flags&32){f=i.stateNode;try{Mn(f,"")}catch(X){Xt(i,i.return,X)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,vm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Em=!0);break;case 6:if(Sn(s,i),An(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(X){Xt(i,i.return,X)}}break;case 3:if(Ah=null,f=Wn,Wn=Eh(s.containerInfo),Sn(s,i),Wn=f,An(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(X){Xt(i,i.return,X)}Em&&(Em=!1,A0(i));break;case 4:l=Wn,Wn=Eh(i.stateNode.containerInfo),Sn(s,i),An(i),Wn=l;break;case 12:Sn(s,i),An(i);break;case 13:Sn(s,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xm=Dn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Sm(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=es,J=ye;if(es=K||f,ye=J||D,Sn(s,i),ye=J,es=K,An(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||es||ye||$r(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(p=D.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=D.stateNode;var nt=D.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){Xt(D,D.return,X)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(X){Xt(D,D.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sm(i,a))));break;case 19:Sn(s,i),An(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Sm(i,l)));break;case 30:break;case 21:break;default:Sn(s,i),An(i)}}function An(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(p0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=_m(i);lh(i,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Mn(E,""),a.flags&=-33);var A=_m(i);lh(i,A,E);break;case 3:case 4:var D=a.stateNode.containerInfo,K=_m(i);Tm(i,K,D);break;default:throw Error(r(161))}}catch(J){Xt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function A0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;A0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ls(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)v0(i,s.alternate,s),s=s.sibling}function $r(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),$r(s);break;case 1:Si(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&d0(s,s.return,a),$r(s);break;case 27:$l(s.stateNode);case 26:case 5:Si(s,s.return),$r(s);break;case 22:s.memoizedState===null&&$r(s);break;case 30:$r(s);break;default:$r(s)}i=i.sibling}}function ks(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:ks(f,p,a),kl(4,p);break;case 1:if(ks(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Xt(l,l.return,K)}if(l=p,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Zv(D[f],A)}catch(K){Xt(l,l.return,K)}}a&&E&64&&f0(p),Ul(p,p.return);break;case 27:g0(p);case 26:case 5:ks(f,p,a),a&&l===null&&E&4&&m0(p),Ul(p,p.return);break;case 12:ks(f,p,a);break;case 13:ks(f,p,a),a&&E&4&&E0(f,p);break;case 22:p.memoizedState===null&&ks(f,p,a),Ul(p,p.return);break;case 30:break;default:ks(f,p,a)}s=s.sibling}}function Am(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Al(a))}function bm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i))}function Ai(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b0(i,s,a,l),s=s.sibling}function b0(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(i,s,a,l),f&2048&&kl(9,s);break;case 1:Ai(i,s,a,l);break;case 3:Ai(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i)));break;case 12:if(f&2048){Ai(i,s,a,l),i=s.stateNode;try{var p=s.memoizedProps,E=p.id,A=p.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(s,s.return,D)}}else Ai(i,s,a,l);break;case 13:Ai(i,s,a,l);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Ai(i,s,a,l):jl(i,s):p._visibility&2?Ai(i,s,a,l):(p._visibility|=2,Ja(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Am(E,s);break;case 24:Ai(i,s,a,l),f&2048&&bm(s.alternate,s);break;default:Ai(i,s,a,l)}}function Ja(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=i,E=s,A=a,D=l,K=E.flags;switch(E.tag){case 0:case 11:case 15:Ja(p,E,A,D,f),kl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Ja(p,E,A,D,f):jl(p,E):(J._visibility|=2,Ja(p,E,A,D,f)),f&&K&2048&&Am(E.alternate,E);break;case 24:Ja(p,E,A,D,f),f&&K&2048&&bm(E.alternate,E);break;default:Ja(p,E,A,D,f)}s=s.sibling}}function jl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&Am(l.alternate,l);break;case 24:jl(a,l),f&2048&&bm(l.alternate,l);break;default:jl(a,l)}s=s.sibling}}var Bl=8192;function to(i){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)w0(i),i=i.sibling}function w0(i){switch(i.tag){case 26:to(i),i.flags&Bl&&i.memoizedState!==null&&tx(Wn,i.memoizedState,i.memoizedProps);break;case 5:to(i);break;case 3:case 4:var s=Wn;Wn=Eh(i.stateNode.containerInfo),to(i),Wn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,to(i),Bl=s):to(i));break;default:to(i)}}function R0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pe=l,x0(l,i)}R0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C0(i),i=i.sibling}function C0(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,uh(i)):zl(i);break;default:zl(i)}}function uh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pe=l,x0(l,i)}R0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),uh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,uh(s));break;default:uh(s)}i=i.sibling}}function x0(i,s){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Vs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=i;Pe!==null;){l=Pe;var f=l.sibling,p=l.return;if(_0(l),l===a){Pe=null;break t}if(f!==null){f.return=p,Pe=f;break t}Pe=p}}}var gC={getCacheForType:function(i){var s=tn(De),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},yC=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Vt=0,qt=0,bn=null,Us=!1,eo=!1,wm=!1,is=0,ce=0,js=0,Yr=0,Rm=0,Bn=0,no=0,Fl=null,mn=null,Cm=!1,xm=0,ch=1/0,hh=null,Bs=null,Fe=0,zs=null,io=null,so=0,Dm=0,Im=null,D0=null,Hl=0,Mm=null;function wn(){if((Ht&2)!==0&&Vt!==0)return Vt&-Vt;if(Z.T!==null){var i=Ga;return i!==0?i:Um()}return Ss()}function I0(){Bn===0&&(Bn=(Vt&536870912)===0||jt?Zo():536870912);var i=jn.current;return i!==null&&(i.flags|=32),Bn}function Rn(i,s,a){(i===Wt&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(ro(i,0),Fs(i,Vt,Bn,!1)),Vi(i,a),((Ht&2)===0||i!==Wt)&&(i===Wt&&((Ht&2)===0&&(Yr|=a),ce===4&&Fs(i,Vt,Bn,!1)),bi(i))}function M0(i,s,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Tr(i,s),f=l?TC(i,s):Pm(i,s,!0),p=l;do{if(f===0){eo&&!l&&Fs(i,s,0,!1);break}else{if(a=i.current.alternate,p&&!vC(a)){f=Pm(i,s,!1),p=!1;continue}if(f===2){if(p=s,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var A=i;f=Fl;var D=A.current.memoizedState.isDehydrated;if(D&&(ro(A,E).flags|=256),E=Pm(A,E,!1),E!==2){if(wm&&!D){A.errorRecoveryDisabledLanes|=p,Yr|=p,f=4;break t}p=mn,mn=f,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){ro(i,0),Fs(i,s,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(l,s,Bn,!Us);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=xm+300-Dn(),10<f)){if(Fs(l,s,Bn,!Us),Sa(l,0,!0)!==0)break t;l.timeoutHandle=aT(N0.bind(null,l,a,mn,hh,Cm,s,Bn,Yr,no,Us,p,2,-0,0),f);break t}N0(l,a,mn,hh,Cm,s,Bn,Yr,no,Us,p,0,-0,0)}}break}while(!0);bi(i)}function N0(i,s,a,l,f,p,E,A,D,K,J,nt,$,X){if(i.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:JC},w0(s),nt=ex(),nt!==null)){i.cancelPendingCommit=nt(j0.bind(null,i,s,p,a,l,f,E,A,D,J,1,$,X)),Fs(i,p,E,!K);return}j0(i,s,p,a,l,f,E,A,D)}function vC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Tn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(i,s,a,l){s&=~Rm,s&=~Yr,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var p=31-Je(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&ui(i,a,s)}function fh(){return(Ht&6)===0?(ql(0),!1):!0}function Nm(){if(It!==null){if(qt===0)var i=It.return;else i=It,Xi=Fr=null,Xd(i),Wa=null,Pl=0,i=It;for(;i!==null;)h0(i.alternate,i),i=i.return;It=null}}function ro(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,LC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Nm(),Wt=i,It=a=Ki(i.current,null),Vt=s,qt=0,bn=null,Us=!1,eo=Tr(i,s),wm=!1,no=Bn=Rm=Yr=js=ce=0,mn=Fl=null,Cm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-Je(l),p=1<<f;s|=i[f],l&=~p}return is=s,Pc(),a}function O0(i,s){Ct=null,Z.H=Jc,s===wl||s===Hc?(s=Qv(),qt=3):s===$v?(s=Qv(),qt=4):qt=s===W_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,It===null&&(ce=1,sh(i,Vn(s,i.current)))}function P0(){var i=Z.H;return Z.H=Jc,i===null?Jc:i}function V0(){var i=Z.A;return Z.A=gC,i}function Om(){ce=4,Us||(Vt&4194048)!==Vt&&jn.current!==null||(eo=!0),(js&134217727)===0&&(Yr&134217727)===0||Wt===null||Fs(Wt,Vt,Bn,!1)}function Pm(i,s,a){var l=Ht;Ht|=2;var f=P0(),p=V0();(Wt!==i||Vt!==s)&&(hh=null,ro(i,s)),s=!1;var E=ce;t:do try{if(qt!==0&&It!==null){var A=It,D=bn;switch(qt){case 8:Nm(),E=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var K=qt;if(qt=0,bn=null,ao(i,A,D,K),a&&eo){E=0;break t}break;default:K=qt,qt=0,bn=null,ao(i,A,D,K)}}_C(),E=ce;break}catch(J){O0(i,J)}while(!0);return s&&i.shellSuspendCounter++,Xi=Fr=null,Ht=l,Z.H=f,Z.A=p,It===null&&(Wt=null,Vt=0,Pc()),E}function _C(){for(;It!==null;)L0(It)}function TC(i,s){var a=Ht;Ht|=2;var l=P0(),f=V0();Wt!==i||Vt!==s?(hh=null,ch=Dn()+500,ro(i,s)):eo=Tr(i,s);t:do try{if(qt!==0&&It!==null){s=It;var p=bn;e:switch(qt){case 1:qt=0,bn=null,ao(i,s,p,1);break;case 2:case 9:if(Yv(p)){qt=0,bn=null,k0(s);break}s=function(){qt!==2&&qt!==9||Wt!==i||(qt=7),bi(i)},p.then(s,s);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Yv(p)?(qt=0,bn=null,k0(s)):(qt=0,bn=null,ao(i,s,p,7));break;case 5:var E=null;switch(It.tag){case 26:E=It.memoizedState;case 5:case 27:var A=It;if(!E||vT(E)){qt=0,bn=null;var D=A.sibling;if(D!==null)It=D;else{var K=A.return;K!==null?(It=K,dh(K)):It=null}break e}}qt=0,bn=null,ao(i,s,p,5);break;case 6:qt=0,bn=null,ao(i,s,p,6);break;case 8:Nm(),ce=6;break t;default:throw Error(r(462))}}EC();break}catch(J){O0(i,J)}while(!0);return Xi=Fr=null,Z.H=l,Z.A=f,Ht=a,It!==null?0:(Wt=null,Vt=0,Pc(),ce)}function EC(){for(;It!==null&&!Yo();)L0(It)}function L0(i){var s=u0(i.alternate,i,is);i.memoizedProps=i.pendingProps,s===null?dh(i):It=s}function k0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=i0(a,s,s.pendingProps,s.type,void 0,Vt);break;case 11:s=i0(a,s,s.pendingProps,s.type.render,s.ref,Vt);break;case 5:Xd(s);default:h0(a,s),s=It=Uv(s,is),s=u0(a,s,is)}i.memoizedProps=i.pendingProps,s===null?dh(i):It=s}function ao(i,s,a,l){Xi=Fr=null,Xd(s),Wa=null,Pl=0;var f=s.return;try{if(cC(i,f,s,a,Vt)){ce=1,sh(i,Vn(a,i.current)),It=null;return}}catch(p){if(f!==null)throw It=f,p;ce=1,sh(i,Vn(a,i.current)),It=null;return}s.flags&32768?(jt||l===1?i=!0:eo||(Vt&536870912)!==0?i=!1:(Us=i=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U0(s,i)):dh(s)}function dh(i){var s=i;do{if((s.flags&32768)!==0){U0(s,Us);return}i=s.return;var a=fC(s.alternate,s,is);if(a!==null){It=a;return}if(s=s.sibling,s!==null){It=s;return}It=s=i}while(s!==null);ce===0&&(ce=5)}function U0(i,s){do{var a=dC(i.alternate,i);if(a!==null){a.flags&=32767,It=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){It=i;return}It=i=a}while(i!==null);ce=6,It=null}function j0(i,s,a,l,f,p,E,A,D){i.cancelPendingCommit=null;do mh();while(Fe!==0);if((Ht&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=bd,tl(i,a,p,E,A,D),i===Wt&&(It=Wt=null,Vt=0),io=s,zs=i,so=a,Dm=p,Im=f,D0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wC(gr,function(){return q0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=at.p,at.p=2,E=Ht,Ht|=4;try{mC(i,s,a)}finally{Ht=E,at.p=f,Z.T=l}}Fe=1,B0(),z0(),F0()}}function B0(){if(Fe===1){Fe=0;var i=zs,s=io,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=at.p;at.p=2;var f=Ht;Ht|=4;try{S0(s,i);var p=Km,E=xv(i.containerInfo),A=p.focusedElem,D=p.selectionRange;if(E!==A&&A&&A.ownerDocument&&Cv(A.ownerDocument.documentElement,A)){if(D!==null&&_d(A)){var K=D.start,J=D.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var nt=A.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var X=$.getSelection(),Et=A.textContent.length,vt=Math.min(D.start,Et),Yt=D.end===void 0?vt:Math.min(D.end,Et);!X.extend&&vt>Yt&&(E=Yt,Yt=vt,vt=E);var B=Rv(A,vt),L=Rv(A,Yt);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var G=nt.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),vt>Yt?(X.addRange(G),X.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),X.addRange(G))}}}}for(nt=[],X=A;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var tt=nt[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Rh=!!Gm,Km=Gm=null}finally{Ht=f,at.p=l,Z.T=a}}i.current=s,Fe=2}}function z0(){if(Fe===2){Fe=0;var i=zs,s=io,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=at.p;at.p=2;var f=Ht;Ht|=4;try{v0(i,s.alternate,s)}finally{Ht=f,at.p=l,Z.T=a}}Fe=3}}function F0(){if(Fe===4||Fe===3){Fe=0,uc();var i=zs,s=io,a=so,l=D0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fe=5:(Fe=0,io=zs=null,H0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Bs=null),Aa(a),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(le,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Z.T,f=at.p,at.p=2,Z.T=null;try{for(var p=i.onRecoverableError,E=0;E<l.length;E++){var A=l[E];p(A.value,{componentStack:A.stack})}}finally{Z.T=s,at.p=f}}(so&3)!==0&&mh(),bi(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===Mm?Hl++:(Hl=0,Mm=i):Hl=0,ql(0)}}function H0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Al(s)))}function mh(i){return B0(),z0(),F0(),q0()}function q0(){if(Fe!==5)return!1;var i=zs,s=Dm;Dm=0;var a=Aa(so),l=Z.T,f=at.p;try{at.p=32>a?32:a,Z.T=null,a=Im,Im=null;var p=zs,E=so;if(Fe=0,io=zs=null,so=0,(Ht&6)!==0)throw Error(r(331));var A=Ht;if(Ht|=4,C0(p.current),b0(p,p.current,E,a),Ht=A,ql(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(le,p)}catch{}return!0}finally{at.p=f,Z.T=l,H0(i,s)}}function G0(i,s,a){s=Vn(a,s),s=um(i.stateNode,s,2),i=Ms(i,s,2),i!==null&&(Vi(i,2),bi(i))}function Xt(i,s,a){if(i.tag===3)G0(i,i,a);else for(;s!==null;){if(s.tag===3){G0(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){i=Vn(a,i),a=X_(2),l=Ms(s,a,2),l!==null&&(Q_(a,l,s,i),Vi(l,2),bi(l));break}}s=s.return}}function Vm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new yC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(wm=!0,f.add(a),i=SC.bind(null,i,s,a),s.then(i,i))}function SC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Wt===i&&(Vt&a)===a&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>Dn()-xm?(Ht&2)===0&&ro(i,0):Rm|=a,no===Vt&&(no=0)),bi(i)}function K0(i,s){s===0&&(s=Jo()),i=za(i,s),i!==null&&(Vi(i,s),bi(i))}function AC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),K0(i,a)}function bC(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),K0(i,a)}function wC(i,s){return mr(i,s)}var ph=null,oo=null,Lm=!1,gh=!1,km=!1,Xr=0;function bi(i){i!==oo&&i.next===null&&(oo===null?ph=oo=i:oo=oo.next=i),gh=!0,Lm||(Lm=!0,CC())}function ql(i,s){if(!km&&gh){km=!0;do for(var a=!1,l=ph;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,A=l.pingedLanes;p=(1<<31-Je(42|i)+1)-1,p&=f&~(E&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Q0(l,p))}else p=Vt,p=Sa(l,l===Wt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Tr(l,p)||(a=!0,Q0(l,p));l=l.next}while(a);km=!1}}function RC(){$0()}function $0(){gh=Lm=!1;var i=0;Xr!==0&&(VC()&&(i=Xr),Xr=0);for(var s=Dn(),a=null,l=ph;l!==null;){var f=l.next,p=Y0(l,s);p===0?(l.next=null,a===null?ph=f:a.next=f,f===null&&(oo=a)):(a=l,(i!==0||(p&3)!==0)&&(gh=!0)),l=f}ql(i)}function Y0(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-Je(p),A=1<<E,D=f[E];D===-1?((A&a)===0||(A&l)!==0)&&(f[E]=Wo(A,s)):D<=s&&(i.expiredLanes|=A),p&=~A}if(s=Wt,a=Vt,a=Sa(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Tr(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&pr(l),Aa(a)){case 2:case 8:a=Ta;break;case 32:a=gr;break;case 268435456:a=Ea;break;default:a=gr}return l=X0.bind(null,i),a=mr(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&pr(l),i.callbackPriority=2,i.callbackNode=null,2}function X0(i,s){if(Fe!==0&&Fe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(mh()&&i.callbackNode!==a)return null;var l=Vt;return l=Sa(i,i===Wt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(M0(i,l,s),Y0(i,Dn()),i.callbackNode!=null&&i.callbackNode===a?X0.bind(null,i):null)}function Q0(i,s){if(mh())return null;M0(i,s,!0)}function CC(){kC(function(){(Ht&6)!==0?mr(Xo,RC):$0()})}function Um(){return Xr===0&&(Xr=Zo()),Xr}function W0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Da(""+i)}function Z0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function xC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=W0((f[_e]||null).action),E=l.submitter;E&&(s=(s=E[_e]||null)?W0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var A=new Ia("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var D=E?Z0(f,E):new FormData(f);sm(a,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(A.preventDefault(),D=E?Z0(f,E):new FormData(f),sm(a,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var jm=0;jm<Ad.length;jm++){var Bm=Ad[jm],DC=Bm.toLowerCase(),IC=Bm[0].toUpperCase()+Bm.slice(1);Qn(DC,"on"+IC)}Qn(Mv,"onAnimationEnd"),Qn(Nv,"onAnimationIteration"),Qn(Ov,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn($R,"onTransitionRun"),Qn(YR,"onTransitionStart"),Qn(XR,"onTransitionCancel"),Qn(Pv,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function J0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var A=l[E],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=K;try{p(f)}catch(J){ih(J)}f.currentTarget=null,p=D}else for(E=0;E<l.length;E++){if(A=l[E],D=A.instance,K=A.currentTarget,A=A.listener,D!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=K;try{p(f)}catch(J){ih(J)}f.currentTarget=null,p=D}}}}function Mt(i,s){var a=s[nl];a===void 0&&(a=s[nl]=new Set);var l=i+"__bubble";a.has(l)||(tT(s,i,2,!1),a.add(l))}function zm(i,s,a){var l=0;s&&(l|=4),tT(a,i,l,s)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Fm(i){if(!i[yh]){i[yh]=!0,il.forEach(function(a){a!=="selectionchange"&&(MC.has(a)||zm(a,!1,i),zm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[yh]||(s[yh]=!0,zm("selectionchange",!1,s))}}function tT(i,s,a,l){switch(bT(s)){case 2:var f=sx;break;case 8:f=rx;break;default:f=np}a=f.bind(null,s,a,i),f=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Hm(i,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Li(A),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=p=E;continue t}A=A.parentNode}}l=l.return}_c(function(){var K=p,J=Nn(a),nt=[];t:{var $=Vv.get(i);if($!==void 0){var X=Ia,Et=i;switch(i){case"keypress":if(pi(a)===0)break t;case"keydown":case"keyup":X=La;break;case"focusin":Et="focus",X=Oa;break;case"focusout":Et="blur",X=Oa;break;case"beforeblur":case"afterblur":X=Oa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Cc;break;case Mv:case Nv:case Ov:X=Pa;break;case Pv:X=Dc;break;case"scroll":case"scrollend":X=Tc;break;case"wheel":X=ka;break;case"copy":case"cut":case"paste":X=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=pl;break;case"toggle":case"beforetoggle":X=Mc}var vt=(s&4)!==0,Yt=!vt&&(i==="scroll"||i==="scrollend"),B=vt?$!==null?$+"Capture":null:$;vt=[];for(var L=K,G;L!==null;){var tt=L;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||B===null||(tt=xr(L,B),tt!=null&&vt.push(Kl(L,tt,G))),Yt)break;L=L.return}0<vt.length&&($=new X($,Et,null,a,J),nt.push({event:$,listeners:vt}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&a!==Bi&&(Et=a.relatedTarget||a.fromElement)&&(Li(Et)||Et[In]))break t;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Et=a.relatedTarget||a.toElement,X=K,Et=Et?Li(Et):null,Et!==null&&(Yt=u(Et),vt=Et.tag,Et!==Yt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(X=null,Et=K),X!==Et)){if(vt=Pn,tt="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(vt=pl,tt="onPointerLeave",B="onPointerEnter",L="pointer"),Yt=X==null?$:hi(X),G=Et==null?$:hi(Et),$=new vt(tt,L+"leave",X,a,J),$.target=Yt,$.relatedTarget=G,tt=null,Li(J)===K&&(vt=new vt(B,L+"enter",Et,a,J),vt.target=G,vt.relatedTarget=Yt,tt=vt),Yt=tt,X&&Et)e:{for(vt=X,B=Et,L=0,G=vt;G;G=lo(G))L++;for(G=0,tt=B;tt;tt=lo(tt))G++;for(;0<L-G;)vt=lo(vt),L--;for(;0<G-L;)B=lo(B),G--;for(;L--;){if(vt===B||B!==null&&vt===B.alternate)break e;vt=lo(vt),B=lo(B)}vt=null}else vt=null;X!==null&&eT(nt,$,X,vt,!1),Et!==null&&Yt!==null&&eT(nt,Yt,Et,vt,!0)}}t:{if($=K?hi(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var ft=Tv;else if(xe($))if(Ev)ft=qR;else{ft=FR;var Dt=zR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&ll(K.elementType)&&(ft=Tv):ft=HR;if(ft&&(ft=ft(i,K))){Gi(nt,ft,a,J);break t}Dt&&Dt(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Rs($,"number",$.value)}switch(Dt=K?hi(K):window,i){case"focusin":(xe(Dt)||Dt.contentEditable==="true")&&(Ua=Dt,Td=K,vl=null);break;case"focusout":vl=Td=Ua=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Dv(nt,a,J);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Dv(nt,a,J)}var mt;if(vi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?Q(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(mt=cl()):(mi=J,Cs="value"in mi?mi.value:mi.textContent,Ot=!0)),Dt=vh(K,_t),0<Dt.length&&(_t=new dl(_t,i,null,a,J),nt.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=ut(a),mt!==null&&(_t.data=mt)))),(mt=v?Ce(i,a):Pt(i,a))&&(_t=vh(K,"onBeforeInput"),0<_t.length&&(Dt=new dl("onBeforeInput","beforeinput",null,a,J),nt.push({event:Dt,listeners:_t}),Dt.data=mt)),xC(nt,i,K,a,J)}J0(nt,s)})}function Kl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function vh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=xr(i,a),f!=null&&l.unshift(Kl(i,f,p)),f=xr(i,s),f!=null&&l.push(Kl(i,f,p))),i.tag===3)return l;i=i.return}return[]}function lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function eT(i,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var A=a,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=xr(a,p),K!=null&&E.unshift(Kl(a,K,D))):f||(K=xr(a,p),K!=null&&E.push(Kl(a,K,D)))),a=a.return}E.length!==0&&i.push({event:s,listeners:E})}var NC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function nT(i){return(typeof i=="string"?i:""+i).replace(NC,`
`).replace(OC,"")}function iT(i,s){return s=nT(s),nT(i)===s}function _h(){}function $t(i,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Mn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Mn(i,""+l);break;case"className":fi(i,"class",l);break;case"tabIndex":fi(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,a,l);break;case"style":ol(i,l,p);break;case"data":if(s!=="object"){fi(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Da(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&$t(i,s,"name",f.name,f,null),$t(i,s,"formEncType",f.formEncType,f,null),$t(i,s,"formMethod",f.formMethod,f,null),$t(i,s,"formTarget",f.formTarget,f,null)):($t(i,s,"encType",f.encType,f,null),$t(i,s,"method",f.method,f,null),$t(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Da(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=_h);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Da(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),ws(i,"popover",l);break;case"xlinkActuate":je(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dd.get(a)||a,ws(i,a,l))}}function qm(i,s,a,l,f,p){switch(a){case"style":ol(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Mn(i,l):(typeof l=="number"||typeof l=="bigint")&&Mn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=i[_e]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):ws(i,a,l)}}}function He(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(i,s,p,E,a,null)}}f&&$t(i,s,"srcSet",a.srcSet,a,null),l&&$t(i,s,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=p=E=f=null,D=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":K=J;break;case"value":p=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:$t(i,s,l,J,a,null)}}wr(i,p,A,D,K,E,f,!1),xa(i);return;case"select":Mt("invalid",i),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:$t(i,s,f,A,a,null)}s=p,a=E,i.multiple=!!l,s!=null?ji(i,!!l,s,!1):a!=null&&ji(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:$t(i,s,E,A,a,null)}Rr(i,l,f,p),xa(i);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(i,s,D,l,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Mt(Gl[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(i,s,K,l,a,null)}return;default:if(ll(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&qm(i,s,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&$t(i,s,A,l,a,null))}function PC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,A=null,D=null,K=null,J=null;for(X in a){var nt=a[X];if(a.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(X)||$t(i,s,X,null,l,nt)}}for(var $ in l){var X=l[$];if(nt=a[$],l.hasOwnProperty($)&&(X!=null||nt!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==nt&&$t(i,s,$,X,l,nt)}}_n(i,E,A,D,K,J,p,f);return;case"select":X=E=A=$=null;for(p in a)if(D=a[p],a.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(p)||$t(i,s,p,null,l,D)}for(f in l)if(p=l[f],D=a[f],l.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":$=p;break;case"defaultValue":A=p;break;case"multiple":E=p;default:p!==D&&$t(i,s,f,p,l,D)}s=A,a=E,l=X,$!=null?ji(i,!!a,$,!1):!!l!=!!a&&(s!=null?ji(i,!!a,s,!0):ji(i,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$t(i,s,A,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&$t(i,s,E,f,l,p)}Gt(i,$,X);return;case"option":for(var Et in a)if($=a[Et],a.hasOwnProperty(Et)&&$!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:$t(i,s,Et,null,l,$)}for(D in l)if($=l[D],X=a[D],l.hasOwnProperty(D)&&$!==X&&($!=null||X!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:$t(i,s,D,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)$=a[vt],a.hasOwnProperty(vt)&&$!=null&&!l.hasOwnProperty(vt)&&$t(i,s,vt,null,l,$);for(K in l)if($=l[K],X=a[K],l.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$t(i,s,K,$,l,X)}return;default:if(ll(s)){for(var Yt in a)$=a[Yt],a.hasOwnProperty(Yt)&&$!==void 0&&!l.hasOwnProperty(Yt)&&qm(i,s,Yt,void 0,l,$);for(J in l)$=l[J],X=a[J],!l.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||qm(i,s,J,$,l,X);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&$t(i,s,B,null,l,$);for(nt in l)$=l[nt],X=a[nt],!l.hasOwnProperty(nt)||$===X||$==null&&X==null||$t(i,s,nt,$,l,X)}var Gm=null,Km=null;function Th(i){return i.nodeType===9?i:i.ownerDocument}function sT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function $m(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ym=null;function VC(){var i=window.event;return i&&i.type==="popstate"?i===Ym?!1:(Ym=i,!0):(Ym=null,!1)}var aT=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(i){return oT.resolve(null).then(i).catch(UC)}:aT;function UC(i){setTimeout(function(){throw i})}function Hs(i){return i==="head"}function lT(i,s){var a=s,l=0,f=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=i.ownerDocument;if(a&1&&$l(E.documentElement),a&2&&$l(E.body),a&4)for(a=E.head,$l(a),E=a.firstChild;E;){var A=E.nextSibling,D=E.nodeName;E[Er]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(f===0){i.removeChild(p),eu(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);eu(s)}function Xm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xm(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function jC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Er])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function BC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Zn(i.nextSibling),i===null))return null;return i}function Qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function zC(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Zn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Wm=null;function uT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function cT(i,s,a){switch(s=Th(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $l(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);bs(i)}var zn=new Map,hT=new Set;function Eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ss=at.d;at.d={f:FC,r:HC,D:qC,C:GC,L:KC,m:$C,X:XC,S:YC,M:QC};function FC(){var i=ss.f(),s=fh();return i||s}function HC(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?M_(s):ss.r(i)}var uo=typeof document>"u"?null:document;function fT(i,s,a){var l=uo;if(l&&typeof s=="string"&&s){var f=Te(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),hT.has(f)||(hT.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),He(s,"link",i),pe(s),l.head.appendChild(s)))}}function qC(i){ss.D(i),fT("dns-prefetch",i,null)}function GC(i,s){ss.C(i,s),fT("preconnect",i,s)}function KC(i,s,a){ss.L(i,s,a);var l=uo;if(l&&i&&s){var f='link[rel="preload"][as="'+Te(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Te(a.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var p=f;switch(s){case"style":p=co(i);break;case"script":p=ho(i)}zn.has(p)||(i=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),zn.set(p,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(p))||s==="script"&&l.querySelector(Xl(p))||(s=l.createElement("link"),He(s,"link",i),pe(s),l.head.appendChild(s)))}}function $C(i,s){ss.m(i,s);var a=uo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ho(i)}if(!zn.has(p)&&(i=y({rel:"modulepreload",href:i},s),zn.set(p,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(p)))return}l=a.createElement("link"),He(l,"link",i),pe(l),a.head.appendChild(l)}}}function YC(i,s,a){ss.S(i,s,a);var l=uo;if(l&&i){var f=on(l).hoistableStyles,p=co(i);s=s||"default";var E=f.get(p);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(Yl(p)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},a),(a=zn.get(p))&&Zm(i,a);var D=E=l.createElement("link");pe(D),He(D,"link",i),D._p=new Promise(function(K,J){D.onload=K,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sh(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(p,E)}}}function XC(i,s){ss.X(i,s);var a=uo;if(a&&i){var l=on(a).hoistableScripts,f=ho(i),p=l.get(f);p||(p=a.querySelector(Xl(f)),p||(i=y({src:i,async:!0},s),(s=zn.get(f))&&Jm(i,s),p=a.createElement("script"),pe(p),He(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function QC(i,s){ss.M(i,s);var a=uo;if(a&&i){var l=on(a).hoistableScripts,f=ho(i),p=l.get(f);p||(p=a.querySelector(Xl(f)),p||(i=y({src:i,async:!0,type:"module"},s),(s=zn.get(f))&&Jm(i,s),p=a.createElement("script"),pe(p),He(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function dT(i,s,a,l){var f=(f=yt.current)?Eh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=co(a.href),a=on(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=co(a.href);var p=on(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(Yl(i)))&&!p._p&&(E.instance=p,E.state.loading=5),zn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(i,a),p||WC(f,i,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ho(a),a=on(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function co(i){return'href="'+Te(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function mT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function WC(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),He(s,"link",a),pe(s),i.head.appendChild(s))}function ho(i){return'[src="'+Te(i)+'"]'}function Xl(i){return"script[async]"+i}function pT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return s.instance=l,pe(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),He(l,"style",f),Sh(l,a.precedence,i),s.instance=l;case"stylesheet":f=co(a.href);var p=i.querySelector(Yl(f));if(p)return s.state.loading|=4,s.instance=p,pe(p),p;l=mT(a),(f=zn.get(f))&&Zm(l,f),p=(i.ownerDocument||i).createElement("link"),pe(p);var E=p;return E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),He(p,"link",l),s.state.loading|=4,Sh(p,a.precedence,i),s.instance=p;case"script":return p=ho(a.src),(f=i.querySelector(Xl(p)))?(s.instance=f,pe(f),f):(l=a,(f=zn.get(p))&&(l=y({},a),Jm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),He(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Sh(l,a.precedence,i));return s.instance}function Sh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===s)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Zm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Jm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ah=null;function gT(i,s,a){if(Ah===null){var l=new Map,f=Ah=new Map;f.set(a,l)}else f=Ah,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var p=a[f];if(!(p[Er]||p[Re]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=i+E;var A=l.get(E);A?A.push(p):l.set(E,[p])}}return l}function yT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function ZC(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ql=null;function JC(){}function tx(i,s,a){if(Ql===null)throw Error(r(475));var l=Ql;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=co(a.href),p=i.querySelector(Yl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=bh.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=p,pe(p);return}p=i.ownerDocument||i,a=mT(a),(f=zn.get(f))&&Zm(a,f),p=p.createElement("link"),pe(p);var E=p;E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),He(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=bh.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function ex(){if(Ql===null)throw Error(r(475));var i=Ql;return i.stylesheets&&i.count===0&&tp(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&tp(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wh=null;function tp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wh=new Map,s.forEach(nx,i),wh=null,bh.call(i))}function nx(i,s){if(!(s.state.loading&4)){var a=wh.get(i);if(a)var l=a.get(null);else{a=new Map,wh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=bh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Wl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ix(i,s,a,l,f,p,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function _T(i,s,a,l,f,p,E,A,D,K,J,nt){return i=new ix(i,s,a,E,A,D,K,nt),s=1,p===!0&&(s|=24),p=En(3,null,null,s),i.current=p,p.stateNode=i,s=Vd(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},jd(p),i}function TT(i){return i?(i=Fa,i):Fa}function ET(i,s,a,l,f,p){f=TT(f),l.context===null?l.context=f:l.pendingContext=f,l=Is(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ms(i,l,s),a!==null&&(Rn(a,i,s),Cl(a,i,s))}function ST(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function ep(i,s){ST(i,s),(i=i.alternate)&&ST(i,s)}function AT(i){if(i.tag===13){var s=za(i,67108864);s!==null&&Rn(s,i,67108864),ep(i,67108864)}}var Rh=!0;function sx(i,s,a,l){var f=Z.T;Z.T=null;var p=at.p;try{at.p=2,np(i,s,a,l)}finally{at.p=p,Z.T=f}}function rx(i,s,a,l){var f=Z.T;Z.T=null;var p=at.p;try{at.p=8,np(i,s,a,l)}finally{at.p=p,Z.T=f}}function np(i,s,a,l){if(Rh){var f=ip(l);if(f===null)Hm(i,s,l,Ch,a),wT(i,l);else if(ox(f,i,s,a,l))l.stopPropagation();else if(wT(i,l),s&4&&-1<ax.indexOf(i)){for(;f!==null;){var p=ci(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=$n(p.pendingLanes);if(E!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var D=1<<31-Je(E);A.entanglements[1]|=D,E&=~D}bi(p),(Ht&6)===0&&(ch=Dn()+500,ql(0))}}break;case 13:A=za(p,2),A!==null&&Rn(A,p,2),fh(),ep(p,2)}if(p=ip(l),p===null&&Hm(i,s,l,Ch,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Hm(i,s,l,null,a)}}function ip(i){return i=Nn(i),sp(i)}var Ch=null;function sp(i){if(Ch=null,i=Li(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ch=i,null}function bT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(od()){case Xo:return 2;case Ta:return 8;case gr:case ld:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var rp=!1,qs=null,Gs=null,Ks=null,Zl=new Map,Jl=new Map,$s=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wT(i,s){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function tu(i,s,a,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=ci(s),s!==null&&AT(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function ox(i,s,a,l,f){switch(s){case"focusin":return qs=tu(qs,i,s,a,l,f),!0;case"dragenter":return Gs=tu(Gs,i,s,a,l,f),!0;case"mouseover":return Ks=tu(Ks,i,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Zl.set(p,tu(Zl.get(p)||null,i,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Jl.set(p,tu(Jl.get(p)||null,i,s,a,l,f)),!0}return!1}function RT(i){var s=Li(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,fc(i.priority,function(){if(a.tag===13){var l=wn();l=Es(l);var f=za(a,l);f!==null&&Rn(f,a,l),ep(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=ip(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return s=ci(a),s!==null&&AT(s),i.blockedOn=a,!1;s.shift()}return!0}function CT(i,s,a){xh(i)&&a.delete(s)}function lx(){rp=!1,qs!==null&&xh(qs)&&(qs=null),Gs!==null&&xh(Gs)&&(Gs=null),Ks!==null&&xh(Ks)&&(Ks=null),Zl.forEach(CT),Jl.forEach(CT)}function Dh(i,s){i.blockedOn===s&&(i.blockedOn=null,rp||(rp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lx)))}var Ih=null;function xT(i){Ih!==i&&(Ih=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ih===i&&(Ih=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(sp(l||a)===null)continue;break}var p=ci(a);p!==null&&(i.splice(s,3),s-=3,sm(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eu(i){function s(D){return Dh(D,i)}qs!==null&&Dh(qs,i),Gs!==null&&Dh(Gs,i),Ks!==null&&Dh(Ks,i),Zl.forEach(s),Jl.forEach(s);for(var a=0;a<$s.length;a++){var l=$s[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)RT(a),a.blockedOn===null&&$s.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[_e]||null;if(typeof p=="function")E||xT(a);else if(E){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[_e]||null)A=E.formAction;else if(sp(f)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),xT(a)}}}function ap(i){this._internalRoot=i}Mh.prototype.render=ap.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=wn();ET(a,l,i,s,null,null)},Mh.prototype.unmount=ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ET(i.current,2,null,i,null,null),fh(),s[In]=null}};function Mh(i){this._internalRoot=i}Mh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ss();i={blockedOn:null,target:i,priority:s};for(var a=0;a<$s.length&&s!==0&&s<$s[a].priority;a++);$s.splice(a,0,i),a===0&&RT(i)}};var DT=t.version;if(DT!=="19.1.1")throw Error(r(527,DT,"19.1.1"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var ux={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{le=Nh.inject(ux),Ft=Nh}catch{}}return iu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=G_,p=K_,E=$_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=_T(i,1,!1,null,null,a,l,f,p,E,A,null),i[In]=s.current,Fm(i),new ap(s)},iu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",p=G_,E=K_,A=$_,D=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),s=_T(i,1,!0,s,a??null,l,f,p,E,A,D,K),s.context=TT(null),a=s.current,l=wn(),l=Es(l),f=Is(l),f.callback=null,Ms(a,f,l),a=l,s.current.lanes=a,Vi(s,a),bi(s),i[In]=s.current,Fm(i),new Mh(s)},iu.version="19.1.1",iu}var jT;function _x(){if(jT)return up.exports;jT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),up.exports=vx(),up.exports}var Tx=_x();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BT="popstate";function Ex(e={}){function t(r,o){let{pathname:u,search:c,hash:d}=r.location;return Gp("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:xu(o)}return Ax(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ri(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sx(){return Math.random().toString(36).substring(2,10)}function zT(e,t){return{usr:e.state,key:e.key,idx:t}}function Gp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ko(t):t,state:n,key:t&&t.key||r||Sx()}}function xu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ax(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=y(),F=k==null?null:k-g;g=k,m&&m({action:d,location:j.location,delta:F})}function S(k,F){d="PUSH";let H=Gp(j.location,k,F);g=y()+1;let Y=zT(H,g),et=j.createHref(H);try{c.pushState(Y,"",et)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(et)}u&&m&&m({action:d,location:j.location,delta:1})}function C(k,F){d="REPLACE";let H=Gp(j.location,k,F);g=y();let Y=zT(H,g),et=j.createHref(H);c.replaceState(Y,"",et),u&&m&&m({action:d,location:j.location,delta:0})}function I(k){return bx(k)}let j={get action(){return d},get location(){return e(o,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(BT,T),m=k,()=>{o.removeEventListener(BT,T),m=null}},createHref(k){return t(o,k)},createURL:I,encodeLocation(k){let F=I(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:C,go(k){return c.go(k)}};return j}function bx(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function NA(e,t,n="/"){return wx(e,t,n,!1)}function wx(e,t,n,r){let o=typeof t=="string"?ko(t):t,u=hs(o.pathname||"/",n);if(u==null)return null;let c=OA(e);Rx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=kx(u);d=Vx(c[m],g,r)}return d}function OA(e,t=[],n=[],r="",o=!1){let u=(c,d,m=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;re(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let T=os([r,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(re(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),OA(c.children,t,S,T,m)),!(c.path==null&&!c.index)&&t.push({path:T,score:Ox(T,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of PA(c.path))u(c,d,!0,m)}),t}function PA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=PA(r.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function Rx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Px(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Cx=/^:[\w-]+$/,xx=3,Dx=2,Ix=1,Mx=10,Nx=-2,FT=e=>e==="*";function Ox(e,t){let n=e.split("/"),r=n.length;return n.some(FT)&&(r+=Nx),t&&(r+=Dx),n.filter(o=>!FT(o)).reduce((o,u)=>o+(Cx.test(u)?xx:u===""?Ix:Mx),r)}function Px(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Vx(e,t,n=!1){let{routesMeta:r}=e,o={},u="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,y=u==="/"?t:t.slice(u.length)||"/",T=of({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),S=m.route;if(!T&&g&&n&&!r[r.length-1].route.index&&(T=of({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:os([u,T.pathname]),pathnameBase:zx(os([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=os([u,T.pathnameBase]))}return c}function of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lx(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:T},S)=>{if(y==="*"){let I=d[S]||"";c=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const C=d[S];return T&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function Lx(e,t=!1,n=!0){ri(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function kx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ux(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?ko(e):e;return{pathname:n?n.startsWith("/")?n:jx(n,t):t,search:Fx(r),hash:Hx(o)}}function jx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qg(e){let t=Bx(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Gg(e,t,n,r=!1){let o;typeof e=="string"?o=ko(e):(o={...e},re(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let T=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?t[T]:"/"}let m=Ux(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var os=e=>e.join("/").replace(/\/\/+/g,"/"),zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var VA=["POST","PUT","PATCH","DELETE"];new Set(VA);var Gx=["GET",...VA];new Set(Gx);var Uo=P.createContext(null);Uo.displayName="DataRouter";var Of=P.createContext(null);Of.displayName="DataRouterState";P.createContext(!1);var LA=P.createContext({isTransitioning:!1});LA.displayName="ViewTransition";var Kx=P.createContext(new Map);Kx.displayName="Fetchers";var $x=P.createContext(null);$x.displayName="Await";var oi=P.createContext(null);oi.displayName="Navigation";var qu=P.createContext(null);qu.displayName="Location";var li=P.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Kg=P.createContext(null);Kg.displayName="RouteError";function Yx(e,{relative:t}={}){re(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(oi),{hash:o,pathname:u,search:c}=Gu(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:os([n,u])),r.createHref({pathname:d,search:c,hash:o})}function jo(){return P.useContext(qu)!=null}function ys(){return re(jo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(qu).location}var kA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UA(e){P.useContext(oi).static||P.useLayoutEffect(e)}function $g(){let{isDataRoute:e}=P.useContext(li);return e?uD():Xx()}function Xx(){re(jo(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Uo),{basename:t,navigator:n}=P.useContext(oi),{matches:r}=P.useContext(li),{pathname:o}=ys(),u=JSON.stringify(qg(r)),c=P.useRef(!1);return UA(()=>{c.current=!0}),P.useCallback((m,g={})=>{if(ri(c.current,kA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Gg(m,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:os([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,u,o,e])}var Qx=P.createContext(null);function Wx(e){let t=P.useContext(li).outlet;return t&&P.createElement(Qx.Provider,{value:e},t)}function Gu(e,{relative:t}={}){let{matches:n}=P.useContext(li),{pathname:r}=ys(),o=JSON.stringify(qg(n));return P.useMemo(()=>Gg(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function Zx(e,t){return jA(e,t)}function jA(e,t,n,r,o){re(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(oi),{matches:c}=P.useContext(li),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",T=d&&d.route;{let H=T&&T.path||"";BA(g,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=ys(),C;if(t){let H=typeof t=="string"?ko(t):t;re(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=S;let I=C.pathname||"/",j=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let k=NA(e,{pathname:j});ri(T||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=iD(k&&k.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:os([y,u.encodeLocation?u.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:os([y,u.encodeLocation?u.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,r,o);return t&&F?P.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function Jx(){let e=lD(),t=qx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,c)}var tD=P.createElement(Jx,null),eD=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?P.createElement(li.Provider,{value:this.props.routeContext},P.createElement(Kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nD({routeContext:e,match:t,children:n}){let r=P.useContext(Uo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(li.Provider,{value:e},n)}function iD(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,c=n?.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);re(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:S}=n,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,y,T)=>{let S,C=!1,I=null,j=null;n&&(S=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||tD,d&&(m<0&&T===0?(BA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,j=null):m===T&&(C=!0,j=y.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,T+1)),F=()=>{let H;return S?H=I:C?H=j:y.route.Component?H=P.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,P.createElement(nD,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?P.createElement(eD,{location:n.location,revalidation:n.revalidation,component:I,error:S,children:F(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):F()},null)}function Yg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sD(e){let t=P.useContext(Uo);return re(t,Yg(e)),t}function rD(e){let t=P.useContext(Of);return re(t,Yg(e)),t}function aD(e){let t=P.useContext(li);return re(t,Yg(e)),t}function Xg(e){let t=aD(e),n=t.matches[t.matches.length-1];return re(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oD(){return Xg("useRouteId")}function lD(){let e=P.useContext(Kg),t=rD("useRouteError"),n=Xg("useRouteError");return e!==void 0?e:t.errors?.[n]}function uD(){let{router:e}=sD("useNavigate"),t=Xg("useNavigate"),n=P.useRef(!1);return UA(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ri(n.current,kA),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var HT={};function BA(e,t,n){!t&&!HT[e]&&(HT[e]=!0,ri(!1,n))}P.memo(cD);function cD({routes:e,future:t,state:n,unstable_onError:r}){return jA(e,void 0,n,r,t)}function hD({to:e,replace:t,state:n,relative:r}){re(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(oi);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(li),{pathname:c}=ys(),d=$g(),m=Gg(e,qg(u),c,r==="path"),g=JSON.stringify(m);return P.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:r})},[d,g,r,t,n]),null}function fD(e){return Wx(e.context)}function Qs(e){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){re(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ko(n));let{pathname:m="/",search:g="",hash:y="",state:T=null,key:S="default"}=n,C=P.useMemo(()=>{let I=hs(m,c);return I==null?null:{location:{pathname:I,search:g,hash:y,state:T,key:S},navigationType:r}},[c,m,g,y,T,S,r]);return ri(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(oi.Provider,{value:d},P.createElement(qu.Provider,{children:t,value:C}))}function mD({children:e,location:t}){return Zx(Kp(e),t)}function Kp(e,t=[]){let n=[];return P.Children.forEach(e,(r,o)=>{if(!P.isValidElement(r))return;let u=[...t,o];if(r.type===P.Fragment){n.push.apply(n,Kp(r.props.children,u));return}re(r.type===Qs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Kp(r.props.children,u)),n.push(c)}),n}var Gh="get",Kh="application/x-www-form-urlencoded";function Pf(e){return e!=null&&typeof e.tagName=="string"}function pD(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function gD(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function yD(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function vD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _D(e,t){return e.button===0&&(!t||t==="_self")&&!vD(e)}var Oh=null;function TD(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var ED=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(e){return e!=null&&!ED.has(e)?(ri(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):e}function SD(e,t){let n,r,o,u,c;if(gD(e)){let d=e.getAttribute("action");r=d?hs(d,t):null,n=e.getAttribute("method")||Gh,o=mp(e.getAttribute("enctype"))||Kh,u=new FormData(e)}else if(pD(e)||yD(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?hs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Gh,o=mp(e.getAttribute("formenctype"))||mp(d.getAttribute("enctype"))||Kh,u=new FormData(d,e),!TD()){let{name:g,type:y,value:T}=e;if(y==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gh,r=null,o=Kh,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AD(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function bD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function RD(e,t,n){let r=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await bD(u,n);return c.links?c.links():[]}return[]}));return ID(r.flat(1).filter(wD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qT(e,t,n,r,o,u){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function CD(e,t,{includeHydrateFallback:n}={}){return xD(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xD(e){return[...new Set(e)]}function DD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ID(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let u=JSON.stringify(DD(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function zA(){let e=P.useContext(Uo);return Qg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MD(){let e=P.useContext(Of);return Qg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wg=P.createContext(void 0);Wg.displayName="FrameworkContext";function FA(){let e=P.useContext(Wg);return Qg(e,"You must render this element inside a <HydratedRouter> element"),e}function ND(e,t){let n=P.useContext(Wg),[r,o]=P.useState(!1),[u,c]=P.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:T}=t,S=P.useRef(null);P.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=F=>{F.forEach(H=>{c(H.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),P.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let C=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?e!=="intent"?[u,S,{}]:[u,S,{onFocus:su(d,C),onBlur:su(m,I),onMouseEnter:su(g,C),onMouseLeave:su(y,I),onTouchStart:su(T,C)}]:[!1,S,{}]}function su(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function OD({page:e,...t}){let{router:n}=zA(),r=P.useMemo(()=>NA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(VD,{page:e,matches:r,...t}):null}function PD(e){let{manifest:t,routeModules:n}=FA(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return RD(e,t,n).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,n]),r}function VD({page:e,matches:t,...n}){let r=ys(),{manifest:o,routeModules:u}=FA(),{basename:c}=zA(),{loaderData:d,matches:m}=MD(),g=P.useMemo(()=>qT(e,t,m,o,r,"data"),[e,t,m,o,r]),y=P.useMemo(()=>qT(e,t,m,o,r,"assets"),[e,t,m,o,r]),T=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let I=new Set,j=!1;if(t.forEach(F=>{let H=o.routes[F.route.id];!H||!H.hasLoader||(!g.some(Y=>Y.route.id===F.route.id)&&F.route.id in d&&u[F.route.id]?.shouldRevalidate||H.hasClientLoader?j=!0:I.add(F.route.id))}),I.size===0)return[];let k=AD(e,c,"data");return j&&I.size>0&&k.searchParams.set("_routes",t.filter(F=>I.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,r,o,g,t,e,u]),S=P.useMemo(()=>CD(y,o),[y,o]),C=PD(y);return P.createElement(P.Fragment,null,T.map(I=>P.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),S.map(I=>P.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),C.map(({key:I,link:j})=>P.createElement("link",{key:I,nonce:n.nonce,...j})))}function LD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.9.1")}catch{}function kD({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=Ex({window:n,v5Compat:!0}));let o=r.current,[u,c]=P.useState({action:o.action,location:o.location}),d=P.useCallback(m=>{P.startTransition(()=>c(m))},[c]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(dD,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:T,...S},C){let{basename:I}=P.useContext(oi),j=typeof g=="string"&&qA.test(g),k,F=!1;if(typeof g=="string"&&j&&(k=g,HA))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=hs(N.pathname,I);N.origin===R.origin&&V!=null?g=V+N.search+N.hash:F=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Yx(g,{relative:o}),[Y,et,W]=ND(r,S),rt=zD(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:T});function x(R){t&&t(R),R.defaultPrevented||rt(R)}let w=P.createElement("a",{...S,...W,href:k||H,onClick:F||u?t:x,ref:LD(C,et),target:m,"data-discover":!j&&n==="render"?"true":void 0});return Y&&!j?P.createElement(P.Fragment,null,w,P.createElement(OD,{page:H})):w});Ii.displayName="Link";var UD=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},y){let T=Gu(c,{relative:g.relative}),S=ys(),C=P.useContext(Of),{navigator:I,basename:j}=P.useContext(oi),k=C!=null&&KD(T)&&d===!0,F=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,H=S.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(H=H.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&j&&(Y=hs(Y,j)||Y);const et=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let W=H===F||!o&&H.startsWith(F)&&H.charAt(et)==="/",rt=Y!=null&&(Y===F||!o&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),x={isActive:W,isPending:rt,isTransitioning:k},w=W?t:void 0,R;typeof r=="function"?R=r(x):R=[r,W?"active":null,rt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return P.createElement(Ii,{...g,"aria-current":w,className:R,ref:y,style:N,to:c,viewTransition:d},typeof m=="function"?m(x):m)});UD.displayName="NavLink";var jD=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:c=Gh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:T,...S},C)=>{let I=qD(),j=GD(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&qA.test(d),H=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let et=Y.nativeEvent.submitter,W=et?.getAttribute("formmethod")||c;I(et||Y.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:T})};return P.createElement("form",{ref:C,method:k,action:j,onSubmit:r?m:H,...S,"data-discover":!F&&e==="render"?"true":void 0})});jD.displayName="Form";function BD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(e){let t=P.useContext(Uo);return re(t,BD(e)),t}function zD(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=$g(),m=ys(),g=Gu(e,{relative:u});return P.useCallback(y=>{if(_D(y,t)){y.preventDefault();let T=n!==void 0?n:xu(m)===xu(g);d(e,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,n,r,t,e,o,u,c])}var FD=0,HD=()=>`__${String(++FD)}__`;function qD(){let{router:e}=GA("useSubmit"),{basename:t}=P.useContext(oi),n=oD();return P.useCallback(async(r,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=SD(r,t);if(o.navigate===!1){let y=o.fetcherKey||HD();await e.fetch(y,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function GD(e,{relative:t}={}){let{basename:n}=P.useContext(oi),r=P.useContext(li);re(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Gu(e||".",{relative:t})},c=ys();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:os([n,u.pathname])),xu(u)}function KD(e,{relative:t}={}){let n=P.useContext(LA);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GA("useViewTransitionState"),o=Gu(e,{relative:t});if(!n.isTransitioning)return!1;let u=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return of(o.pathname,c)!=null||of(o.pathname,u)!=null}const $D=()=>{};var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},YD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=e[n++],c=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},$A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,g=m?e[o+2]:0,y=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(S=64)),r.push(n[y],n[T],n[S],n[C])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(KA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const T=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new XD;const S=u<<2|d>>4;if(r.push(S),g!==64){const C=d<<4&240|g>>2;if(r.push(C),T!==64){const I=g<<6&192|T;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class XD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(e){const t=KA(e);return $A.encodeByteArray(t,!0)},lf=function(e){return QD(e).replace(/\./g,"")},YA=function(e){try{return $A.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=()=>WD().__FIREBASE_DEFAULTS__,JD=()=>{if(typeof process>"u"||typeof GT>"u")return;const e=GT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YA(e[1]);return t&&JSON.parse(t)},Vf=()=>{try{return $D()||ZD()||JD()||tI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XA=e=>Vf()?.emulatorHosts?.[e],eI=e=>{const t=XA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},QA=()=>Vf()?.config,WA=e=>Vf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[lf(JSON.stringify(n)),lf(JSON.stringify(c)),""].join(".")}const mu={};function sI(){const e={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?e.emulator.push(t):e.prod.push(t);return e}function rI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let KT=!1;function JA(e,t){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||mu[e]===t||mu[e]||KT)return;mu[e]=t;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=sI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{KT=!0,c()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=rI(r),C=n("text"),I=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),k=document.getElementById(j)||document.createElement("a"),F=n("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),y(k,j);const et=g();m(H,F),Y.append(H,I,k,et),document.body.appendChild(Y)}u?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function oI(){const e=Vf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fI(){return!oI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dI(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="FirebaseError";class vs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=pI,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?gI(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new vs(o,d,r)}}function gI(e,t){return e.replace(yI,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const yI=/\{\$([^}]+)}/g;function vI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function oa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=e[o],c=t[o];if($T(u)&&$T(c)){if(!oa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function $T(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function uu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function cu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _I(e,t){const n=new TI(e,t);return n.subscribe.bind(n)}class TI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=pp),o.error===void 0&&(o.error=pp),o.complete===void 0&&(o.complete=pp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e){return e&&e._delegate?e._delegate:e}class la{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new nI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bI(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AI(e){return e===Wr?void 0:e}function bI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new SI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nt||(Nt={}));const RI={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},CI=Nt.INFO,xI={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},DI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=xI[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zg{constructor(t){this.name=t,this._logLevel=CI,this._logHandler=DI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const II=(e,t)=>t.some(n=>e instanceof n);let YT,XT;function MI(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NI(){return XT||(XT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,$p=new WeakMap,eb=new WeakMap,gp=new WeakMap,Jg=new WeakMap;function OI(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(nr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&tb.set(n,e)}).catch(()=>{}),Jg.set(t,e),t}function PI(e){if($p.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});$p.set(e,t)}let Yp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $p.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VI(e){Yp=e(Yp)}function LI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yp(this),t,...n);return eb.set(r,t.sort?t.sort():[t]),nr(r)}:NI().includes(e)?function(...t){return e.apply(yp(this),t),nr(tb.get(this))}:function(...t){return nr(e.apply(yp(this),t))}}function kI(e){return typeof e=="function"?LI(e):(e instanceof IDBTransaction&&PI(e),II(e,MI())?new Proxy(e,Yp):e)}function nr(e){if(e instanceof IDBRequest)return OI(e);if(gp.has(e))return gp.get(e);const t=kI(e);return t!==e&&(gp.set(e,t),Jg.set(t,e)),t}const yp=e=>Jg.get(e);function UI(e,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=nr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(nr(c.result),m.oldVersion,m.newVersion,nr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jI=["get","getKey","getAll","getAllKeys","count"],BI=["put","add","delete","clear"],vp=new Map;function QT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vp.get(t))return vp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=BI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jI.includes(n)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return vp.set(t,u),u}VI(e=>({...e,get:(t,n,r)=>QT(t,n)||e.get(t,n,r),has:(t,n)=>!!QT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FI(e){return e.getComponent()?.type==="VERSION"}const Xp="@firebase/app",WT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Zg("@firebase/app"),HI="@firebase/app-compat",qI="@firebase/analytics-compat",GI="@firebase/analytics",KI="@firebase/app-check-compat",$I="@firebase/app-check",YI="@firebase/auth",XI="@firebase/auth-compat",QI="@firebase/database",WI="@firebase/data-connect",ZI="@firebase/database-compat",JI="@firebase/functions",t2="@firebase/functions-compat",e2="@firebase/installations",n2="@firebase/installations-compat",i2="@firebase/messaging",s2="@firebase/messaging-compat",r2="@firebase/performance",a2="@firebase/performance-compat",o2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/ai",d2="@firebase/firestore-compat",m2="firebase",p2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",g2={[Xp]:"fire-core",[HI]:"fire-core-compat",[GI]:"fire-analytics",[qI]:"fire-analytics-compat",[$I]:"fire-app-check",[KI]:"fire-app-check-compat",[YI]:"fire-auth",[XI]:"fire-auth-compat",[QI]:"fire-rtdb",[WI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[JI]:"fire-fn",[t2]:"fire-fn-compat",[e2]:"fire-iid",[n2]:"fire-iid-compat",[i2]:"fire-fcm",[s2]:"fire-fcm-compat",[r2]:"fire-perf",[a2]:"fire-perf-compat",[o2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[d2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,y2=new Map,Wp=new Map;function ZT(e,t){try{e.container.addComponent(t)}catch(n){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Co(e){const t=e.name;if(Wp.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;Wp.set(t,e);for(const n of uf.values())ZT(n,e);for(const n of y2.values())ZT(n,e);return!0}function ty(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Ku("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=p2;function nb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Qp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=QA()),!n)throw ir.create("no-options");const u=uf.get(o);if(u){if(oa(n,u.options)&&oa(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const c=new wI(o);for(const m of Wp.values())c.addComponent(m);const d=new _2(n,r,c);return uf.set(o,d),d}function ib(e=Qp){const t=uf.get(e);if(!t&&e===Qp&&QA())return nb();if(!t)throw ir.create("no-app",{appName:e});return t}function sr(e,t,n){let r=g2[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}Co(new la(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",E2=1,Du="firebase-heartbeat-store";let _p=null;function sb(){return _p||(_p=UI(T2,E2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(e=>{throw ir.create("idb-open",{originalErrorMessage:e.message})})),_p}async function S2(e){try{const n=(await sb()).transaction(Du),r=await n.objectStore(Du).get(rb(e));return await n.done,r}catch(t){if(t instanceof vs)fs.warn(t.message);else{const n=ir.create("idb-get",{originalErrorMessage:t?.message});fs.warn(n.message)}}}async function JT(e,t){try{const r=(await sb()).transaction(Du,"readwrite");await r.objectStore(Du).put(t,rb(e)),await r.done}catch(n){if(n instanceof vs)fs.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function rb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1024,b2=30;class w2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>b2){const o=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:n,unsentEntries:r}=R2(this._heartbeatsCache.heartbeats),o=lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fs.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function R2(e,t=A2){const n=[];let r=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),eE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dI()?mI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return JT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return JT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function eE(e){return lf(JSON.stringify({version:2,heartbeats:e})).length}function x2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e){Co(new la("platform-logger",t=>new zI(t),"PRIVATE")),Co(new la("heartbeat",t=>new w2(t),"PRIVATE")),sr(Xp,WT,e),sr(Xp,WT,"esm2020"),sr("fire-js","")}D2("");var I2="firebase",M2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(I2,M2,"app");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=ab,ob=new Ku("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Zg("@firebase/auth");function O2(e,...t){cf.logLevel<=Nt.WARN&&cf.warn(`Auth (${zo}): ${e}`,...t)}function $h(e,...t){cf.logLevel<=Nt.ERROR&&cf.error(`Auth (${zo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,...t){throw ey(e,...t)}function Ri(e,...t){return ey(e,...t)}function lb(e,t,n){const r={...N2(),[t]:n};return new Ku("auth","Firebase",r).create(t,{appName:e.name})}function ls(e){return lb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ob.create(e,...t)}function Tt(e,t,...n){if(!e)throw ey(t,...n)}function rs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $h(t),new Error(t)}function ds(e,t){e||rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){return typeof self<"u"&&self.location?.href||""}function P2(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P2()||uI()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ds(n>t,"Short delay should be less than long delay!"),this.isMobile=aI()||cI()}get(){return V2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(e,t){ds(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new Yu(3e4,6e4);function cr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function _s(e,t,n,r,o={}){return cb(e,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const d=$u({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...u};return lI()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Bo(e.emulatorConfig.host)&&(g.credentials="include"),ub.fetch()(await hb(e,e.config.apiHost,n,d),g)})}async function cb(e,t,n){e._canInitEmulator=!1;const r={...k2,...t};try{const o=new z2(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ph(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ph(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ph(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lb(e,y,g);ai(e,y)}}catch(o){if(o instanceof vs)throw o;ai(e,"network-request-failed",{message:String(o)})}}async function Xu(e,t,n,r,o={}){const u=await _s(e,t,n,r,o);return"mfaPendingCredential"in u&&ai(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function hb(e,t,n,r){const o=`${t}${n}?${r}`,u=e,c=u.config.emulator?ny(e.config,o):`${e.config.apiScheme}://${o}`;return U2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function B2(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),j2.get())})}}function Ph(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ri(e,t,r);return o.customData._tokenResponse=n,o}function iE(e){return e!==void 0&&e.enterprise!==void 0}class F2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return B2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H2(e,t){return _s(e,"GET","/v2/recaptchaConfig",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(e,t){return _s(e,"POST","/v1/accounts:delete",t)}async function hf(e,t){return _s(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function G2(e,t=!1){const n=We(e),r=await n.getIdToken(t),o=iy(r);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:pu(Tp(o.auth_time)),issuedAtTime:pu(Tp(o.iat)),expirationTime:pu(Tp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Tp(e){return Number(e)*1e3}function iy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const o=YA(n);return o?JSON.parse(o):($h("Failed to decode base64 JWT payload"),null)}catch(o){return $h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(e){const t=iy(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof vs&&K2(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function K2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(e){const t=e.auth,n=await e.getIdToken(),r=await xo(e,hf(t,{idToken:n}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?fb(o.providerUserInfo):[],c=X2(e.providerData,u),d=e.isAnonymous,m=!(e.email&&o.passwordHash)&&!c?.length,g=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function Y2(e){const t=We(e);await ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function X2(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function fb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(e,t){const n=await cb(e,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await hb(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return e.emulatorConfig&&Bo(e.emulatorConfig.host)&&(m.credentials="include"),ub.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W2(e,t){return _s(e,"POST","/v2/accounts:revokeToken",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=sE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await Q2(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Eo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await xo(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return G2(this,t)}reload(){return Y2(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ls(this.auth));const t=await this.getIdToken();return await xo(this,q2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:I,stsTokenManager:j}=n;Tt(T&&j,t,"internal-error");const k=Eo.fromJSON(this.name,j);Tt(typeof T=="string",t,"internal-error"),Xs(r,t.name),Xs(o,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof C=="boolean",t,"internal-error"),Xs(u,t.name),Xs(c,t.name),Xs(d,t.name),Xs(m,t.name),Xs(g,t.name),Xs(y,t.name);const F=new ni({uid:T,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(F.providerData=I.map(H=>({...H}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,r=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ff(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Eo;d.updateFromIdToken(r);const m=new ni({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function as(e){ds(e instanceof Function,"Expected a class definition");let t=rE.get(e);return t?(ds(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}db.type="NONE";const aE=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e,t,n){return`firebase:${e}:${t}:${n}`}class So{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hf(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new So(as(aE),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||as(aE);const c=Yh(r,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const S=await hf(t,{idToken:y}).catch(()=>{});if(!S)break;T=await ni._fromGetAccountInfoResponse(t,S,y)}else T=ni._fromJSON(t,y);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new So(u,t,r):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new So(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_b(t))return"Blackberry";if(Tb(t))return"Webos";if(pb(t))return"Safari";if((t.includes("chrome/")||gb(t))&&!t.includes("edge/"))return"Chrome";if(vb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function mb(e=an()){return/firefox\//i.test(e)}function pb(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gb(e=an()){return/crios\//i.test(e)}function yb(e=an()){return/iemobile/i.test(e)}function vb(e=an()){return/android/i.test(e)}function _b(e=an()){return/blackberry/i.test(e)}function Tb(e=an()){return/webos/i.test(e)}function sy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Z2(e=an()){return sy(e)&&!!window.navigator?.standalone}function J2(){return hI()&&document.documentMode===10}function Eb(e=an()){return sy(e)||vb(e)||Tb(e)||_b(e)||/windows phone/i.test(e)||yb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e,t=[]){let n;switch(e){case"Browser":n=oE(an());break;case"Worker":n=`${oE(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,d)=>{try{const m=t(u);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(e,t={}){return _s(e,"GET","/v2/passwordPolicy",cr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=6;class iM{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new tM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hf(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ff(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(ls(this));const n=t?We(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eM(this),n=new iM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ku("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&as(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,o);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&O2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ga(e){return We(e)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=_I(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rM(e){Lf=e}function Ab(e){return Lf.loadJS(e)}function aM(){return Lf.recaptchaEnterpriseScript}function oM(){return Lf.gapiScript}function lM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class uM{constructor(){this.enterprise=new cM}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class cM{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const hM="recaptcha-enterprise",bb="NO_RECAPTCHA";class fM{constructor(t){this.type=hM,this.auth=ga(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{H2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new F2(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,c,d){const m=window.grecaptcha;iE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(bb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(d=>{if(!n&&iE(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=aM();m.length!==0&&(m+=d),Ab(m).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function uE(e,t,n,r=!1,o=!1){const u=new fM(e);let c;if(o)c=bb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function tg(e,t,n,r,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(e,t,n,n==="getOobCode");return r(e,u)}else return r(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uE(e,t,n,n==="getOobCode");return r(e,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(e,t){const n=ty(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oa(u,t??{}))return o;ai(o,"already-initialized")}return n.initialize({options:t})}function mM(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function pM(e,t,n){const r=ga(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=wb(t),{host:c,port:d}=gM(t),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(oa(g,r.config.emulator)&&oa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Bo(c)?(ZA(`${u}//${c}${m}`),JA("Auth",!0)):yM()}function wb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gM(e){const t=wb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:cE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:cE(c)}}}function cE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function yM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,n){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function vM(e,t){return _s(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(e,t){return Xu(e,"POST","/v1/accounts:signInWithPassword",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(e,t){return Xu(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}async function EM(e,t){return Xu(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends ry{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Iu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Iu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,n,"signInWithPassword",_M);case"emailLink":return TM(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,r,"signUpPassword",vM);case"emailLink":return EM(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(e,t){return Xu(e,"POST","/v1/accounts:signInWithIdp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="http://localhost";class ua extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ua(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ao(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ao(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ao(t,n)}buildRequest(){const t={requestUri:SM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bM(e){const t=uu(cu(e)).link,n=t?uu(cu(t)).deep_link_id:null,r=uu(cu(e)).deep_link_id;return(r?uu(cu(r)).link:null)||r||n||t||e}class ay{constructor(t){const n=uu(cu(t)),r=n.apiKey??null,o=n.oobCode??null,u=AM(n.mode??null);Tt(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=bM(t);try{return new ay(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(t,n){return Iu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=ay.parseLink(n);return Tt(r,"argument-error"),Iu._fromEmailAndCode(t,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Qu{constructor(){super("facebook.com")}static credential(t){return ua._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ua._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Qu{constructor(){super("github.com")}static credential(t){return ua._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Qu{constructor(){super("twitter.com")}static credential(t,n){return ua._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(e,t){return Xu(e,"POST","/v1/accounts:signUp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ni._fromIdTokenResponse(t,r,o),c=hE(r);return new ca({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=hE(r);return new ca({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function hE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends vs{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new df(t,n,r,o)}}function Cb(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(e,u,t,r):u})}async function RM(e,t,n=!1){const r=await xo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ca._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(e,t,n=!1){const{auth:r}=e;if(qn(r.app))return Promise.reject(ls(r));const o="reauthenticate";try{const u=await xo(e,Cb(r,o,t,e),n);Tt(u.idToken,r,"internal-error");const c=iy(u.idToken);Tt(c,r,"internal-error");const{sub:d}=c;return Tt(e.uid===d,r,"user-mismatch"),ca._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(e,t,n=!1){if(qn(e.app))return Promise.reject(ls(e));const r="signIn",o=await Cb(e,r,t),u=await ca._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(u.user),u}async function xM(e,t){return xb(ga(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(e){const t=ga(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DM(e,t,n){if(qn(e.app))return Promise.reject(ls(e));const r=ga(e),c=await tg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Db(e),m}),d=await ca._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function IM(e,t,n){return qn(e.app)?Promise.reject(ls(e)):xM(We(e),Fo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Db(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(e,t){return _s(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=We(e),u={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await xo(r,MM(r.auth,u));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function OM(e,t,n,r){return We(e).onIdTokenChanged(t,n,r)}function PM(e,t,n){return We(e).beforeAuthStateChanged(t,n)}function VM(e,t,n,r){return We(e).onAuthStateChanged(t,n,r)}function LM(e){return We(e).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1e3,UM=10;class Mb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);J2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,UM):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mb.type="LOCAL";const jM=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Nb.type="SESSION";const Ob=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new kf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),m=await BM(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=oy("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function FM(e){Ci().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function HM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){return navigator?.serviceWorker?.controller||null}function GM(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebaseLocalStorageDb",KM=1,pf="firebaseLocalStorage",Lb="fbase_key";class Wu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(e,t){return e.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function $M(){const e=indexedDB.deleteDatabase(Vb);return new Wu(e).toPromise()}function eg(){const e=indexedDB.open(Vb,KM);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(pf,{keyPath:Lb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(pf)?t(r):(r.close(),await $M(),t(await eg()))})})}async function fE(e,t,n){const r=Uf(e,!0).put({[Lb]:t,value:n});return new Wu(r).toPromise()}async function YM(e,t){const n=Uf(e,!1).get(t),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function dE(e,t){const n=Uf(e,!0).delete(t);return new Wu(n).toPromise()}const XM=800,QM=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>QM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(GM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new zM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await eg();return await fE(t,mf,"1"),await dE(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>YM(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Wu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const WM=kb;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(e,t){return t?as(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends ry{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JM(e){return xb(e.auth,new ly(e),e.bypassAuthState)}function tN(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),CM(n,new ly(e),e.bypassAuthState)}async function eN(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),RM(n,new ly(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return eN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:ai(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new Yu(2e3,1e4);class po extends Ub{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nN.get())};t()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",Xh=new Map;class sN extends Ub{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Xh.get(this.auth._key());if(!t){try{const r=await rN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Xh.set(this.auth._key(),t)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(e,t){const n=lN(t),r=oN(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function aN(e,t){Xh.set(e._key(),t)}function oN(e){return as(e._redirectPersistence)}function lN(e){return Yh(iN,e.config.apiKey,e.name)}async function uN(e,t,n=!1){if(qn(e.app))return Promise.reject(ls(e));const r=ga(e),o=ZM(r,t),c=await new sN(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=600*1e3;class hN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!jb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function jb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function fN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(e,t={}){return _s(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function gN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dN(e);for(const n of t)try{if(yN(n))return}catch{}ai(e,"unauthorized-domain")}function yN(e){const t=Zp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!pN.test(n))return!1;if(mN.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Yu(3e4,6e4);function pE(){const e=Ci().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _N(e){return new Promise((t,n)=>{function r(){pE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Ri(e,"network-request-failed"))},timeout:vN.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const o=lM("iframefcb");return Ci()[o]=()=>{gapi.load?r():n(Ri(e,"network-request-failed"))},Ab(`${oM()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Qh=null,t})}let Qh=null;function TN(e){return Qh=Qh||_N(e),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Yu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",bN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RN(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ny(t,AN):`https://${e.config.authDomain}/${SN}`,r={apiKey:t.apiKey,appName:e.name,v:zo},o=wN.get(e.config.apiHost);o&&(r.eid=o);const u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${$u(r).slice(1)}`}async function CN(e){const t=await TN(e),n=Ci().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:RN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ri(e,"network-request-failed"),d=Ci().setTimeout(()=>{u(c)},EN.get());function m(){Ci().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,IN=600,MN="_blank",NN="http://localhost";class gE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ON(e,t,n,r=DN,o=IN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...xN,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();n&&(d=gb(g)?MN:n),mb(g)&&(t=t||NN,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[C,I])=>`${S}${C}=${I},`,"");if(Z2(g)&&d!=="_self")return PN(t||"",d),new gE(null);const T=window.open(t||"",d,y);Tt(T,e,"popup-blocked");try{T.focus()}catch{}return new gE(T)}function PN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",LN="emulator/auth/handler",kN=encodeURIComponent("fac");async function yE(e,t,n,r,o,u){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zo,eventId:o};if(t instanceof Rb){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",vI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Qu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${kN}=${encodeURIComponent(m)}`:"";return`${UN(e)}?${$u(d).slice(1)}${g}`}function UN({config:e}){return e.emulator?ny(e,LN):`https://${e.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class jN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=uN,this._overrideRedirectResult=aN}async _openPopup(t,n,r,o){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yE(t,n,r,Zp(),o);return ON(t,u,oy())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await yE(t,n,r,Zp(),o);return FM(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await CN(t),r=new hN(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ep,{type:Ep},o=>{const u=o?.[0]?.[Ep];u!==void 0&&n(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eb()||pb()||sy()}}const BN=jN;var vE="@firebase/auth",_E="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(e){Co(new la("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(e)},g=new sM(r,o,u,m);return mM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Co(new la("auth-internal",t=>{const n=ga(t.getProvider("auth").getImmediate());return(r=>new zN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(vE,_E,FN(e)),sr(vE,_E,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=300,GN=WA("authIdTokenMaxAge")||qN;let TE=null;const KN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GN)return;const o=n?.token;TE!==o&&(TE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $N(e=ib()){const t=ty(e,"auth");if(t.isInitialized())return t.getImmediate();const n=dM(e,{popupRedirectResolver:BN,persistence:[WM,jM,Ob]}),r=WA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=KN(u.toString());PM(n,c,()=>c(n.currentUser)),OM(n,d=>c(d))}}const o=XA("auth");return o&&pM(n,`http://${o}`),n}function YN(){return document.getElementsByTagName("head")?.[0]??document}rM({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",YN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uy;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function R(){}R.prototype=w.prototype,x.D=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,V,U){for(var M=Array(arguments.length-2),me=2;me<arguments.length;me++)M[me-2]=arguments[me];return w.prototype[V].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)N[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],V=x.g[2];var U=x.g[3],M=w+(U^R&(V^U))+N[0]+3614090360&4294967295;w=R+(M<<7&4294967295|M>>>25),M=U+(V^w&(R^V))+N[1]+3905402710&4294967295,U=w+(M<<12&4294967295|M>>>20),M=V+(R^U&(w^R))+N[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(w^V&(U^w))+N[3]+3250441966&4294967295,R=V+(M<<22&4294967295|M>>>10),M=w+(U^R&(V^U))+N[4]+4118548399&4294967295,w=R+(M<<7&4294967295|M>>>25),M=U+(V^w&(R^V))+N[5]+1200080426&4294967295,U=w+(M<<12&4294967295|M>>>20),M=V+(R^U&(w^R))+N[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(w^V&(U^w))+N[7]+4249261313&4294967295,R=V+(M<<22&4294967295|M>>>10),M=w+(U^R&(V^U))+N[8]+1770035416&4294967295,w=R+(M<<7&4294967295|M>>>25),M=U+(V^w&(R^V))+N[9]+2336552879&4294967295,U=w+(M<<12&4294967295|M>>>20),M=V+(R^U&(w^R))+N[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(w^V&(U^w))+N[11]+2304563134&4294967295,R=V+(M<<22&4294967295|M>>>10),M=w+(U^R&(V^U))+N[12]+1804603682&4294967295,w=R+(M<<7&4294967295|M>>>25),M=U+(V^w&(R^V))+N[13]+4254626195&4294967295,U=w+(M<<12&4294967295|M>>>20),M=V+(R^U&(w^R))+N[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(w^V&(U^w))+N[15]+1236535329&4294967295,R=V+(M<<22&4294967295|M>>>10),M=w+(V^U&(R^V))+N[1]+4129170786&4294967295,w=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(w^R))+N[6]+3225465664&4294967295,U=w+(M<<9&4294967295|M>>>23),M=V+(w^R&(U^w))+N[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^w&(V^U))+N[0]+3921069994&4294967295,R=V+(M<<20&4294967295|M>>>12),M=w+(V^U&(R^V))+N[5]+3593408605&4294967295,w=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(w^R))+N[10]+38016083&4294967295,U=w+(M<<9&4294967295|M>>>23),M=V+(w^R&(U^w))+N[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^w&(V^U))+N[4]+3889429448&4294967295,R=V+(M<<20&4294967295|M>>>12),M=w+(V^U&(R^V))+N[9]+568446438&4294967295,w=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(w^R))+N[14]+3275163606&4294967295,U=w+(M<<9&4294967295|M>>>23),M=V+(w^R&(U^w))+N[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^w&(V^U))+N[8]+1163531501&4294967295,R=V+(M<<20&4294967295|M>>>12),M=w+(V^U&(R^V))+N[13]+2850285829&4294967295,w=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(w^R))+N[2]+4243563512&4294967295,U=w+(M<<9&4294967295|M>>>23),M=V+(w^R&(U^w))+N[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^w&(V^U))+N[12]+2368359562&4294967295,R=V+(M<<20&4294967295|M>>>12),M=w+(R^V^U)+N[5]+4294588738&4294967295,w=R+(M<<4&4294967295|M>>>28),M=U+(w^R^V)+N[8]+2272392833&4294967295,U=w+(M<<11&4294967295|M>>>21),M=V+(U^w^R)+N[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^w)+N[14]+4259657740&4294967295,R=V+(M<<23&4294967295|M>>>9),M=w+(R^V^U)+N[1]+2763975236&4294967295,w=R+(M<<4&4294967295|M>>>28),M=U+(w^R^V)+N[4]+1272893353&4294967295,U=w+(M<<11&4294967295|M>>>21),M=V+(U^w^R)+N[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^w)+N[10]+3200236656&4294967295,R=V+(M<<23&4294967295|M>>>9),M=w+(R^V^U)+N[13]+681279174&4294967295,w=R+(M<<4&4294967295|M>>>28),M=U+(w^R^V)+N[0]+3936430074&4294967295,U=w+(M<<11&4294967295|M>>>21),M=V+(U^w^R)+N[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^w)+N[6]+76029189&4294967295,R=V+(M<<23&4294967295|M>>>9),M=w+(R^V^U)+N[9]+3654602809&4294967295,w=R+(M<<4&4294967295|M>>>28),M=U+(w^R^V)+N[12]+3873151461&4294967295,U=w+(M<<11&4294967295|M>>>21),M=V+(U^w^R)+N[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^w)+N[2]+3299628645&4294967295,R=V+(M<<23&4294967295|M>>>9),M=w+(V^(R|~U))+N[0]+4096336452&4294967295,w=R+(M<<6&4294967295|M>>>26),M=U+(R^(w|~V))+N[7]+1126891415&4294967295,U=w+(M<<10&4294967295|M>>>22),M=V+(w^(U|~R))+N[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~w))+N[5]+4237533241&4294967295,R=V+(M<<21&4294967295|M>>>11),M=w+(V^(R|~U))+N[12]+1700485571&4294967295,w=R+(M<<6&4294967295|M>>>26),M=U+(R^(w|~V))+N[3]+2399980690&4294967295,U=w+(M<<10&4294967295|M>>>22),M=V+(w^(U|~R))+N[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~w))+N[1]+2240044497&4294967295,R=V+(M<<21&4294967295|M>>>11),M=w+(V^(R|~U))+N[8]+1873313359&4294967295,w=R+(M<<6&4294967295|M>>>26),M=U+(R^(w|~V))+N[15]+4264355552&4294967295,U=w+(M<<10&4294967295|M>>>22),M=V+(w^(U|~R))+N[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~w))+N[13]+1309151649&4294967295,R=V+(M<<21&4294967295|M>>>11),M=w+(V^(R|~U))+N[4]+4149444226&4294967295,w=R+(M<<6&4294967295|M>>>26),M=U+(R^(w|~V))+N[11]+3174756917&4294967295,U=w+(M<<10&4294967295|M>>>22),M=V+(w^(U|~R))+N[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~w))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var R=w-this.blockSize,N=this.B,V=this.h,U=0;U<w;){if(V==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<w;)if(N[V++]=x.charCodeAt(U++),V==this.blockSize){o(this,N),V=0;break}}else for(;U<w;)if(N[V++]=x[U++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var R=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=R&255,R/=256;for(this.u(x),x=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)x[R++]=this.g[w]>>>N&255;return x};function u(x,w){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function c(x,w){this.h=w;for(var R=[],N=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;N&&U==w||(R[V]=U,N=!1)}this.g=R}var d={};function m(x){return-128<=x&&128>x?u(x,function(w){return new c([w|0],0>w?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return k(g(-x));for(var w=[],R=1,N=0;x>=R;N++)w[N]=x/R|0,R*=4294967296;return new c(w,0)}function y(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return k(y(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),N=T,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),M=parseInt(x.substring(V,V+U),w);8>U?(U=g(Math.pow(w,U)),N=N.j(U).add(g(M))):(N=N.j(R),N=N.add(g(M)))}return N}var T=m(0),S=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-k(this).m();for(var x=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*w,w*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(j(this))return"-"+k(this).toString(x);for(var w=g(Math.pow(x,6)),R=this,N="";;){var V=et(R,w).g;R=F(R,V.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=V,I(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function j(x){return x.h==-1}e.l=function(x){return x=F(this,x),j(x)?-1:I(x)?0:1};function k(x){for(var w=x.g.length,R=[],N=0;N<w;N++)R[N]=~x.g[N];return new c(R,~x.h).add(S)}e.abs=function(){return j(this)?k(this):this},e.add=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],N=0,V=0;V<=w;V++){var U=N+(this.i(V)&65535)+(x.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=M>>>16,U&=65535,M&=65535,R[V]=M<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(x,w){return x.add(k(w))}e.j=function(x){if(I(this)||I(x))return T;if(j(this))return j(x)?k(this).j(k(x)):k(k(this).j(x));if(j(x))return k(this.j(k(x)));if(0>this.l(C)&&0>x.l(C))return g(this.m()*x.m());for(var w=this.g.length+x.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var U=this.i(N)>>>16,M=this.i(N)&65535,me=x.i(V)>>>16,Qt=x.i(V)&65535;R[2*N+2*V]+=M*Qt,H(R,2*N+2*V),R[2*N+2*V+1]+=U*Qt,H(R,2*N+2*V+1),R[2*N+2*V+1]+=M*me,H(R,2*N+2*V+1),R[2*N+2*V+2]+=U*me,H(R,2*N+2*V+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new c(R,0)};function H(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Y(x,w){this.g=x,this.h=w}function et(x,w){if(I(w))throw Error("division by zero");if(I(x))return new Y(T,T);if(j(x))return w=et(k(x),w),new Y(k(w.g),k(w.h));if(j(w))return w=et(x,k(w)),new Y(k(w.g),w.h);if(30<x.g.length){if(j(x)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=w;0>=N.l(x);)R=W(R),N=W(N);var V=rt(R,1),U=rt(N,1);for(N=rt(N,2),R=rt(R,2);!I(N);){var M=U.add(N);0>=M.l(x)&&(V=V.add(R),U=M),N=rt(N,1),R=rt(R,1)}return w=F(x,V.j(w)),new Y(V,w)}for(V=T;0<=x.l(w);){for(R=Math.max(1,Math.floor(x.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(R),M=U.j(w);j(M)||0<M.l(x);)R-=N,U=g(R),M=U.j(w);I(U)&&(U=S),V=V.add(U),x=F(x,M)}return new Y(V,x)}e.A=function(x){return et(this,x).h},e.and=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&x.i(N);return new c(R,this.h&x.h)},e.or=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|x.i(N);return new c(R,this.h|x.h)},e.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^x.i(N);return new c(R,this.h^x.h)};function W(x){for(var w=x.g.length+1,R=[],N=0;N<w;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(R,x.h)}function rt(x,w){var R=w>>5;w%=32;for(var N=x.g.length-R,V=[],U=0;U<N;U++)V[U]=0<w?x.i(U+R)>>>w|x.i(U+R+1)<<32-w:x.i(U+R);return new c(V,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,uy=c}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bb,hu,zb,Wh,ng,Fb,Hb,qb;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(h,v){if(v)t:{var _=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var q=h[b];if(!(q in _))break t;_=_[q]}h=h[h.length-1],b=_[h],v=v(b),v!=b&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var _=0,b=!1,q={next:function(){if(!b&&_<h.length){var Q=_++;return{value:v(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(h){return h||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function T(h,v,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function S(h,v,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,S.apply(null,arguments)}function C(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function I(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,q,Q){for(var ut=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ut[Ot-2]=arguments[Ot];return v.prototype[q].apply(b,ut)}}function j(h){const v=h.length;if(0<v){const _=Array(v);for(let b=0;b<v;b++)_[b]=h[b];return _}return[]}function k(h,v){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const q=h.length||0,Q=b.length||0;h.length=q+Q;for(let ut=0;ut<Q;ut++)h[q+ut]=b[ut]}else h.push(b)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function et(h){return et[" "](h),h}et[" "]=function(){};var W=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function rt(h,v,_){for(const b in h)v.call(_,h[b],b,h)}function x(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let _,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(_ in b)h[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function V(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function U(h){d.setTimeout(()=>{throw h},0)}function M(){var h=bt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class me{constructor(){this.h=this.g=null}add(v,_){const b=Qt.get();b.set(v,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Qt=new F(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,bt=new me,O=()=>{const h=d.Promise.resolve(void 0);at=()=>{h.then(it)}};var it=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(_){U(_)}var v=Qt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function At(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){t:{try{et(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:yt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&At.aa.h.call(this)}}I(At,lt);var yt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Ze(h,v,_,b,q){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!b,this.ha=q,this.key=++kt,this.da=this.fa=!1}function Ts(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oi(h){this.src=h,this.g={},this.h=0}Oi.prototype.add=function(h,v,_,b,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ut=mr(h,v,b,q);return-1<ut?(v=h[ut],_||(v.fa=!1)):(v=new Ze(v,this.src,Q,!!b,q),v.fa=_,h.push(v)),v};function dr(h,v){var _=v.type;if(_ in h.g){var b=h.g[_],q=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(b,q,1),Q&&(Ts(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function mr(h,v,_,b){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==b)return q}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),Yo={};function uc(h,v,_,b,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)uc(h,v[Q],_,b,q);return null}return _=cc(_),h&&h[ae]?h.K(v,_,g(b)?!!b.capture:!1,q):Dn(h,v,_,!1,b,q)}function Dn(h,v,_,b,q,Q){if(!v)throw Error("Invalid event type");var ut=g(q)?!!q.capture:!!q,Ot=Ea(h);if(Ot||(h[pr]=Ot=new Oi(h)),_=Ot.add(v,_,b,ut,Q),_.proxy)return _;if(b=od(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)pt||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),b,q);else if(h.attachEvent)h.attachEvent(gr(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function od(){function h(_){return v.call(h.src,h.listener,_)}const v=ld;return h}function Xo(h,v,_,b,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xo(h,v[Q],_,b,q);else b=g(b)?!!b.capture:!!b,_=cc(_),h&&h[ae]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],_=mr(Q,_,b,q),-1<_&&(Ts(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ea(h))&&(v=h.g[v.toString()],h=-1,v&&(h=mr(v,_,b,q)),(_=-1<h?v[h]:null)&&Ta(_))}function Ta(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ae])dr(v.i,h);else{var _=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(_,b,h.capture):v.detachEvent?v.detachEvent(gr(_),b):v.addListener&&v.removeListener&&v.removeListener(b),(_=Ea(v))?(dr(_,h),_.h==0&&(_.src=null,v[pr]=null)):Ts(h)}}}function gr(h){return h in Yo?Yo[h]:Yo[h]="on"+h}function ld(h,v){if(h.da)h=!0;else{v=new At(v,this);var _=h.listener,b=h.ha||h.src;h.fa&&Ta(h),h=_.call(b,v)}return h}function Ea(h){return h=h[pr],h instanceof Oi?h:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function cc(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(v){return h.handleEvent(v)}),h[Qo])}function le(){ct.call(this),this.i=new Oi(this),this.M=this,this.F=null}I(le,ct),le.prototype[ae]=!0,le.prototype.removeEventListener=function(h,v,_,b){Xo(this,h,v,_,b)};function Ft(h,v){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var q=v;v=new lt(b,h),N(v,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ut=v.g=_[Q];q=vn(ut,b,!0,v)&&q}if(ut=v.g=h,q=vn(ut,b,!0,v)&&q,q=vn(ut,b,!1,v)&&q,_)for(Q=0;Q<_.length;Q++)ut=v.g=_[Q],q=vn(ut,b,!1,v)&&q}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],b=0;b<_.length;b++)Ts(_[b]);delete h.g[v],h.h--}}this.F=null},le.prototype.K=function(h,v,_,b){return this.i.add(String(h),v,!1,_,b)},le.prototype.L=function(h,v,_,b){return this.i.add(String(h),v,!0,_,b)};function vn(h,v,_,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var ut=v[Q];if(ut&&!ut.da&&ut.capture==_){var Ot=ut.listener,Ce=ut.ha||ut.src;ut.fa&&dr(h.i,ut),q=Ot.call(Ce,b)!==!1&&q}}return q&&!b.defaultPrevented}function Je(h,v,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function hc(h){h.g=Je(()=>{h.g=null,h.i&&(h.i=!1,hc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ud extends ct{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(h){ct.call(this),this.h=h,this.g={}}I(yr,ct);var vr=[];function _r(h){rt(h.g,function(v,_){this.g.hasOwnProperty(_)&&Ta(v)},h),h.g={}}yr.prototype.N=function(){yr.aa.N.call(this),_r(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Sa=d.JSON.parse,Tr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Zo(h){return h.h||(h.h=h.i())}function Jo(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){lt.call(this,"d")}I(Vi,lt);function tl(){lt.call(this,"c")}I(tl,lt);var ui={},el=null;function Es(){return el=el||new le}ui.La="serverreachability";function Aa(h){lt.call(this,ui.La,h)}I(Aa,lt);function Ss(h){const v=Es();Ft(v,new Aa(v))}ui.STAT_EVENT="statevent";function fc(h,v){lt.call(this,ui.STAT_EVENT,h),this.stat=v}I(fc,lt);function te(h){const v=Es();Ft(v,new fc(v,h))}ui.Ma="timingevent";function Re(h,v){lt.call(this,ui.Ma,h),this.size=v}I(Re,lt);function _e(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function nl(h,v,_,b,q,Q){h.info(function(){if(h.g)if(Q)for(var ut="",Ot=Q.split("&"),Ce=0;Ce<Ot.length;Ce++){var Pt=Ot[Ce].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var xe=Ne.split("_");ut=2<=xe.length&&xe[1]=="type"?ut+(Ne+"="+Pt+"&"):ut+(Ne+"=redacted&")}}else ut=null;else ut=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+v+`
`+_+`
`+ut})}function cd(h,v,_,b,q,Q,ut){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+v+`
`+_+`
`+Q+" "+ut})}function As(h,v,_,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Er(h,_)+(b?" "+b:"")})}function dc(h,v){h.info(function(){return"TIMEOUT: "+v})}In.prototype.info=function(){};function Er(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return $n(_)}catch{return v}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}I(hi,Wo),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function on(h,v,_,b){this.j=h,this.i=v,this.l=_,this.R=b||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var il={},ba={};function Yn(h,v,_){h.L=1,h.v=Rr(_n(v)),h.m=_,h.P=!0,ki(h,null)}function ki(h,v){h.F=Date.now(),Sr(h),h.A=_n(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),ul(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=Dc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new ud(S(h.Y,h,h.g),h.O)),v=h.U,_=h.g,b=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(vr[0]=q.toString()),q=vr);for(var Q=0;Q<q.length;Q++){var ut=uc(_,q[Q],b||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ss(),nl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const xe=Pn(this.g);var v=this.g.Ba();const Gi=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Ec(this.g)))){this.J||xe!=4||v==7||(v==8||0>=Gi?Ss(3):Ss(2)),ws(this);var _=this.g.Z();this.X=_;e:if(mc(this)){var b=Ec(this.g);h="";var q=b.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),fi(this);var ut="";break e}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(Q&&v==q-1)});b.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=_==200,cd(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ce=this.g;if((Ot=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ot)){var Pt=Ot;break e}}Pt=null}if(_=Pt)As(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ar(this,_);else{this.o=!1,this.s=3,te(12),je(this),fi(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<ut.length;)if(Be=pc(this,ut),Be==ba){xe==4&&(this.s=4,te(14),_=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==il){this.s=4,te(15),As(this.i,this.l,ut,"[Invalid Chunk]"),_=!1;break}else As(this.i,this.l,Be,null),Ar(this,Be);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||ut.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)As(this.i,this.l,ut,"[Invalid Chunked Response]"),je(this),fi(this);else if(0<ut.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Pr(Ne),Ne.M=!0,te(11))}}else As(this.i,this.l,ut,null),Ar(this,ut);xe==4&&je(this),this.o&&!this.J&&(xe==4?Rc(this.j,this):(this.o=!1,Sr(this)))}else pd(this.g),_==400&&0<ut.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),je(this),fi(this)}}}catch{}finally{}};function mc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pc(h,v){var _=h.C,b=v.indexOf(`
`,_);return b==-1?ba:(_=Number(v.substring(_,b)),isNaN(_)?il:(b+=1,b+_>v.length?ba:(v=v.slice(b,b+_),h.C=b+_,v)))}on.prototype.cancel=function(){this.J=!0,je(this)};function Sr(h){h.S=Date.now()+h.I,gc(h,h.I)}function gc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_e(S(h.ba,h),v)}function ws(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(dc(this.i,this.A),this.L!=2&&(Ss(),te(17)),je(this),this.s=2,fi(this)):gc(this,this.S-h)};function fi(h){h.j.G==0||h.J||Rc(h.j,h)}function je(h){ws(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,_r(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ar(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||sl(_.h,h))){if(!h.K&&sl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)La(_),Pa(_);else break t;ml(_),te(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(S(_.Za,_),6e3));if(1>=Ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((h.K||_.g==h)&&La(_),!H(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let Pt=q[v];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const xe=Pt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Gi=Pt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(b=1.5*Gi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Be=h.g;if(Be){const _i=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=b.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ca(Q,Q.h),Q.h=null))}if(b.D){const gl=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(b.ya=gl,Gt(b.I,b.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ut=h;if(b.qa=xc(b,b.J?b.ia:null,b.W),ut.K){ln(b.h,ut);var Ot=ut,Ce=b.L;Ce&&(Ot.I=Ce),Ot.B&&(ws(Ot),Sr(Ot)),b.g=ut}else bc(b);0<_.i.length&&Va(_)}else Pt[0]!="stop"&&Pt[0]!="close"||qi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?qi(_,7):fl(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Ss(4)}catch{}}var yc=class{constructor(h,v){this.g=h,this.map=v}};function Ui(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ra(h){return h.h?1:h.g?h.g.size:0}function sl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ca(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ui.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return j(h.i)}function hd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,b=0;b<_;b++)v.push(h[b]);return v}v=[],_=0;for(b in h)v[_++]=h[b];return v}function xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const b in h)v[_++]=b;return v}}}function al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=xa(h),b=hd(h),q=b.length,Q=0;Q<q;Q++)v.call(void 0,b[Q],_&&_[Q],h)}var br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),q=null;if(0<=b){var Q=h[_].substring(0,b);q=h[_].substring(b+1)}else Q=h[_];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,wr(this,h.j),this.o=h.o,this.g=h.g,Rs(this,h.s),this.l=h.l;var v=h.i,_=new Bi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ji(this,_),this.m=h.m}else h&&(v=String(h).match(br))?(this.h=!1,wr(this,v[1]||"",!0),this.o=Mn(v[2]||""),this.g=Mn(v[3]||"",!0),Rs(this,v[4]),this.l=Mn(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=Mn(v[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Te.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Cr(v,ol,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Cr(v,ol,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Cr(_,_.charAt(0)=="/"?dd:ll,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Cr(_,Da)),h.join("")};function _n(h){return new Te(h)}function wr(h,v,_){h.j=_?Mn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Rs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ji(h,v,_){v instanceof Bi?(h.i=v,_c(h.i,h.h)):(_||(v=Cr(v,md)),h.i=new Bi(v,h.h))}function Gt(h,v,_){h.i.set(v,_)}function Rr(h){return Gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Mn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Cr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,vc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,dd=/[#\?]/g,md=/[#\?@]/g,Da=/#/g;function Bi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&fd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=Bi.prototype,e.add=function(h,v){Nn(this),this.i=null,h=di(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function zi(h,v){Nn(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fi(h,v){return Nn(h),v=di(h,v),h.g.has(v)}e.forEach=function(h,v){Nn(this),this.g.forEach(function(_,b){_.forEach(function(q){h.call(v,q,b,this)},this)},this)},e.na=function(){Nn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let b=0;b<v.length;b++){const q=h[b];for(let Q=0;Q<q.length;Q++)_.push(v[b])}return _},e.V=function(h){Nn(this);let v=[];if(typeof h=="string")Fi(this,h)&&(v=v.concat(this.g.get(di(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Nn(this),this.i=null,h=di(this,h),Fi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ul(h,v,_){zi(h,v),0<_.length&&(h.i=null,h.g.set(di(h,v),j(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var b=v[_];const Q=encodeURIComponent(String(b)),ut=this.V(b);for(b=0;b<ut.length;b++){var q=Q;ut[b]!==""&&(q+="="+encodeURIComponent(String(ut[b]))),h.push(q)}}return this.i=h.join("&")};function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function _c(h,v){v&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(_,b){var q=b.toLowerCase();b!=q&&(zi(this,b),ul(this,q,_))},h)),h.j=v}function xr(h,v){const _=new In;if(d.Image){const b=new Image;b.onload=C(On,_,"TestLoadImage: loaded",!0,v,b),b.onerror=C(On,_,"TestLoadImage: error",!1,v,b),b.onabort=C(On,_,"TestLoadImage: abort",!1,v,b),b.ontimeout=C(On,_,"TestLoadImage: timeout",!1,v,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Xn(h,v){const _=new In,b=new AbortController,q=setTimeout(()=>{b.abort(),On(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?On(_,"TestPingServer: ok",!0,v):On(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),On(_,"TestPingServer: error",!1,v)})}function On(h,v,_,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(_)}catch{}}function Dr(){this.g=new Tr}function mi(h,v,_){const b=_||"";try{al(h,function(q,Q){let ut=q;g(q)&&(ut=$n(q)),v.push(b+Q+"="+encodeURIComponent(ut))})}catch(q){throw v.push(b+"type="+encodeURIComponent("_badmap")),q}}function Cs(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Cs,Wo),Cs.prototype.g=function(){return new Hi(this.l,this.j)},Cs.prototype.i=(function(h){return function(){return h}})({});function Hi(h,v){le.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Hi,le),e=Hi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?pi(this):gi(this),this.readyState==3&&cl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},e.Qa=function(h){this.g&&(this.response=h,pi(this))},e.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let v="";return rt(h,function(_,b){v+=b,v+=":",v+=_,v+=`\r
`}),v}function Me(h,v,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=hl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Gt(h,v,_))}function Bt(h){le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Bt,le);var Ia=/^https?$/i,Ir=["POST","PUT"];e=Bt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Zo(this.o):Zo(ci),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Tc(this,Q);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)_.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ir,v,void 0))||b||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ut]of _)this.g.setRequestHeader(Q,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Tc(this,Q)}};function Tc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ma(h),yi(h)}function Ma(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},e.bb=function(){Na(this)};function Na(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)Je(h.Ea,0,h);else if(Ft(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var b;if(b=ut===0){var q=String(h.D).match(br)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),b=!Ia.test(q?q.toLowerCase():"")}_=b}if(_)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var Q=2<Pn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Ma(h)}}finally{yi(h)}}}}function yi(h,v){if(h.g){Mr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ft(h,"ready");try{_.onreadystatechange=b}catch{}}}function Mr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Sa(v)}};function Ec(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(h){const v={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(H(h[b]))continue;var _=V(h[b]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[q]||[];v[q]=Q,Q.push(_)}x(v,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Oa(h){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,h),this.cb=Nr("retryDelaySeedMs",1e4,h),this.Wa=Nr("forwardChannelMaxRetries",2,h),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(h&&h.concurrentRequestLimit),this.Da=new Dr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Oa.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,b){te(0),this.W=h,this.H=v||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=xc(this,null,this.W),Va(this)};function fl(h){if(Sc(h),h.G==3){var v=h.U++,_=_n(h.I);if(Gt(_,"SID",h.K),Gt(_,"RID",v),Gt(_,"TYPE","terminate"),Or(h,_),v=new on(h,h.j,v),v.L=2,v.v=Rr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Dc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Sr(v)}Cc(h)}function Pa(h){h.g&&(Pr(h),h.g.cancel(),h.g=null)}function Sc(h){Pa(h),h.u&&(d.clearTimeout(h.u),h.u=null),La(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Va(h){if(!wa(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||O(),ht||(at(),ht=!0),bt.add(v,h),h.B=0}}function gd(h,v){return Ra(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_e(S(h.Ga,h,v),pl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new on(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=Ac(this,q,v),_=_n(this.I),Gt(_,"RID",h),Gt(_,"CVER",22),this.D&&Gt(_,"X-HTTP-Session-Id",this.D),Or(this,_),Q&&(this.O?v="headers="+encodeURIComponent(String(hl(Q)))+"&"+v:this.m&&Me(_,this.m,Q)),Ca(this.h,q),this.Ua&&Gt(_,"TYPE","init"),this.P?(Gt(_,"$req",v),Gt(_,"SID","null"),q.T=!0,Yn(q,_,null)):Yn(q,_,v),this.G=2}}else this.G==3&&(h?dl(this,h):this.i.length==0||wa(this.h)||dl(this))};function dl(h,v){var _;v?_=v.l:_=h.U++;const b=_n(h.I);Gt(b,"SID",h.K),Gt(b,"RID",_),Gt(b,"AID",h.T),Or(h,b),h.m&&h.o&&Me(b,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ac(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ca(h.h,_),Yn(_,b,v)}function Or(h,v){h.H&&rt(h.H,function(_,b){Gt(v,b,_)}),h.l&&al({},function(_,b){Gt(v,b,_)})}function Ac(h,v,_){_=Math.min(h.i.length,_);var b=h.l?S(h.l.Na,h.l,h):null;t:{var q=h.i;let Q=-1;for(;;){const ut=["count="+_];Q==-1?0<_?(Q=q[0].g,ut.push("ofs="+Q)):Q=0:ut.push("ofs="+Q);let Ot=!0;for(let Ce=0;Ce<_;Ce++){let Pt=q[Ce].g;const Ne=q[Ce].map;if(Pt-=Q,0>Pt)Q=Math.max(0,q[Ce].g-100),Ot=!1;else try{mi(Ne,ut,"req"+Pt+"_")}catch{b&&b(Ne)}}if(Ot){b=ut.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,b}function bc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||O(),ht||(at(),ht=!0),bt.add(v,h),h.v=0}}function ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_e(S(h.Fa,h),pl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_e(S(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Pa(this),wc(this))};function Pr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function wc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);Gt(v,"RID","rpc"),Gt(v,"SID",h.K),Gt(v,"AID",h.T),Gt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Gt(v,"TO",h.ja),Gt(v,"TYPE","xmlhttp"),Or(h,v),h.m&&h.o&&Me(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Rr(_n(v)),_.m=null,_.P=!0,ki(_,h)}e.Za=function(){this.C!=null&&(this.C=null,Pa(this),ml(this),te(19))};function La(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Rc(h,v){var _=null;if(h.g==v){La(h),Pr(h),h.g=null;var b=2}else if(sl(h.h,v))_=v.D,ln(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;b=Es(),Ft(b,new Re(b,_)),Va(h)}else bc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(b==1&&gd(h,v)||b==2&&ml(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),q){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function pl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function qi(h,v){if(h.j.info("Error code "+v),v==2){var _=S(h.fb,h),b=h.Xa;const q=!b;b=new Te(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||wr(b,"https"),Rr(b),q?xr(b.toString(),_):Xn(b.toString(),_)}else te(2);h.G=0,h.l&&h.l.sa(v),Cc(h),Sc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Cc(h){if(h.G=0,h.ka=[],h.l){const v=rl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function xc(h,v,_){var b=_ instanceof Te?_n(_):new Te(_);if(b.g!="")v&&(b.g=v+"."+b.g),Rs(b,b.s);else{var q=d.location;b=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Te(null);b&&wr(Q,b),v&&(Q.g=v),q&&Rs(Q,q),_&&(Q.l=_),b=Q}return _=h.D,v=h.ya,_&&v&&Gt(b,_,v),Gt(b,"VER",h.la),Or(h,b),b}function Dc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Bt(new Cs({eb:_})):new Bt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ic(){}e=Ic.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ka(){}ka.prototype.g=function(h,v){return new un(h,v)};function un(h,v){le.call(this),this.g=new Oa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!H(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vi(this)}I(un,le),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){fl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=$n(h),h=_);v.i.push(new yc(v.Ya++,h)),v.G==3&&Va(v)},un.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,un.aa.N.call(this)};function Mc(h){Vi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Mc,Vi);function Nc(){tl.call(this),this.status=1}I(Nc,tl);function vi(h){this.g=h}I(vi,Ic),vi.prototype.ua=function(){Ft(this.g,"a")},vi.prototype.ta=function(h){Ft(this.g,new Mc(h))},vi.prototype.sa=function(h){Ft(this.g,new Nc)},vi.prototype.ra=function(){Ft(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,qb=function(){return new ka},Hb=function(){return Es()},Fb=ui,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,Wh=bs,Li.COMPLETE="complete",zb=Li,Jo.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",le.prototype.listen=le.prototype.K,hu=Jo,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Bb=Bt}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",AE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Zg("@firebase/firestore");function fo(){return ha.logLevel}function dt(e,...t){if(ha.logLevel<=Nt.DEBUG){const n=t.map(cy);ha.debug(`Firestore (${Ho}): ${e}`,...n)}}function fa(e,...t){if(ha.logLevel<=Nt.ERROR){const n=t.map(cy);ha.error(`Firestore (${Ho}): ${e}`,...n)}}function jf(e,...t){if(ha.logLevel<=Nt.WARN){const n=t.map(cy);ha.warn(`Firestore (${Ho}): ${e}`,...n)}}function cy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Gb(e,r,n)}function Gb(e,t,n){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fa(r),new Error(r)}function de(e,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,e||Gb(t,o,r)}function Zt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class QN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WN{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){de(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Kb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class ZN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){de(this.o===void 0,3512);const r=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=eO(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function zt(e,t){return e<t?-1:e>t?1:0}function ig(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return Sp(o)===Sp(u)?zt(o,u):Sp(o)?1:-1}return zt(e.length,t.length)}const nO=55296,iO=57343;function Sp(e){const t=e.charCodeAt(0);return t>=nO&&t<=iO}function Do(e,t,n){return e.length===t.length&&e.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class wi{constructor(t,n,r){n===void 0?n=0:n>t.length&&xt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&xt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=wi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const r=wi.isNumericId(t),o=wi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(t).compare(wi.extractNumericId(n)):ig(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uy.fromString(t.substring(4,t.length-2))}}class ve extends wi{construct(t,n,r){return new ve(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ve(n)}static emptyPath(){return new ve([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,n,r){return new Ye(t,n,r)}static isValidIdentifier(t){return sO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Ye([wE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new gt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new gt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new gt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(ve.fromString(t))}static fromName(t){return new Rt(ve.fromString(t).popFirst(5))}static empty(){return new Rt(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ve.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new ve(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e,t,n){if(!n)throw new gt(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function aO(e,t,n,r){if(t===!0&&r===!0)throw new gt(ot.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function RE(e){if(!Rt.isDocumentKey(e))throw new gt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $b(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function fy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xt(12329,{type:typeof e})}function Io(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fy(e);throw new gt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e,t){const n={typeString:e};return t&&(n.value=t),n}function Zu(e,t){if(!$b(e))throw new gt(ot.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new gt(ot.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,xE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*xE);return new ie(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<CE)throw new gt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:we("string",ie._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(t){return new ne(t)}static min(){return new ne(new ie(0,0))}static max(){return new ne(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function oO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=ne.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new rr(o,Rt.empty(),t)}function lO(e){return new rr(e.readTime,e.key,Mu)}class rr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(ne.min(),Rt.empty(),Mu)}static max(){return new rr(ne.max(),Rt.empty(),Mu)}}function uO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Rt.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==cO)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,r)=>{n(t)}))}static reject(t){return new st(((n,r)=>{r(t)}))}static waitFor(t){return new st(((n,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(m=>r(m)))})),c=!0,u===o&&n()}))}static or(t){let n=st.resolve(!1);for(const r of t)n=n.next((o=>o?st.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new st(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new st(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function fO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}my.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-1;function gy(e){return e==null}function gf(e){return e===0&&1/e==-1/0}function dO(e){return typeof e=="number"&&Number.isInteger(e)&&!gf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="";function mO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=DE(t)),t=pO(e.get(n),t);return DE(t)}function pO(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case Yb:n+="";break;default:n+=u}}return n}function DE(e){return e+Yb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ya(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new yn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new yn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lh(this.root,t,this.comparator,!0)}}class Lh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ke(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.comparator=t,this.data=new yn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(t){return new ME(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Qe(this.comparator);return n.data=t,n}}class ME{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new xn([])}unionWith(t){let n=new Qe(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gO("Invalid base64 string: "+u):u}})(t);return new Mi(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Mi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const yO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(e){if(de(!!e,39018),typeof e=="string"){let t=0;const n=yO.exec(e);if(de(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$e(e.seconds),nanos:$e(e.nanos)}}function $e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mo(e){return typeof e=="string"?Mi.fromBase64String(e):Mi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="server_timestamp",Wb="__type__",Zb="__previous_value__",Jb="__local_write_time__";function yy(e){return(e?.mapValue?.fields||{})[Wb]?.stringValue===Qb}function vy(e){const t=e.mapValue.fields[Zb];return yy(t)?vy(t):t}function yf(e){const t=da(e.mapValue.fields[Jb].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,n,r,o,u,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const vf="(default)";class _f{constructor(t,n){this.projectId=t,this.database=n||vf}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof _f&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="__type__",_O="__max__",kh={mapValue:{}},ew="__vector__",sg="value";function ma(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yy(e)?4:EO(e)?9007199254740991:TO(e)?10:11:xt(28295,{value:e})}function Ni(e,t){if(e===t)return!0;const n=ma(e);if(n!==ma(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yf(e).isEqual(yf(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=da(o.timestampValue),d=da(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Mo(o.bytesValue).isEqual(Mo(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return $e(o.geoPointValue.latitude)===$e(u.geoPointValue.latitude)&&$e(o.geoPointValue.longitude)===$e(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return $e(o.integerValue)===$e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=$e(o.doubleValue),d=$e(u.doubleValue);return c===d?gf(c)===gf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Do(e.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(IE(c)!==IE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ni(c[m],d[m])))return!1;return!0})(e,t);default:return xt(52216,{left:e})}}function Nu(e,t){return(e.values||[]).find((n=>Ni(n,t)))!==void 0}function No(e,t){if(e===t)return 0;const n=ma(e),r=ma(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=$e(u.integerValue||u.doubleValue),m=$e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return NE(e.timestampValue,t.timestampValue);case 4:return NE(yf(e),yf(t));case 5:return ig(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=Mo(u),m=Mo(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=zt(d[g],m[g]);if(y!==0)return y}return zt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=zt($e(u.latitude),$e(c.latitude));return d!==0?d:zt($e(u.longitude),$e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return OE(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[sg]?.arrayValue,y=m[sg]?.arrayValue,T=zt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:OE(g,y)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===kh.mapValue&&c===kh.mapValue)return 0;if(u===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const S=ig(m[T],y[T]);if(S!==0)return S;const C=No(d[m[T]],g[y[T]]);if(C!==0)return C}return zt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw xt(23264,{he:n})}}function NE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=da(e),r=da(t),o=zt(n.seconds,r.seconds);return o!==0?o:zt(n.nanos,r.nanos)}function OE(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=No(n[o],r[o]);if(u)return u}return zt(n.length,r.length)}function Oo(e){return rg(e)}function rg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=da(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Mo(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Rt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=rg(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${rg(n.fields[c])}`;return o+"}"})(e.mapValue):xt(61005,{value:e})}function Zh(e){switch(ma(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vy(e);return t?16+Zh(t):16;case 5:return 2*e.stringValue.length;case 6:return Mo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Zh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return ya(r.fields,((u,c)=>{o+=u.length+Zh(c)})),o})(e.mapValue);default:throw xt(13486,{value:e})}}function ag(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function Jh(e){return!!e&&"mapValue"in e}function TO(e){return(e?.mapValue?.fields||{})[tw]?.stringValue===ew}function gu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ya(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=gu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gu(e.arrayValue.values[n]);return t}return{...e}}function EO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(n)}setAll(t){let n=Ye.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=gu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ya(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Cn(gu(this.value))}}function nw(e){const t=[];return ya(e.fields,((n,r)=>{const o=new Ye([n]);if(Jh(r)){const u=nw(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,n,r,o,u,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ti(t,0,ne.min(),ne.min(),ne.min(),Cn.empty(),0)}static newFoundDocument(t,n,r,o){return new ti(t,1,n,ne.min(),r,o,0)}static newNoDocument(t,n){return new ti(t,2,n,ne.min(),ne.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new ti(t,3,n,ne.min(),ne.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n){this.position=t,this.inclusive=n}}function PE(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),n.key):r=No(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ni(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function SO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class ke extends iw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new bO(t,n,r):n==="array-contains"?new CO(t,r):n==="in"?new xO(t,r):n==="not-in"?new DO(t,r):n==="array-contains-any"?new IO(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new wO(t,r):new RO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends iw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ar(t,n)}matches(t){return sw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sw(e){return e.op==="and"}function rw(e){return AO(e)&&sw(e)}function AO(e){for(const t of e.filters)if(t instanceof ar)return!1;return!0}function og(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+Oo(e.value);if(rw(e))return e.filters.map((t=>og(t))).join(",");{const t=e.filters.map((n=>og(n))).join(",");return`${e.op}(${t})`}}function aw(e,t){return e instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Ni(r.value,o.value)})(e,t):e instanceof ar?(function(r,o){return o instanceof ar&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&aw(c,o.filters[d])),!0):!1})(e,t):void xt(19439)}function ow(e){return e instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(e):e instanceof ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(ow).join(" ,")+"}"})(e):"Filter"}class bO extends ke{constructor(t,n,r){super(t,n,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const n=Rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wO extends ke{constructor(t,n){super(t,"in",n),this.keys=lw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class RO extends ke{constructor(t,n){super(t,"not-in",n),this.keys=lw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function lw(e,t){return(t.arrayValue?.values||[]).map((n=>Rt.fromName(n.referenceValue)))}class CO extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _y(n)&&Nu(n.arrayValue,this.value)}}class xO extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class DO extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class IO extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function LE(e,t=null,n=[],r=[],o=null,u=null,c=null){return new MO(e,t,n,r,o,u,c)}function Ty(e){const t=Zt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>og(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Oo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Oo(r))).join(",")),t.Te=n}return t.Te}function Ey(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!SO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VE(e.startAt,t.startAt)&&VE(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NO(e,t,n,r,o,u,c,d){return new Bf(e,t,n,r,o,u,c,d)}function OO(e){return new Bf(e)}function kE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PO(e){return e.collectionGroup!==null}function yu(e){const t=Zt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qe(Ye.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ef(u,r))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new Ef(Ye.keyField(),r))}return t.Ie}function ia(e){const t=Zt(e);return t.Ee||(t.Ee=VO(t,yu(e))),t.Ee}function VO(e,t){if(e.limitType==="F")return LE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ef(o.field,u)}));const n=e.endAt?new Tf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tf(e.startAt.position,e.startAt.inclusive):null;return LE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lg(e,t,n){return new Bf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uw(e,t){return Ey(ia(e),ia(t))&&e.limitType===t.limitType}function cw(e){return`${Ty(ia(e))}|lt:${e.limitType}`}function ru(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ow(o))).join(", ")}]`),gy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${r})`})(ia(e))}; limitType=${e.limitType})`}function Sy(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of yu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,m){const g=PE(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,yu(r),o)||r.endAt&&!(function(c,d,m){const g=PE(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,yu(r),o))})(e,t)}function LO(e){return(t,n)=>{let r=!1;for(const o of yu(e)){const u=kO(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function kO(e,t,n){const r=e.field.isKeyField()?Rt.comparator(t.key,n.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?No(m,g):xt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new yn(Rt.comparator);function Sf(){return UO}const hw=new yn(Rt.comparator);function Uh(...e){let t=hw;for(const n of e)t=t.insert(n.key,n);return t}function fw(e){let t=hw;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Jr(){return vu()}function dw(){return vu()}function vu(){return new va((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jO=new yn(Rt.comparator),BO=new Qe(Rt.comparator);function rn(...e){let t=BO;for(const n of e)t=t.add(n);return t}const zO=new Qe(zt);function FO(){return zO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(t)?"-0":t}}function mw(e){return{integerValue:""+e}}function HO(e,t){return dO(t)?mw(t):Ay(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function qO(e,t,n){return e instanceof Ou?(function(o,u){const c={fields:{[Wb]:{stringValue:Qb},[Jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yy(u)&&(u=vy(u)),u&&(c.fields[Zb]=u),{mapValue:c}})(n,t):e instanceof Pu?gw(e,t):e instanceof Vu?yw(e,t):(function(o,u){const c=pw(o,u),d=UE(c)+UE(o.Ae);return ag(c)&&ag(o.Ae)?mw(d):Ay(o.serializer,d)})(e,t)}function GO(e,t,n){return e instanceof Pu?gw(e,t):e instanceof Vu?yw(e,t):n}function pw(e,t){return e instanceof Af?(function(r){return ag(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Ou extends zf{}class Pu extends zf{constructor(t){super(),this.elements=t}}function gw(e,t){const n=vw(t);for(const r of e.elements)n.some((o=>Ni(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Vu extends zf{constructor(t){super(),this.elements=t}}function yw(e,t){let n=vw(t);for(const r of e.elements)n=n.filter((o=>!Ni(o,r)));return{arrayValue:{values:n}}}class Af extends zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function UE(e){return $e(e.integerValue||e.doubleValue)}function vw(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.field=t,this.transform=n}}function $O(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Pu&&o instanceof Pu||r instanceof Vu&&o instanceof Vu?Do(r.elements,o.elements,Ni):r instanceof Af&&o instanceof Af?Ni(r.Ae,o.Ae):r instanceof Ou&&o instanceof Ou})(e.transform,t.transform)}class YO{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ff{}function _w(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new by(e.key,ii.none()):new tc(e.key,e.data,ii.none());{const n=e.data,r=Cn.empty();let o=new Qe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new hr(e.key,r,new xn(o.toArray()),ii.none())}}function XO(e,t,n){e instanceof tc?(function(o,u,c){const d=o.value.clone(),m=BE(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof hr?(function(o,u,c){if(!tf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=BE(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(Tw(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function _u(e,t,n,r){return e instanceof tc?(function(u,c,d,m){if(!tf(u.precondition,c))return d;const g=u.value.clone(),y=zE(u.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof hr?(function(u,c,d,m){if(!tf(u.precondition,c))return d;const g=zE(u.fieldTransforms,m,c),y=c.data;return y.setAll(Tw(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(e,t,n,r):(function(u,c,d){return tf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function QO(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=pw(r.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,u))}return n||null}function jE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((u,c)=>$O(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tc extends Ff{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends Ff{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function BE(e,t,n){const r=new Map;de(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,GO(c,d,n[o]))}return r}function zE(e,t,n){const r=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);r.set(o.field,qO(u,c,t))}return r}class by extends Ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&XO(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=dw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const m=_w(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(ne.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),rn())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,((n,r)=>jE(n,r)))&&Do(this.baseMutations,t.baseMutations,((n,r)=>jE(n,r)))}}class wy{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){de(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return jO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new wy(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Lt;function tP(e){switch(e){case ot.OK:return xt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return xt(15467,{code:e})}}function eP(e){if(e===void 0)return fa("GRPC error has no .code"),ot.UNKNOWN;switch(e){case Ae.OK:return ot.OK;case Ae.CANCELLED:return ot.CANCELLED;case Ae.UNKNOWN:return ot.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return ot.INTERNAL;case Ae.UNAVAILABLE:return ot.UNAVAILABLE;case Ae.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ae.NOT_FOUND:return ot.NOT_FOUND;case Ae.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ae.ABORTED:return ot.ABORTED;case Ae.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ae.DATA_LOSS:return ot.DATA_LOSS;default:return xt(39323,{code:e})}}(Lt=Ae||(Ae={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new uy([4294967295,4294967295],0);class nP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ug(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sP(e,t){return ug(e,t.toTimestamp())}function bo(e){return de(!!e,49232),ne.fromTimestamp((function(n){const r=da(n);return new ie(r.seconds,r.nanos)})(e))}function Ew(e,t){return cg(e,t).canonicalString()}function cg(e,t){const n=(function(o){return new ve(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function rP(e){const t=ve.fromString(e);return de(dP(t),10190,{key:t.toString()}),t}function hg(e,t){return Ew(e.databaseId,t.path)}function aP(e){const t=rP(e);return t.length===4?ve.emptyPath():lP(t)}function oP(e){return new ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lP(e){return de(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function FE(e,t,n){return{name:hg(e,t),fields:n.value.mapValue.fields}}function uP(e,t){let n;if(t instanceof tc)n={update:FE(e,t.key,t.value)};else if(t instanceof by)n={delete:hg(e,t.key)};else if(t instanceof hr)n={update:FE(e,t.key,t.data),updateMask:fP(t.fieldMask)};else{if(!(t instanceof WO))return xt(16599,{Vt:t.type});n={verify:hg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Af)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sP(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)})(e,t.precondition)),n}function cP(e,t){return e&&e.length>0?(de(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?bo(o.updateTime):bo(u);return c.isEqual(ne.min())&&(c=bo(u)),new YO(c,o.transformResults||[])})(n,t)))):[]}function hP(e){let t=aP(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){de(r===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=(function(T){const S=Sw(T);return S instanceof ar&&rw(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(I){return new Ef(mo(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,gy(S)?null:S})(n.limit));let m=null;n.startAt&&(m=(function(T){const S=!!T.before,C=T.values||[];return new Tf(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,C=T.values||[];return new Tf(C,S)})(n.endAt)),NO(t,o,c,u,d,"F",m,g)}function Sw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ke.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ar.create(n.compositeFilter.filters.map((r=>Sw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(n.compositeFilter.op))})(e):xt(30097,{filter:e})}function mo(e){return Ye.fromServerFormat(e.fieldPath)}function fP(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function dP(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t){this.yt=t}}function pP(e){const t=hP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.Cn=new yP}addToCollectionParentIndex(t,n){return this.Cn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(rr.min())}updateCollectionGroup(t,n,r){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class yP{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Qe(ve.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Qe(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Aw=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(Aw,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LruGarbageCollector",vP=1048576;function GE([e,t],[n,r]){const o=zt(e,n);return o===0?zt(t,r):o}class _P{constructor(t){this.Ir=t,this.buffer=new Qe(GE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TP{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(qE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ju(n)?dt(qE,"Ignoring IndexedDB error during garbage collection: ",n):await dy(n)}await this.Vr(3e5)}))}}class EP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(my.ce);const r=new _P(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(HE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,d=Date.now(),this.removeTargets(t,r,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),fo()<=Nt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function SP(e,t){return new EP(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.changes=new va((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ti.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?st.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&_u(r.mutation,o,xn.empty(),ie.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,rn()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=rn()){const o=Jr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=Uh();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=Jr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,rn())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,o){let u=Sf();const c=vu(),d=(function(){return vu()})();return n.forEach(((m,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof hr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),_u(y.mutation,g,y.mutation.getFieldMask(),ie.now())):c.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new bP(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=vu();let o=new yn(((c,d)=>c-d)),u=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=r.get(m)||xn.empty();y=d.applyToLocalView(g,y),r.set(m,y);const T=(o.get(d.batchId)||rn()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,T=dw();y.forEach((S=>{if(!u.has(S)){const C=_w(n.get(S),r.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):PO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):st.resolve(Jr());let d=Mu,m=u;return c.next((g=>st.forEach(g,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,rn()))).next((y=>({batchId:d,changes:fw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Rt(n)).next((r=>{let o=Uh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=Uh();return this.indexManager.getCollectionParents(t,u).next((d=>st.forEach(d,(m=>{const g=(function(T,S){return new Bf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ti.newInvalidDocument(y)))}));let d=Uh();return c.forEach(((m,g)=>{const y=u.get(m);y!==void 0&&_u(y.mutation,g,xn.empty(),ie.now()),Sy(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return st.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:bo(o.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:pP(o.bundledQuery),readTime:bo(o.readTime)}})(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.overlays=new yn(Rt.comparator),this.qr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jr();return st.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),st.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),st.resolve()}getOverlaysForCollection(t,n,r){const o=Jr(),u=n.length+1,c=new Rt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return st.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new yn(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=Jr(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Jr(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return st.resolve(d)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new JO(n,r));let u=this.qr.get(n);u===void 0&&(u=rn(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Qr=new Qe(Le.$r),this.Ur=new Qe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Le(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Le(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Rt(new ve([])),r=new Le(n,t),o=new Le(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Rt(new ve([])),r=new Le(n,t),o=new Le(n,t+1);let u=rn();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Le(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Rt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||Rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Le.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ZO(u,n,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Le(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?py:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Qe(zt);return n.forEach((o=>{const u=new Le(o,0),c=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),st.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new Le(new Rt(u),0);let d=new Qe(zt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),st.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return st.forEach(n.mutations,(o=>{const u=new Le(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Le(n,0),o=this.Zr.firstAfterOrEqual(r);return st.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t){this.ri=t,this.docs=(function(){return new yn(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return st.resolve(r?r.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(t,n){let r=Sf();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ti.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=Sf();const c=n.path,d=new Rt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uO(lO(y),r)<=0||(o.has(y.key)||Sy(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,n,r,o){xt(9500)}ii(t,n){return st.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new MP(this)}getSize(t){return st.resolve(this.size)}}class MP extends AP{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),st.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t){this.persistence=t,this.si=new va((n=>Ty(n)),Ey),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Ry,this.targetCount=0,this.ai=Po.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),st.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.Pr(n),st.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return st.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),st.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return st.resolve(r)}containsKey(t,n){return st.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,n){this.ui={},this.overlays={},this.ci=new my(0),this.li=!1,this.li=!0,this.hi=new xP,this.referenceDelegate=t(this),this.Pi=new NP(this),this.indexManager=new gP,this.remoteDocumentCache=(function(o){return new IP(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mP(n),this.Ii=new RP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new DP(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){dt("MemoryPersistence","Starting transaction:",t);const o=new OP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return st.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class OP extends hO{constructor(t){super(),this.currentSequenceNumber=t}}class Cy{constructor(t){this.persistence=t,this.Ri=new Ry,this.Vi=null}static mi(t){return new Cy(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),st.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,ne.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bf{constructor(t,n){this.persistence=t,this.pi=new va((r=>mO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=SP(this,n)}static mi(t,n){return new bf(t,n)}Ei(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return st.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?st.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(r++,u.removeEntry(c,ne.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zh(t.data.value)),n}br(t,n,r){return st.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=rn(),o=rn();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xy(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fI()?8:fO(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new PP;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(fo()<=Nt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(fo()<=Nt.DEBUG&&dt("QueryEngine","Query:",ru(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(fo()<=Nt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ia(n))):st.resolve())}ys(t,n){if(kE(n))return st.resolve(null);let r=ia(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lg(n,null,"F"),r=ia(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=rn(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,lg(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,r,o){return kE(n)||o.isEqual(ne.min())?st.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?st.resolve(null):(fo()<=Nt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ru(n)),this.vs(t,c,n,oO(o,Mu)).next((d=>d)))}))}Ds(t,n){let r=new Qe(LO(t));return n.forEach(((o,u)=>{Sy(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return fo()<=Nt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",ru(n)),this.ps.getDocumentsMatchingQuery(t,n,rr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="LocalStore";class kP{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new yn(zt),this.xs=new va((u=>Ty(u)),Ey),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function UP(e,t,n,r){return new kP(e,t,n,r)}async function ww(e,t){const n=Zt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let m=rn();for(const g of o){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function jP(e,t){const n=Zt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const T=g.batch,S=T.keys();let C=st.resolve();return S.forEach((I=>{C=C.next((()=>y.getEntry(m,I))).next((j=>{const k=g.docVersions.get(I);de(k!==null,48541),j.version.compareTo(k)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=rn();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function BP(e){const t=Zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function zP(e,t){const n=Zt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=py),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}class KE{constructor(){this.activeTargetIds=FO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FP{constructor(){this.Mo=new KE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new KE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class YE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt($E,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt($E,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function fg(){return jh===null?jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",qP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=fg(),d=this.zo(t,n.toUriEncodedString());dt(Ap,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),y=Bo(g);return this.Jo(t,d,m,r,y).then((T=>(dt(Ap,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw jf(Ap,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=qP[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class $P extends GP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=fg();return new Promise(((d,m)=>{const g=new Bb;g.setWithCredentials(!0),g.listenOnce(zb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wh.NO_ERROR:const T=g.getResponseJson();dt(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Wh.TIMEOUT:dt(nn,`RPC '${t}' ${c} timed out`),m(new gt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const S=g.getStatus();if(dt(nn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C?.error;if(I&&I.status&&I.message){const j=(function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(H)>=0?H:ot.UNKNOWN})(I.status);m(new gt(j,I.message))}else m(new gt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new gt(ot.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);dt(nn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",y,r,15)}))}T_(t,n,r){const o=fg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=qb(),d=Hb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");dt(nn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let S=!1,C=!1;const I=new KP({Yo:k=>{C?dt(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(dt(nn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),dt(nn,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),j=(k,F,H)=>{k.listen(F,(Y=>{try{H(Y)}catch(et){setTimeout((()=>{throw et}),0)}}))};return j(T,hu.EventType.OPEN,(()=>{C||(dt(nn,`RPC '${t}' stream ${o} transport opened.`),I.o_())})),j(T,hu.EventType.CLOSE,(()=>{C||(C=!0,dt(nn,`RPC '${t}' stream ${o} transport closed`),I.a_(),this.E_(T))})),j(T,hu.EventType.ERROR,(k=>{C||(C=!0,jf(nn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new gt(ot.UNAVAILABLE,"The operation could not be completed")))})),j(T,hu.EventType.MESSAGE,(k=>{if(!C){const F=k.data[0];de(!!F,16349);const H=F,Y=H?.error||H[0]?.error;if(Y){dt(nn,`RPC '${t}' stream ${o} received error:`,Y);const et=Y.status;let W=(function(w){const R=Ae[w];if(R!==void 0)return eP(R)})(et),rt=Y.message;W===void 0&&(W=ot.INTERNAL,rt="Unknown error status: "+et+" with message "+Y.message),C=!0,I.a_(new gt(W,rt)),T.close()}else dt(nn,`RPC '${t}' stream ${o} received:`,F),I.u_(F)}})),j(d,Fb.STAT_EVENT,(k=>{k.stat===ng.PROXY?dt(nn,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===ng.NOPROXY&&dt(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(e){return new nP(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class YP{constructor(t,n,r,o,u,c,d,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(fa(n.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(XE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(dt(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XP extends YP{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=cP(t.writeResults,t.commitTime),r=bo(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=oP(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>uP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class WP extends QP{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,cg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(ot.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,cg(n,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(ot.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fa(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RemoteStore";class JP{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ic(this)&&(dt(ec,"Restarting streams for network reachability change."),await(async function(m){const g=Zt(m);g.Ea.add(4),await nc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await qf(g)})(this))}))})),this.Ra=new ZP(r,o)}}async function qf(e){if(ic(e))for(const t of e.da)await t(!0)}async function nc(e){for(const t of e.da)await t(!1)}function ic(e){return Zt(e).Ea.size===0}async function Cw(e,t,n){if(!Ju(t))throw t;e.Ea.add(1),await nc(e),e.Ra.set("Offline"),n||(n=()=>BP(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(ec,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qf(e)}))}function xw(e,t){return t().catch((n=>Cw(e,n,t)))}async function Gf(e){const t=Zt(e),n=or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:py;for(;tV(t);)try{const o=await zP(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,eV(t,o)}catch(o){await Cw(t,o)}Dw(t)&&Iw(t)}function tV(e){return ic(e)&&e.Ta.length<10}function eV(e,t){e.Ta.push(t);const n=or(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Dw(e){return ic(e)&&!or(e).x_()&&e.Ta.length>0}function Iw(e){or(e).start()}async function nV(e){or(e).ra()}async function iV(e){const t=or(e);for(const n of e.Ta)t.ea(n.mutations)}async function sV(e,t,n){const r=e.Ta.shift(),o=wy.from(r,t,n);await xw(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Gf(e)}async function rV(e,t){t&&or(e).X_&&await(async function(r,o){if((function(c){return tP(c)&&c!==ot.ABORTED})(o.code)){const u=r.Ta.shift();or(r).B_(),await xw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gf(r)}})(e,t),Dw(e)&&Iw(e)}async function QE(e,t){const n=Zt(e);n.asyncQueue.verifyOperationInProgress(),dt(ec,"RemoteStore received new credentials");const r=ic(n);n.Ea.add(3),await nc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qf(n)}async function aV(e,t){const n=Zt(e);t?(n.Ea.delete(2),await qf(n)):t||(n.Ea.add(2),await nc(n),n.Ra.set("Unknown"))}function or(e){return e.fa||(e.fa=(function(n,r,o){const u=Zt(n);return u.sa(),new XP(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:nV.bind(null,e),r_:rV.bind(null,e),ta:iV.bind(null,e),na:sV.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Gf(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(ec,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,d=new Dy(t,n,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mw(e,t){if(fa("AsyncQueue",`${t}: ${e}`),Ju(e))return new gt(ot.UNAVAILABLE,`${t}: ${e}`);throw e}class oV{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Zt(n),u=o.queries;o.queries=WE(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new gt(ot.ABORTED,"Firestore shutting down"))}}function WE(){return new va((e=>cw(e)),uw)}function lV(e){e.Ca.forEach((t=>{t.next()}))}var ZE,JE;(JE=ZE||(ZE={})).Ma="default",JE.Cache="cache";const uV="SyncEngine";class cV{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new va((d=>cw(d)),uw),this.Iu=new Map,this.Eu=new Set,this.du=new yn(Rt.comparator),this.Au=new Map,this.Ru=new Ry,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hV(e,t,n){const r=pV(e);try{const o=await(function(c,d){const m=Zt(c),g=ie.now(),y=d.reduce(((C,I)=>C.add(I.key)),rn());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let I=Sf(),j=rn();return m.Ns.getEntries(C,y).next((k=>{I=k,I.forEach(((F,H)=>{H.isValidDocument()||(j=j.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,I))).next((k=>{T=k;const F=[];for(const H of d){const Y=QO(H,T.get(H.key).overlayedDocument);Y!=null&&F.push(new hr(H.key,Y,nw(Y.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,F,d)})).next((k=>{S=k;const F=k.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(C,k.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:fw(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new yn(zt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,n),await Kf(r,o.changes),await Gf(r.remoteStore)}catch(o){const u=Mw(o,"Failed to persist write");n.reject(u)}}function tS(e,t,n){const r=Zt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Zt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&lV(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fV(e,t){const n=Zt(e),r=t.batch.batchId;try{const o=await jP(n.localStore,t);Ow(n,r,null),Nw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kf(n,o)}catch(o){await dy(o)}}async function dV(e,t,n){const r=Zt(e);try{const o=await(function(c,d){const m=Zt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(de(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);Ow(r,t,n),Nw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kf(r,o)}catch(o){await dy(o)}}function Nw(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Ow(e,t,n){const r=Zt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}async function Kf(e,t,n){const r=Zt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){o.push(g);const y=xy.As(m.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,g){const y=Zt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(S=>st.forEach(S.Es,(C=>y.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>st.forEach(S.ds,(C=>y.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!Ju(T))throw T;dt(LP,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=y.Ms.get(S),I=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(S,j)}}})(r.localStore,u))}async function mV(e,t){const n=Zt(e);if(!n.currentUser.isEqual(t)){dt(uV,"User change. New user:",t.toKey());const r=await ww(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new gt(ot.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Kf(n,r.Ls)}}function pV(e){const t=Zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dV.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return UP(this.persistence,new VP,t.initialUser,this.serializer)}Cu(t){return new bw(Cy.mi,this.serializer)}Du(t){return new FP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class gV extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){de(this.persistence.referenceDelegate instanceof bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TP(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new bw((r=>bf.mi(r,n)),this.serializer)}}class dg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mV.bind(null,this.syncEngine),await aV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oV})()}createDatastore(t){const n=Hf(t.databaseInfo.databaseId),r=(function(u){return new $P(u)})(t.databaseInfo);return(function(u,c,d,m){return new WP(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,d){return new JP(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>tS(this.syncEngine,n,0)),(function(){return YE.v()?new YE:new HP})())}createSyncEngine(t,n){return(function(o,u,c,d,m,g,y){const T=new cV(o,u,c,d,m,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Zt(n);dt(ec,"RemoteStore shutting down."),r.Ea.add(5),await nc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class yV{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{dt(lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(dt(lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Mw(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function wp(e,t){e.asyncQueue.verifyOperationInProgress(),dt(lr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await ww(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function eS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vV(e);dt(lr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>QE(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>QE(t.remoteStore,o))),e._onlineComponents=t}async function vV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(lr,"Using user provided OfflineComponentProvider");try{await wp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;jf("Error using user provided cache. Falling back to memory cache: "+n),await wp(e,new wf)}}else dt(lr,"Using default OfflineComponentProvider"),await wp(e,new gV(void 0));return e._offlineComponents}async function _V(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(lr,"Using user provided OnlineComponentProvider"),await eS(e,e._uninitializedComponentsProvider._online)):(dt(lr,"Using default OnlineComponentProvider"),await eS(e,new dg))),e._onlineComponents}function TV(e){return _V(e).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firestore.googleapis.com",iS=!0;class sS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=iS}else this.host=t.host,this.ssl=t.ssl??iS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Aw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vP)throw new gt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pw(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Iy{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=nS.get(n);r&&(dt("ComponentProvider","Removing Datastore"),nS.delete(n),r.terminate())})(this),Promise.resolve()}}function EV(e,t,n,r={}){e=Io(e,Iy);const o=Bo(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(ZA(`https://${d}`),JA("Firestore",!0)),u.host!==Vw&&u.host!==d&&jf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:r};if(!oa(m,c)&&(e._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=sn.MOCK_USER;else{g=iI(r.mockUserToken,e._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new gt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(T)}e._authCredentials=new QN(new Kb(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new My(this.firestore,t,this._query)}}class Xe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Zu(n,Xe._jsonSchema))return new Xe(t,r||null,new Rt(ve.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:we("string",Xe._jsonSchemaVersion),referencePath:we("string")};class Lu extends My{constructor(t,n,r){super(t,n,OO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new Rt(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function $f(e,t,...n){if(e=We(e),arguments.length===1&&(t=hy.newId()),rO("doc","path",t),e instanceof Iy){const r=ve.fromString(t,...n);return RE(r),new Xe(e,null,new Rt(r))}{if(!(e instanceof Xe||e instanceof Lu))throw new gt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return RE(r),new Xe(e.firestore,e instanceof Lu?e.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="AsyncQueue";class aS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rw(this,"async_queue_retry"),this._c=()=>{const r=bp();r&&dt(rS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ju(t))throw t;dt(rS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,fa("INTERNAL UNHANDLED ERROR: ",oS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Dy.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:oS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function oS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Yf extends Iy{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new aS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aS(t),this._firestoreClient=void 0,await t}}}function SV(e,t){const n=typeof e=="object"?e:ib(),r=typeof e=="string"?e:vf,o=ty(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=eI("firestore");u&&EV(o,...u)}return o}function AV(e){if(e._terminated)throw new gt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bV(e),e._firestoreClient}function bV(e){const t=e._freezeSettings(),n=(function(o,u,c,d){return new vO(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Pw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new yV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(Mi.fromBase64String(t))}catch(n){throw new gt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ei(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zu(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:we("string",ei._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(t){if(Zu(t,us._jsonSchema))return new us(t.latitude,t.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:we("string",us._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zu(t,cs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new cs(t.vectorValues);throw new gt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:we("string",cs._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=/^__.*__$/;class RV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new tc(t,this.data,n,this.fieldTransforms)}}class Lw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new hr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:e})}}class Ny{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kw(this.Ac)&&wV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(t)}Cc(t,n,r,o=!1){return new Ny({Ac:t,methodName:n,Dc:r,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uw(e){const t=e._freezeSettings(),n=Hf(e._databaseId);return new CV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xV(e,t,n,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Py("Data must be an object, but it was:",c,r);const d=jw(r,c);let m,g;if(u.merge)m=new xn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const S=mg(t,T,n);if(!c.contains(S))throw new gt(ot.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zw(y,S)||y.push(S)}m=new xn(y),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new RV(new Cn(d),m,g)}class Wf extends Qf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wf}}class Oy extends Qf{_toFieldTransform(t){return new KO(t.path,new Ou)}isEqual(t){return t instanceof Oy}}function DV(e,t,n,r){const o=e.Cc(1,t,n);Py("Data must be an object, but it was:",o,r);const u=[],c=Cn.empty();ya(r,((m,g)=>{const y=Vy(t,m,n);g=We(g);const T=o.yc(y);if(g instanceof Wf)u.push(y);else{const S=Zf(g,T);S!=null&&(u.push(y),c.set(y,S))}}));const d=new xn(u);return new Lw(c,d,o.fieldTransforms)}function IV(e,t,n,r,o,u){const c=e.Cc(1,t,n),d=[mg(t,r,n)],m=[o];if(u.length%2!=0)throw new gt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(mg(t,u[S])),m.push(u[S+1]);const g=[],y=Cn.empty();for(let S=d.length-1;S>=0;--S)if(!zw(g,d[S])){const C=d[S];let I=m[S];I=We(I);const j=c.yc(C);if(I instanceof Wf)g.push(C);else{const k=Zf(I,j);k!=null&&(g.push(C),y.set(C,k))}}const T=new xn(g);return new Lw(y,T,c.fieldTransforms)}function Zf(e,t){if(Bw(e=We(e)))return Py("Unsupported field value:",t,e),jw(e,t);if(e instanceof Qf)return(function(r,o){if(!kw(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let m=Zf(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ie.fromDate(r);return{timestampValue:ug(o.serializer,u)}}if(r instanceof ie){const u=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ug(o.serializer,u)}}if(r instanceof us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:iP(o.serializer,r._byteString)};if(r instanceof Xe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ew(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cs)return(function(c,d){return{mapValue:{fields:{[tw]:{stringValue:ew},[sg]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ay(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fy(r)}`)})(e,t)}function jw(e,t){const n={};return Xb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(e,((r,o)=>{const u=Zf(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Bw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof us||e instanceof ei||e instanceof Xe||e instanceof Qf||e instanceof cs)}function Py(e,t,n){if(!Bw(n)||!$b(n)){const r=fy(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function mg(e,t,n){if((t=We(t))instanceof Xf)return t._internalPath;if(typeof t=="string")return Vy(e,t);throw Rf("Field path arguments must be of type string or ",e,!1,void 0,n)}const MV=new RegExp("[~\\*/\\[\\]]");function Vy(e,t,n){if(t.search(MV)>=0)throw Rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Xf(...t.split("."))._internalPath}catch{throw Rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rf(e,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new gt(ot.INVALID_ARGUMENT,d+e+m)}function zw(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Hw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NV extends Fw{data(){return super.data()}}function Hw(e,t){return typeof t=="string"?Vy(e,t):t instanceof Xf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wo extends Fw{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Hw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:we("string",wo._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class ef extends wo{data(t={}){return super.data(t)}}class Tu{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ef(this._firestore,this._userDataWriter,r.key,r,new Bh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new ef(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new ef(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:PV(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Tu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:e})}}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:we("string",Tu._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};function qw(e,t,n){e=Io(e,Xe);const r=Io(e.firestore,Yf),o=OV(e.converter,t,n);return Ly(r,[xV(Uw(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ii.none())])}function VV(e,t,n,...r){e=Io(e,Xe);const o=Io(e.firestore,Yf),u=Uw(o);let c;return c=typeof(t=We(t))=="string"||t instanceof Xf?IV(u,"updateDoc",e._key,t,n,r):DV(u,"updateDoc",e._key,t),Ly(o,[c.toMutation(e._key,ii.exists(!0))])}function LV(e){return Ly(Io(e.firestore,Yf),[new by(e._key,ii.none())])}function Ly(e,t){return(function(r,o){const u=new na;return r.asyncQueue.enqueueAndForget((async()=>hV(await TV(r),o,u))),u.promise})(AV(e),t)}function Cf(){return new Oy("serverTimestamp")}(function(t,n=!0){(function(o){Ho=o})(zo),Co(new la("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Yf(new WN(r.getProvider("auth-internal")),new tO(c,r.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(g.options.projectId,y)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),sr(SE,AE,t),sr(SE,AE,"esm2020")})();const ky="tasks",kV="users",UV={apiKey:"AIzaSyBHFp9ABa65e2t8_YTZe8IKxbKwusNU6s8",authDomain:"tasker-c3a75.firebaseapp.com",projectId:"tasker-c3a75",storageBucket:"tasker-c3a75.firebasestorage.app",messagingSenderId:"174521047172",appId:"1:174521047172:web:0f45ea276b7ed237794ad1",measurementId:"G-QTLCYRQZZP"},Gw=nb(UV),Jf=SV(Gw),xf=$N(Gw);function jV(e,t){return IM(xf,e,t)}async function BV(e,t,n){const r=await DM(xf,e,t);return await NM(r.user,{displayName:n}),await qw($f(Jf,kV,r.user.uid),{name:n,email:r.user.email,createdAt:Cf(),updatedAt:Cf()},{merge:!0}),r.user}async function zV(e,t){const n={...e,userId:e.userId??t??null,descricao:e.descricao??"",data:e.data,lastUpdated:Cf(),synced:!0},r=$f(Jf,ky,n.id);await qw(r,n)}async function FV(e,t){const n=$f(Jf,ky,e);await VV(n,{done:t,lastUpdated:Cf(),synced:!0})}async function HV(e){const t=$f(Jf,ky,e);await LV(t)}const Kw=P.createContext();function qo(){return P.useContext(Kw)}function qV({children:e}){const[t,n]=P.useState(null),[r,o]=P.useState(!0);P.useEffect(()=>VM(xf,m=>{n(m),o(!1)}),[]);const c={currentUser:t,logout:()=>LM(xf)};return z.jsx(Kw.Provider,{value:c,children:!r&&e})}function GV({children:e}){const{currentUser:t}=qo();return t?e:z.jsx(hD,{to:"/login"})}function KV(){const{pathname:e}=ys();return z.jsxs("nav",{className:"navbar-bottom",children:[z.jsx(Ii,{to:"/",className:e==="/"?"active":"",children:z.jsx("span",{className:"material-symbols-outlined",children:"home"})}),z.jsx(Ii,{to:"/dashboard",className:e==="/dashboard"?"active":"",children:z.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})})]})}function fu({children:e,showNavbar:t=!0}){return z.jsxs("div",{className:"app-container",children:[z.jsx("div",{className:"main-content d-flex flex-column",children:e}),t&&z.jsx(KV,{})]})}function $V(){return z.jsx(fu,{showNavbar:!0,children:z.jsx(fD,{})})}function YV(){const{currentUser:e}=qo(),t=e?.displayName&&e.displayName.trim();return z.jsxs("div",{className:"d-flex flex-row gap-10 justify-space-between align-center relative mb-40",children:[z.jsx("div",{className:"d-flex user-photo absolute horizontal-center-absolute left-0",children:z.jsx("span",{className:"material-symbols-outlined",children:"account_circle"})}),z.jsxs("div",{className:"d-flex flex-column justify-center",style:{flex:"1 1 auto"},children:[z.jsx("p",{className:"weight-600",children:t}),z.jsx("p",{className:"secondary-text",style:{margin:0},children:new Date().toLocaleDateString("pt-BR",{day:"numeric",month:"long"})})]}),z.jsx(Ii,{to:"/nova-tarefa",className:"d-flex add-task absolute horizontal-center-absolute right-0",children:z.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})})]})}const Uy=P.createContext({});function sc(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const jy=typeof window<"u",By=jy?P.useLayoutEffect:P.useEffect,td=P.createContext(null);function zy(e,t){e.indexOf(t)===-1&&e.push(t)}function ed(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ms=(e,t,n)=>n>t?t:n<e?e:n;let Fy=()=>{};const ps={},$w=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yw(e){return typeof e=="object"&&e!==null}const Xw=e=>/^0[^.\s]+$/u.test(e);function Hy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gn=e=>e,XV=(e,t)=>n=>t(e(n)),rc=(...e)=>e.reduce(XV),Vo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class qy{constructor(){this.subscriptions=[]}add(t){return zy(this.subscriptions,t),()=>ed(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=e=>e*1e3,xi=e=>e/1e3;function Qw(e,t){return t?e*(1e3/t):0}const QV=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},Ww=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WV=1e-7,ZV=12;function JV(e,t,n,r,o){let u,c,d=0;do c=t+(n-t)/2,u=Ww(c,r,o)-e,u>0?n=c:t=c;while(Math.abs(u)>WV&&++d<ZV);return c}function ac(e,t,n,r){if(e===t&&n===r)return Gn;const o=u=>JV(u,0,1,e,n);return u=>u===0||u===1?u:Ww(o(u),t,r)}const Zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jw=e=>t=>1-e(1-t),t1=ac(.33,1.53,.69,.99),Gy=Jw(t1),e1=Zw(Gy),n1=e=>(e*=2)<1?.5*Gy(e):.5*(2-Math.pow(2,-10*(e-1))),Ky=e=>1-Math.sin(Math.acos(e)),i1=Jw(Ky),s1=Zw(Ky),t4=ac(.42,0,1,1),e4=ac(0,0,.58,1),r1=ac(.42,0,.58,1),a1=e=>Array.isArray(e)&&typeof e[0]!="number";function o1(e,t){return a1(e)?e[QV(0,e.length,t)]:e}const l1=e=>Array.isArray(e)&&typeof e[0]=="number",n4={linear:Gn,easeIn:t4,easeInOut:r1,easeOut:e4,circIn:Ky,circInOut:s1,circOut:i1,backIn:Gy,backInOut:e1,backOut:t1,anticipate:n1},i4=e=>typeof e=="string",lS=e=>{if(l1(e)){Fy(e.length===4);const[t,n,r,o]=e;return ac(t,n,r,o)}else if(i4(e))return n4[e];return e},zh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function s4(e,t){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,T=!1,S=!1)=>{const I=S&&o?n:r;return T&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const r4=40;function u1(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=zh.reduce((Y,et)=>(Y[et]=s4(u),Y),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:T,preRender:S,render:C,postRender:I}=c,j=()=>{const Y=ps.useManualTiming?o.timestamp:performance.now();n=!1,ps.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Y-o.timestamp,r4),1)),o.timestamp=Y,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),y.process(o),T.process(o),S.process(o),C.process(o),I.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(j))},k=()=>{n=!0,r=!0,o.isProcessing||e(j)};return{schedule:zh.reduce((Y,et)=>{const W=c[et];return Y[et]=(rt,x=!1,w=!1)=>(n||k(),W.schedule(rt,x,w)),Y},{}),cancel:Y=>{for(let et=0;et<zh.length;et++)c[zh[et]].cancel(Y)},state:o,steps:c}}const{schedule:Jt,cancel:gs,state:Ge,steps:Rp}=u1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let nf;function a4(){nf=void 0}const gn={now:()=>(nf===void 0&&gn.set(Ge.isProcessing||ps.useManualTiming?Ge.timestamp:performance.now()),nf),set:e=>{nf=e,queueMicrotask(a4)}},c1=e=>t=>typeof t=="string"&&t.startsWith(e),$y=c1("--"),o4=c1("var(--"),Yy=e=>o4(e)?l4.test(e.split("/*")[0].trim()):!1,l4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ku={...Go,transform:e=>ms(0,1,e)},Fh={...Go,default:1},Eu=e=>Math.round(e*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u4(e){return e==null}const c4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qy=(e,t)=>n=>!!(typeof n=="string"&&c4.test(n)&&n.startsWith(e)||t&&!u4(n)&&Object.prototype.hasOwnProperty.call(n,t)),h1=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(Xy);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},h4=e=>ms(0,255,e),Cp={...Go,transform:e=>Math.round(h4(e))},ta={test:Qy("rgb","red"),parse:h1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Cp.transform(e)+", "+Cp.transform(t)+", "+Cp.transform(n)+", "+Eu(ku.transform(r))+")"};function f4(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const pg={test:Qy("#"),parse:f4,transform:ta.transform},oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ws=oc("deg"),Di=oc("%"),St=oc("px"),d4=oc("vh"),m4=oc("vw"),uS={...Di,parse:e=>Di.parse(e)/100,transform:e=>Di.transform(e*100)},go={test:Qy("hsl","hue"),parse:h1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Di.transform(Eu(t))+", "+Di.transform(Eu(n))+", "+Eu(ku.transform(r))+")"},be={test:e=>ta.test(e)||pg.test(e)||go.test(e),parse:e=>ta.test(e)?ta.parse(e):go.test(e)?go.parse(e):pg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ta.transform(e):go.transform(e),getAnimatableNone:e=>{const t=be.parse(e);return t.alpha=0,be.transform(t)}},p4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Xy)?.length||0)+(e.match(p4)?.length||0)>0}const f1="number",d1="color",y4="var",v4="var(",cS="${}",_4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(_4,m=>(be.test(m)?(r.color.push(u),o.push(d1),n.push(be.parse(m))):m.startsWith(v4)?(r.var.push(u),o.push(y4),n.push(m)):(r.number.push(u),o.push(f1),n.push(parseFloat(m))),++u,cS)).split(cS);return{values:n,split:d,indexes:r,types:o}}function m1(e){return Uu(e).values}function p1(e){const{split:t,types:n}=Uu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===f1?u+=Eu(o[c]):d===d1?u+=be.transform(o[c]):u+=o[c]}return u}}const T4=e=>typeof e=="number"?0:be.test(e)?be.getAnimatableNone(e):e;function E4(e){const t=m1(e);return p1(e)(t.map(T4))}const ur={test:g4,parse:m1,createTransformer:p1,getAnimatableNone:E4};function xp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function S4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;o=xp(m,d,e+1/3),u=xp(m,d,e),c=xp(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Df(e,t){return n=>n>0?t:e}const se=(e,t,n)=>e+(t-e)*n,Dp=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},A4=[pg,ta,go],b4=e=>A4.find(t=>t.test(e));function hS(e){const t=b4(e);if(!t)return!1;let n=t.parse(e);return t===go&&(n=S4(n)),n}const fS=(e,t)=>{const n=hS(e),r=hS(t);if(!n||!r)return Df(e,t);const o={...n};return u=>(o.red=Dp(n.red,r.red,u),o.green=Dp(n.green,r.green,u),o.blue=Dp(n.blue,r.blue,u),o.alpha=se(n.alpha,r.alpha,u),ta.transform(o))},gg=new Set(["none","hidden"]);function w4(e,t){return gg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function R4(e,t){return n=>se(e,t,n)}function Wy(e){return typeof e=="number"?R4:typeof e=="string"?Yy(e)?Df:be.test(e)?fS:D4:Array.isArray(e)?g1:typeof e=="object"?be.test(e)?fS:C4:Df}function g1(e,t){const n=[...e],r=n.length,o=e.map((u,c)=>Wy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function C4(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Wy(e[o])(e[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function x4(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],d=e.values[c]??0;n[o]=d,r[u]++}return n}const D4=(e,t)=>{const n=ur.createTransformer(t),r=Uu(e),o=Uu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?gg.has(e)&&!o.values.length||gg.has(t)&&!r.values.length?w4(e,t):rc(g1(x4(r,o),o.values),n):Df(e,t)};function y1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?se(e,t,n):Wy(e)(e,t)}const I4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>gs(t),now:()=>Ge.isProcessing?Ge.timestamp:gn.now()}},v1=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},If=2e4;function Zy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<If;)t+=n,r=e.next(t);return t>=If?1/0:t}function _1(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(Zy(r),If);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:xi(o)}}const M4=5;function T1(e,t,n){const r=Math.max(t-M4,0);return Qw(n-e(r),t-r)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ip=.001;function N4({duration:e=fe.duration,bounce:t=fe.bounce,velocity:n=fe.velocity,mass:r=fe.mass}){let o,u,c=1-t;c=ms(fe.minDamping,fe.maxDamping,c),e=ms(fe.minDuration,fe.maxDuration,xi(e)),c<1?(o=g=>{const y=g*c,T=y*e,S=y-n,C=yg(g,c),I=Math.exp(-T);return Ip-S/C*I},u=g=>{const T=g*c*e,S=T*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,I=Math.exp(-T),j=yg(Math.pow(g,2),c);return(-o(g)+Ip>0?-1:1)*((S-C)*I)/j}):(o=g=>{const y=Math.exp(-g*e),T=(g-n)*e+1;return-Ip+y*T},u=g=>{const y=Math.exp(-g*e),T=(n-g)*(e*e);return y*T});const d=5/e,m=P4(o,u,d);if(e=si(e),isNaN(m))return{stiffness:fe.stiffness,damping:fe.damping,duration:e};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const O4=12;function P4(e,t,n){let r=n;for(let o=1;o<O4;o++)r=r-e(r)/t(r);return r}function yg(e,t){return e*Math.sqrt(1-t*t)}const V4=["duration","bounce"],L4=["stiffness","damping","mass"];function dS(e,t){return t.some(n=>e[n]!==void 0)}function k4(e){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...e};if(!dS(e,L4)&&dS(e,V4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*ms(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:fe.mass,stiffness:o,damping:u}}else{const n=N4(e);t={...t,...n,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function ju(e=fe.visualDuration,t=fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:T,velocity:S,isResolvedFromDuration:C}=k4({...n,velocity:-xi(n.velocity||0)}),I=S||0,j=g/(2*Math.sqrt(m*y)),k=c-u,F=xi(Math.sqrt(m/y)),H=Math.abs(k)<5;r||(r=H?fe.restSpeed.granular:fe.restSpeed.default),o||(o=H?fe.restDelta.granular:fe.restDelta.default);let Y;if(j<1){const W=yg(F,j);Y=rt=>{const x=Math.exp(-j*F*rt);return c-x*((I+j*F*k)/W*Math.sin(W*rt)+k*Math.cos(W*rt))}}else if(j===1)Y=W=>c-Math.exp(-F*W)*(k+(I+F*k)*W);else{const W=F*Math.sqrt(j*j-1);Y=rt=>{const x=Math.exp(-j*F*rt),w=Math.min(W*rt,300);return c-x*((I+j*F*k)*Math.sinh(w)+W*k*Math.cosh(w))/W}}const et={calculatedDuration:C&&T||null,next:W=>{const rt=Y(W);if(C)d.done=W>=T;else{let x=W===0?I:0;j<1&&(x=W===0?si(I):T1(Y,W,rt));const w=Math.abs(x)<=r,R=Math.abs(c-rt)<=o;d.done=w&&R}return d.value=d.done?c:rt,d},toString:()=>{const W=Math.min(Zy(et),If),rt=v1(x=>et.next(W*x).value,W,30);return W+"ms "+rt},toTransition:()=>{}};return et}ju.applyToOptions=e=>{const t=_1(e,100,ju);return e.ease=t.ease,e.duration=si(t.duration),e.type="keyframes",e};function vg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const T=e[0],S={done:!1,value:T},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,I=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let j=n*t;const k=T+j,F=c===void 0?k:c(k);F!==k&&(j=F-T);const H=w=>-j*Math.exp(-w/r),Y=w=>F+H(w),et=w=>{const R=H(w),N=Y(w);S.done=Math.abs(R)<=g,S.value=S.done?F:N};let W,rt;const x=w=>{C(S.value)&&(W=w,rt=ju({keyframes:[S.value,I(S.value)],velocity:T1(Y,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return x(0),{calculatedDuration:null,next:w=>{let R=!1;return!rt&&W===void 0&&(R=!0,et(w),x(w)),W!==void 0&&w>=W?rt.next(w-W):(!R&&et(w),S)}}}function U4(e,t,n){const r=[],o=n||ps.mix||y1,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Gn:t;d=rc(m,d)}r.push(d)}return r}function E1(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=e.length;if(Fy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=U4(t,r,o),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const S=Vo(e[T],e[T+1],y);return d[T](S)};return n?y=>g(ms(e[0],e[u-1],y)):g}function S1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Vo(0,t,r);e.push(se(n,1,o))}}function A1(e){const t=[0];return S1(t,e.length-1),t}function j4(e,t){return e.map(n=>n*t)}function B4(e,t){return e.map(()=>t||r1).splice(0,e.length-1)}function Su({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=a1(r)?r.map(lS):lS(r),u={done:!1,value:t[0]},c=j4(n&&n.length===t.length?n:A1(t),e),d=E1(c,t,{ease:Array.isArray(o)?o:B4(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const z4=e=>e!==null;function Jy(e,{repeat:t,repeatType:n="loop"},r,o=1){const u=e.filter(z4),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const F4={decay:vg,inertia:vg,tween:Su,keyframes:Su,spring:ju};function b1(e){typeof e.type=="string"&&(e.type=F4[e.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const H4=e=>e/100;class ev extends tv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b1(t);const{type:n=Su,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Su;m!==Su&&typeof d[0]!="number"&&(this.mixKeyframes=rc(H4,y1(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Zy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:S,repeatDelay:C,type:I,onUpdate:j,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,et=r;if(T){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(S==="reverse"?(N=1-N,C&&(N-=C/d)):S==="mirror"&&(et=c)),Y=ms(0,1,N)*d}const W=H?{done:!1,value:y[0]}:et.next(Y);u&&(W.value=u(W.value));let{done:rt}=W;!H&&m!==null&&(rt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&rt);return x&&I!==vg&&(W.value=Jy(y,this.options,k,this.speed)),j&&j(W.value),x&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(t){t=si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=I4,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function q4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ea=e=>e*180/Math.PI,_g=e=>{const t=ea(Math.atan2(e[1],e[0]));return Tg(t)},G4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_g,rotateZ:_g,skewX:e=>ea(Math.atan(e[1])),skewY:e=>ea(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tg=e=>(e=e%360,e<0&&(e+=360),e),mS=_g,pS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),K4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pS,scaleY:gS,scale:e=>(pS(e)+gS(e))/2,rotateX:e=>Tg(ea(Math.atan2(e[6],e[5]))),rotateY:e=>Tg(ea(Math.atan2(-e[2],e[0]))),rotateZ:mS,rotate:mS,skewX:e=>ea(Math.atan(e[4])),skewY:e=>ea(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eg(e){return e.includes("scale")?1:0}function Sg(e,t){if(!e||e==="none")return Eg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=K4,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G4,o=d}if(!o)return Eg(t);const u=r[t],c=o[1].split(",").map(Y4);return typeof u=="function"?u(c):c[u]}const $4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Sg(n,t)};function Y4(e){return parseFloat(e.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set(Ko),yS=e=>e===Go||e===St,X4=new Set(["x","y","z"]),Q4=Ko.filter(e=>!X4.has(e));function W4(e){const t=[];return Q4.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const sa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sg(t,"x"),y:(e,{transform:t})=>Sg(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ra=new Set;let Ag=!1,bg=!1,wg=!1;function w1(){if(bg){const e=Array.from(ra).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=W4(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bg=!1,Ag=!1,ra.forEach(e=>e.complete(wg)),ra.clear()}function R1(){ra.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bg=!0)})}function Z4(){wg=!0,R1(),w1(),wg=!1}class nv{constructor(t,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ra.add(this),Ag||(Ag=!0,Jt.read(R1),Jt.resolveKeyframes(w1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}q4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ra.delete(this)}cancel(){this.state==="scheduled"&&(ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J4=e=>e.startsWith("--");function tL(e,t,n){J4(t)?e.style.setProperty(t,n):e.style[t]=n}const eL=Hy(()=>window.ScrollTimeline!==void 0),nL={};function iL(e,t){const n=Hy(e);return()=>nL[t]??n()}const C1=iL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,vS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function x1(e,t){if(e)return typeof e=="function"?C1()?v1(e,t):"ease-out":l1(e)?du(e):Array.isArray(e)?e.map(n=>x1(n,t)||vS.easeOut):vS[e]}function sL(e,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const T=x1(d,o);Array.isArray(T)&&(y.easing=T);const S={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function iv(e){return typeof e=="function"&&"applyToOptions"in e}function rL({type:e,...t}){return iv(e)&&C1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aL extends tv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Fy(typeof t.type!="string");const g=rL(t);this.animation=sL(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Jy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):tL(n,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(t))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&eL()?(this.animation.timeline=t,Gn):n(this)}}const D1={anticipate:n1,backInOut:e1,circInOut:s1};function oL(e){return e in D1}function lL(e){typeof e.ease=="string"&&oL(e.ease)&&(e.ease=D1[e.ease])}const _S=10;class uL extends aL{constructor(t){lL(t),b1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new ev({...c,autoplay:!1}),m=si(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-_S).value,d.sample(m).value,_S),d.stop()}}const TS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ur.test(e)||e==="0")&&!e.startsWith("url("));function cL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hL(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=TS(o,t),d=TS(u,t);return!c||!d?!1:cL(e)||(n==="spring"||iv(n))&&r}function Rg(e){e.duration=0,e.type}const fL=new Set(["opacity","clipPath","filter","transform"]),dL=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mL(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return dL()&&n&&fL.has(n)&&(n!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const pL=40;class gL extends tv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const S={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:y,...T},C=y?.KeyframeResolver||nv;this.keyframeResolver=new C(d,(I,j,k)=>this.onKeyframesResolved(I,j,S,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=gn.now(),hL(t,u,c,d)||((ps.instantAnimations||!m)&&y?.(Jy(t,r,n)),t[0]=t[t.length-1],Rg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>pL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},C=!g&&mL(S)?new uL({...S,element:S.motionValue.owner.current}):new ev(S);C.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Z4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class yL{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vL extends yL{then(t,n){return this.finished.finally(t).then(()=>{})}}const _L=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TL(e){const t=_L.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function I1(e,t,n=1){const[r,o]=TL(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return $w(c)?parseFloat(c):c}return Yy(o)?I1(o,t,n+1):o}function sv(e,t){return e?.[t]??e?.default??e}const M1=new Set(["width","height","top","left","right","bottom",...Ko]),EL={test:e=>e==="auto",parse:e=>e},N1=e=>t=>t.test(e),O1=[Go,St,Di,Ws,m4,d4,EL],ES=e=>O1.find(N1(e));function SL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xw(e):!0}const AL=new Set(["brightness","contrast","saturate","opacity"]);function bL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Xy)||[];if(!r)return e;const o=n.replace(r,"");let u=AL.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const wL=/\b([a-z-]*)\(.*?\)/gu,Cg={...ur,getAnimatableNone:e=>{const t=e.match(wL);return t?t.map(bL).join(" "):e}},SS={...Go,transform:Math.round},RL={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:Ws,skewX:Ws,skewY:Ws,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:ku,originX:uS,originY:uS,originZ:St},rv={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...RL,zIndex:SS,fillOpacity:ku,strokeOpacity:ku,numOctaves:SS},CL={...rv,color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:Cg,WebkitFilter:Cg},P1=e=>CL[e];function V1(e,t){let n=P1(e);return n!==Cg&&(n=ur),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xL=new Set(["auto","none","0"]);function DL(e,t,n){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!xL.has(u)&&Uu(u).values.length&&(o=e[r]),r++}if(o&&n)for(const u of t)e[u]=V1(n,o)}class IL extends nv{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Yy(g))){const y=I1(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!M1.has(r)||t.length!==2)return;const[o,u]=t,c=ES(o),d=ES(u);if(c!==d)if(yS(c)&&yS(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||SL(t[o]))&&r.push(o);r.length&&DL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=sa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function L1(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const k1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function U1(e){return Yw(e)&&"offsetHeight"in e}const AS=30,ML=e=>!isNaN(parseFloat(e)),Au={current:void 0};class NL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ML(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qy);const r=this.events[t].add(n);return t==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Au.current&&Au.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AS);return Qw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pa(e,t){return new NL(e,t)}const{schedule:av}=u1(queueMicrotask,!1),Jn={x:!1,y:!1};function j1(){return Jn.x||Jn.y}function OL(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function B1(e,t){const n=L1(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function bS(e){return!(e.pointerType==="touch"||j1())}function PL(e,t,n={}){const[r,o,u]=B1(e,n),c=d=>{if(!bS(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=T=>{bS(T)&&(g(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const z1=(e,t)=>t?e===t?!0:z1(e,t.parentElement):!1,ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LL(e){return VL.has(e.tagName)||e.tabIndex!==-1}const sf=new WeakSet;function wS(e){return t=>{t.key==="Enter"&&e(t)}}function Mp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wS(()=>{if(sf.has(n))return;Mp(n,"down");const o=wS(()=>{Mp(n,"up")}),u=()=>Mp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function RS(e){return ov(e)&&!j1()}function UL(e,t,n={}){const[r,o,u]=B1(e,n),c=d=>{const m=d.currentTarget;if(!RS(d))return;sf.add(m);const g=t(m,d),y=(C,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),sf.has(m)&&sf.delete(m),RS(C)&&typeof g=="function"&&g(C,{success:I})},T=C=>{y(C,m===window||m===document||n.useGlobalTarget||z1(m,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),U1(d)&&(d.addEventListener("focus",g=>kL(g,o)),!LL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function lv(e){return Yw(e)&&"ownerSVGElement"in e}function F1(e){return lv(e)&&e.tagName==="svg"}function jL(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],o=e[1+n],u=e[2+n],c=e[3+n],d=E1(o,u,c);return t?d(r):d}const Ue=e=>!!(e&&e.getVelocity),BL=[...O1,be,ur],zL=e=>BL.find(N1(e)),nd=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function CS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FL(...e){return t=>{let n=!1;const r=e.map(o=>{const u=CS(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():CS(e[o],null)}}}}function HL(...e){return P.useCallback(FL(...e),e)}class qL extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=U1(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GL({children:e,isPresent:t,anchorX:n,root:r}){const o=P.useId(),u=P.useRef(null),c=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=P.useContext(nd),m=HL(u,e?.ref);return P.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:S,right:C}=c.current;if(t||!u.current||!g||!y)return;const I=n==="left"?`left: ${S}`:`right: ${C}`;u.current.dataset.motionPopId=o;const j=document.createElement("style");d&&(j.nonce=d);const k=r??document.head;return k.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${I}px !important;
            top: ${T}px !important;
          }
        `),()=>{k.contains(j)&&k.removeChild(j)}},[t]),z.jsx(qL,{isPresent:t,childRef:u,sizeRef:c,children:P.cloneElement(e,{ref:m})})}const KL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:m})=>{const g=sc($L),y=P.useId();let T=!0,S=P.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:n,custom:o,onExitComplete:C=>{g.set(C,!0);for(const I of g.values())if(!I)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,r]);return u&&T&&(S={...S}),P.useMemo(()=>{g.forEach((C,I)=>g.set(I,!1))},[n]),P.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),c==="popLayout"&&(e=z.jsx(GL,{isPresent:n,anchorX:d,root:m,children:e})),z.jsx(td.Provider,{value:S,children:e})};function $L(){return new Map}function H1(e=!0){const t=P.useContext(td);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=P.useId();P.useEffect(()=>{if(e)return o(u)},[e]);const c=P.useCallback(()=>e&&r&&r(u),[u,r,e]);return!n&&r?[!1,c]:[!0]}const Hh=e=>e.key||"";function xS(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const q1=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=H1(c),T=P.useMemo(()=>xS(e),[e]),S=c&&!g?[]:T.map(Hh),C=P.useRef(!0),I=P.useRef(T),j=sc(()=>new Map),[k,F]=P.useState(T),[H,Y]=P.useState(T);By(()=>{C.current=!1,I.current=T;for(let rt=0;rt<H.length;rt++){const x=Hh(H[rt]);S.includes(x)?j.delete(x):j.get(x)!==!0&&j.set(x,!1)}},[H,S.length,S.join("-")]);const et=[];if(T!==k){let rt=[...T];for(let x=0;x<H.length;x++){const w=H[x],R=Hh(w);S.includes(R)||(rt.splice(x,0,w),et.push(w))}return u==="wait"&&et.length&&(rt=et),Y(xS(rt)),F(T),null}const{forceRender:W}=P.useContext(Uy);return z.jsx(z.Fragment,{children:H.map(rt=>{const x=Hh(rt),w=c&&!g?!1:T===H||S.includes(x),R=()=>{if(j.has(x))j.set(x,!0);else return;let N=!0;j.forEach(V=>{V||(N=!1)}),N&&(W?.(),Y(I.current),c&&y?.(),r&&r())};return z.jsx(KL,{isPresent:w,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:w?void 0:R,anchorX:d,children:rt},x)})})},G1=P.createContext({strict:!1}),DS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const e in DS)Lo[e]={isEnabled:t=>DS[e].some(n=>!!t[n])};function YL(e){for(const t in e)Lo[t]={...Lo[t],...e[t]}}const XL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XL.has(e)}let K1=e=>!Mf(e);function QL(e){typeof e=="function"&&(K1=t=>t.startsWith("on")?!Mf(t):e(t))}try{QL(require("@emotion/is-prop-valid").default)}catch{}function WL(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(K1(o)||n===!0&&Mf(o)||!t&&!Mf(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const id=P.createContext({});function sd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bu(e){return typeof e=="string"||Array.isArray(e)}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cv=["initial",...uv];function rd(e){return sd(e.animate)||cv.some(t=>Bu(e[t]))}function $1(e){return!!(rd(e)||e.variants)}function ZL(e,t){if(rd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return e.inherit!==!1?t:{}}function JL(e){const{initial:t,animate:n}=ZL(e,P.useContext(id));return P.useMemo(()=>({initial:t,animate:n}),[IS(t),IS(n)])}function IS(e){return Array.isArray(e)?e.join(" "):e}const zu={};function tk(e){for(const t in e)zu[t]=e[t],$y(t)&&(zu[t].isCSSVariable=!0)}function Y1(e,{layout:t,layoutId:n}){return $o.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zu[e]||e==="opacity")}const ek={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nk=Ko.length;function ik(e,t,n){let r="",o=!0;for(let u=0;u<nk;u++){const c=Ko[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=k1(d,rv[c]);if(!m){o=!1;const y=ek[c]||c;r+=`${y}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function hv(e,t,n){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if($o.has(m)){c=!0;continue}else if($y(m)){o[m]=g;continue}else{const y=k1(g,rv[m]);m.startsWith("origin")?(d=!0,u[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=ik(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${g} ${y}`}}const fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X1(e,t,n){for(const r in t)!Ue(t[r])&&!Y1(r,n)&&(e[r]=t[r])}function sk({transformTemplate:e},t){return P.useMemo(()=>{const n=fv();return hv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rk(e,t){const n=e.style||{},r={};return X1(r,n,e),Object.assign(r,sk(e,t)),r}function ak(e,t){const n={},r=rk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ok={offset:"stroke-dashoffset",array:"stroke-dasharray"},lk={offset:"strokeDashoffset",array:"strokeDasharray"};function uk(e,t,n=1,r=0,o=!0){e.pathLength=1;const u=o?ok:lk;e[u.offset]=St.transform(-r);const c=St.transform(t),d=St.transform(n);e[u.array]=`${c} ${d}`}function Q1(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,y){if(hv(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:S}=e;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),o!==void 0&&uk(T,o,u,c,!1)}const W1=()=>({...fv(),attrs:{}}),Z1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ck(e,t,n,r){const o=P.useMemo(()=>{const u=W1();return Q1(u,t,Z1(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};X1(u,e.style,e),o.style={...u,...o.style}}return o}const hk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(e){return typeof e!="string"||e.includes("-")?!1:!!(hk.indexOf(e)>-1||/[A-Z]/u.test(e))}function fk(e,t,n,{latestValues:r},o,u=!1){const d=(dv(e)?ck:ak)(t,r,o,e),m=WL(t,typeof e=="string",u),g=e!==P.Fragment?{...m,...d,ref:n}:{},{children:y}=t,T=P.useMemo(()=>Ue(y)?y.get():y,[y]);return P.createElement(e,{...g,children:T})}function MS(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function mv(e,t,n,r){if(typeof t=="function"){const[o,u]=MS(r);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=MS(r);t=t(n!==void 0?n:e.custom,o,u)}return t}function rf(e){return Ue(e)?e.get():e}function dk({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:mk(n,r,o,e),renderState:t()}}function mk(e,t,n,r){const o={},u=r(e,{});for(const S in u)o[S]=rf(u[S]);let{initial:c,animate:d}=e;const m=rd(e),g=$1(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!sd(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const I=mv(e,S[C]);if(I){const{transitionEnd:j,transition:k,...F}=I;for(const H in F){let Y=F[H];if(Array.isArray(Y)){const et=y?Y.length-1:0;Y=Y[et]}Y!==null&&(o[H]=Y)}for(const H in j)o[H]=j[H]}}}return o}const J1=e=>(t,n)=>{const r=P.useContext(id),o=P.useContext(td),u=()=>dk(e,t,r,o);return n?u():sc(u)};function pv(e,t,n){const{style:r}=e,o={};for(const u in r)(Ue(r[u])||t.style&&Ue(t.style[u])||Y1(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const pk=J1({scrapeMotionValuesFromProps:pv,createRenderState:fv});function tR(e,t,n){const r=pv(e,t,n);for(const o in e)if(Ue(e[o])||Ue(t[o])){const u=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const gk=J1({scrapeMotionValuesFromProps:tR,createRenderState:W1}),yk=Symbol.for("motionComponentSymbol");function yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vk(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):yo(n)&&(n.current=r))},[t])}const gv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_k="framerAppearId",eR="data-"+gv(_k),nR=P.createContext({});function Tk(e,t,n,r,o){const{visualElement:u}=P.useContext(id),c=P.useContext(G1),d=P.useContext(td),m=P.useContext(nd).reducedMotion,g=P.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,T=P.useContext(nR);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&Ek(g.current,n,o,T);const S=P.useRef(!1);P.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const C=n[eR],I=P.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return By(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),I.current=!1),y.enteringChildren=void 0)}),y}function Ek(e,t,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:iR(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&yo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function iR(e){if(e)return e.options.allowProjection!==!1?e.projection:iR(e.parent)}function Np(e,{forwardMotionProps:t=!1}={},n,r){n&&YL(n);const o=dv(e)?gk:pk;function u(d,m){let g;const y={...P.useContext(nd),...d,layoutId:Sk(d)},{isStatic:T}=y,S=JL(d),C=o(d,T);if(!T&&jy){Ak();const I=bk(y);g=I.MeasureLayout,S.visualElement=Tk(e,C,y,r,I.ProjectionNode)}return z.jsxs(id.Provider,{value:S,children:[g&&S.visualElement?z.jsx(g,{visualElement:S.visualElement,...y}):null,fk(e,d,vk(C,S.visualElement,m),C,T,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=P.forwardRef(u);return c[yk]=e,c}function Sk({layoutId:e}){const t=P.useContext(Uy).id;return t&&e!==void 0?t+"-"+e:e}function Ak(e,t){P.useContext(G1).strict}function bk(e){const{drag:t,layout:n}=Lo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wk(e,t){if(typeof Proxy>"u")return Np;const n=new Map,r=(u,c)=>Np(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,Np(c,void 0,e,t)),n.get(c))})}function sR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Rk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ck(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Op(e){return e===void 0||e===1}function xg({scale:e,scaleX:t,scaleY:n}){return!Op(e)||!Op(t)||!Op(n)}function Zr(e){return xg(e)||rR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rR(e){return NS(e.x)||NS(e.y)}function NS(e){return e&&e!=="0%"}function Nf(e,t,n){const r=e-n,o=t*r;return n+o}function OS(e,t,n,r,o){return o!==void 0&&(e=Nf(e,o,r)),Nf(e,n,r)+t}function Dg(e,t=0,n=1,r,o){e.min=OS(e.min,t,n,r,o),e.max=OS(e.max,t,n,r,o)}function aR(e,{x:t,y:n}){Dg(e.x,t.translate,t.scale,t.originPoint),Dg(e.y,n.translate,n.scale,n.originPoint)}const PS=.999999999999,VS=1.0000000000001;function xk(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,aR(e,c)),r&&Zr(u.latestValues)&&_o(e,u.latestValues))}t.x<VS&&t.x>PS&&(t.x=1),t.y<VS&&t.y>PS&&(t.y=1)}function vo(e,t){e.min=e.min+t,e.max=e.max+t}function LS(e,t,n,r,o=.5){const u=se(e.min,e.max,o);Dg(e,t,n,u,r)}function _o(e,t){LS(e.x,t.x,t.scaleX,t.scale,t.originX),LS(e.y,t.y,t.scaleY,t.scale,t.originY)}function oR(e,t){return sR(Ck(e.getBoundingClientRect(),t))}function Dk(e,t,n){const r=oR(e,n),{scroll:o}=t;return o&&(vo(r.x,o.offset.x),vo(r.y,o.offset.y)),r}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:kS(),y:kS()}),US=()=>({min:0,max:0}),he=()=>({x:US(),y:US()}),Ig={current:null},lR={current:!1};function Ik(){if(lR.current=!0,!!jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ig.current=e.matches;e.addEventListener("change",t),t()}else Ig.current=!1}const Fu=new WeakMap;function Mk(e,t,n){for(const r in t){const o=t[r],u=n[r];if(Ue(o))e.addValue(r,o);else if(Ue(u))e.addValue(r,pa(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,pa(c!==void 0?c:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const jS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uR{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=gn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Jt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=rd(n),this.isVariantNode=$1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in T){const C=T[S];m[S]!==void 0&&Ue(C)&&C.set(m[S])}}mount(t){this.current=t,Fu.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lR.current||Ik(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ig.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=$o.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lo){const n=Lo[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jS.length;r++){const o=jS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Mk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=pa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&($w(r)||Xw(r))?r=parseFloat(r):!zL(r)&&ur.test(n)&&(r=V1(t,n)),this.setBaseTarget(t,Ue(r)?r.get():r)),Ue(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=mv(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ue(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){av.render(this.render)}}class cR extends uR{constructor(){super(...arguments),this.KeyframeResolver=IL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hR(e,{style:t,vars:n},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function Nk(e){return window.getComputedStyle(e)}class fR extends cR{constructor(){super(...arguments),this.type="html",this.renderInstance=hR}readValueFromInstance(t,n){if($o.has(n))return this.projection?.isProjecting?Eg(n):$4(t,n);{const r=Nk(t),o=($y(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oR(t,n)}build(t,n,r){hv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return pv(t,n,r)}}const dR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ok(e,t,n,r){hR(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(dR.has(o)?o:gv(o),t.attrs[o])}class mR extends cR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($o.has(n)){const r=P1(n);return r&&r.default||0}return n=dR.has(n)?n:gv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return tR(t,n,r)}build(t,n,r){Q1(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){Ok(t,n,r,o)}mount(t){this.isSVGTag=Z1(t.tagName),super.mount(t)}}const Pk=(e,t)=>dv(e)?new mR(t):new fR(t,{allowProjection:e!==P.Fragment});function Ro(e,t,n){const r=e.getProps();return mv(r,t,n!==void 0?n:r.custom,e)}const Mg=e=>Array.isArray(e);function Vk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pa(n))}function Lk(e){return Mg(e)?e[e.length-1]||0:e}function kk(e,t){const n=Ro(e,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const d=Lk(u[c]);Vk(e,c,d)}}function Uk(e){return!!(Ue(e)&&e.add)}function Ng(e,t){const n=e.getValue("willChange");if(Uk(n))return n.add(t);if(!n&&ps.WillChange){const r=new ps.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function pR(e){return e.props[eR]}const jk=e=>e!==null;function Bk(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(jk),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const zk={type:"spring",stiffness:500,damping:25,restSpeed:10},Fk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hk={type:"keyframes",duration:.8},qk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gk=(e,{keyframes:t})=>t.length>2?Hk:$o.has(e)?e.startsWith("scale")?Fk(t[1]):zk:qk;function Kk({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const yv=(e,t,n,r={},o,u)=>c=>{const d=sv(r,e)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-si(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};Kk(d)||Object.assign(y,Gk(e,y)),y.duration&&(y.duration=si(y.duration)),y.repeatDelay&&(y.repeatDelay=si(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Rg(y),y.delay===0&&(T=!0)),(ps.instantAnimations||ps.skipAnimations)&&(T=!0,Rg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!u&&t.get()!==void 0){const S=Bk(y.keyframes,d);if(S!==void 0){Jt.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new ev(y):new gL(y)};function $k({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function vv(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const T=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&$k(g,y))continue;const C={delay:n,...sv(u||{},y)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===I&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const F=pR(e);if(F){const H=window.MotionHandoffAnimation(F,y,Jt);H!==null&&(C.startTime=H,j=!0)}}Ng(e,y),T.start(yv(y,T,S,e.shouldReduceMotion&&M1.has(y)?{type:!1}:C,e,j));const k=T.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{Jt.update(()=>{c&&kk(e,c)})}),m}function gR(e,t,n,r=0,o=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:d-u*r}function Og(e,t,n={}){const r=Ro(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(vv(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return Yk(e,t,m,g,y,T,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,g]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function Yk(e,t,n=0,r=0,o=0,u=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Og(m,t,{...c,delay:n+(typeof r=="function"?0:r)+gR(e.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Xk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Og(e,u,n));r=Promise.all(o)}else if(typeof t=="string")r=Og(e,t,n);else{const o=typeof t=="function"?Ro(e,t,n.custom):t;r=Promise.all(vv(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function yR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Qk=cv.length;function vR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Qk;n++){const r=cv[n],o=e.props[r];(Bu(o)||o===!1)&&(t[r]=o)}return t}const Wk=[...uv].reverse(),Zk=uv.length;function Jk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Xk(e,n,r)))}function tU(e){let t=Jk(e),n=BS(),r=!0;const o=m=>(g,y)=>{const T=Ro(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:C,...I}=T;g={...g,...I,...C}}return g};function u(m){t=m(e)}function c(m){const{props:g}=e,y=vR(e.parent)||{},T=[],S=new Set;let C={},I=1/0;for(let k=0;k<Zk;k++){const F=Wk[k],H=n[F],Y=g[F]!==void 0?g[F]:y[F],et=Bu(Y),W=F===m?H.isActive:null;W===!1&&(I=k);let rt=Y===y[F]&&Y!==g[F]&&et;if(rt&&r&&e.manuallyAnimateOnMount&&(rt=!1),H.protectedKeys={...C},!H.isActive&&W===null||!Y&&!H.prevProp||sd(Y)||typeof Y=="boolean")continue;const x=eU(H.prevProp,Y);let w=x||F===m&&H.isActive&&!rt&&et||k>I&&et,R=!1;const N=Array.isArray(Y)?Y:[Y];let V=N.reduce(o(F),{});W===!1&&(V={});const{prevResolvedValues:U={}}=H,M={...U,...V},me=at=>{w=!0,S.has(at)&&(R=!0,S.delete(at)),H.needsAnimating[at]=!0;const ht=e.getValue(at);ht&&(ht.liveStyle=!1)};for(const at in M){const ht=V[at],bt=U[at];if(C.hasOwnProperty(at))continue;let O=!1;Mg(ht)&&Mg(bt)?O=!yR(ht,bt):O=ht!==bt,O?ht!=null?me(at):S.add(at):ht!==void 0&&S.has(at)?me(at):H.protectedKeys[at]=!0}H.prevProp=Y,H.prevResolvedValues=V,H.isActive&&(C={...C,...V}),r&&e.blockInitialAnimation&&(w=!1);const Qt=rt&&x;w&&(!Qt||R)&&T.push(...N.map(at=>{const ht={type:F};if(typeof at=="string"&&r&&!Qt&&e.manuallyAnimateOnMount&&e.parent){const{parent:bt}=e,O=Ro(bt,at);if(bt.enteringChildren&&O){const{delayChildren:it}=O.transition||{};ht.delay=gR(bt.enteringChildren,e,it)}}return{animation:at,options:ht}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const F=Ro(e,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(k.transition=F.transition)}S.forEach(F=>{const H=e.getBaseTarget(F),Y=e.getValue(F);Y&&(Y.liveStyle=!0),k[F]=H??null}),T.push({animation:k})}let j=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(T):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=BS(),r=!0}}}function eU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yR(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BS(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nU extends fr{constructor(t){super(t),t.animationState||(t.animationState=tU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iU=0;class sU extends fr{constructor(){super(...arguments),this.id=iU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rU={animation:{Feature:nU},exit:{Feature:sU}};function Hu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function lc(e){return{point:{x:e.pageX,y:e.pageY}}}const aU=e=>t=>ov(t)&&e(t,lc(t));function bu(e,t,n,r){return Hu(e,t,aU(n),r)}const _R=1e-4,oU=1-_R,lU=1+_R,TR=.01,uU=0-TR,cU=0+TR;function hn(e){return e.max-e.min}function hU(e,t,n){return Math.abs(e-t)<=n}function zS(e,t,n,r=.5){e.origin=r,e.originPoint=se(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=se(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oU&&e.scale<=lU||isNaN(e.scale))&&(e.scale=1),(e.translate>=uU&&e.translate<=cU||isNaN(e.translate))&&(e.translate=0)}function wu(e,t,n,r){zS(e.x,t.x,n.x,r?r.originX:void 0),zS(e.y,t.y,n.y,r?r.originY:void 0)}function FS(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function fU(e,t,n){FS(e.x,t.x,n.x),FS(e.y,t.y,n.y)}function HS(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Ru(e,t,n){HS(e.x,t.x,n.x),HS(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const ER=({current:e})=>e?e.ownerDocument.defaultView:null,qS=(e,t)=>Math.abs(e-t);function dU(e,t){const n=qS(e.x,t.x),r=qS(e.y,t.y);return Math.sqrt(n**2+r**2)}class SR{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,I=dU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!I)return;const{point:j}=S,{timestamp:k}=Ge;this.history.push({...j,timestamp:k});const{onStart:F,onMove:H}=this.handlers;C||(F&&F(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Pp(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:I,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Vp(S.type==="pointercancel"?this.lastMoveEventInfo:Pp(C,this.transformPagePoint),this.history);this.startEvent&&I&&I(S,F),j&&j(S,F)},!ov(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=lc(t),m=Pp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Ge;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,Vp(m,this.history)),this.removeListeners=rc(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Pp(e,t){return t?{point:t(e.point)}:e}function GS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vp({point:e},t){return{point:e,delta:GS(e,AR(t)),offset:GS(e,mU(t)),velocity:pU(t,.1)}}function mU(e){return e[0]}function AR(e){return e[e.length-1]}function pU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=AR(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>si(t)));)n--;if(!r)return{x:0,y:0};const u=xi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?se(n,e,r.max):Math.min(e,n)),e}function KS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yU(e,{top:t,left:n,bottom:r,right:o}){return{x:KS(e.x,n,o),y:KS(e.y,t,r)}}function $S(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vU(e,t){return{x:$S(e.x,t.x),y:$S(e.y,t.y)}}function _U(e,t){let n=.5;const r=hn(e),o=hn(t);return o>r?n=Vo(t.min,t.max-r,e.min):r>o&&(n=Vo(e.min,e.max-o,t.min)),ms(0,1,n)}function TU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function EU(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:YS(e,"left","right"),y:YS(e,"top","bottom")}}function YS(e,t,n){return{min:XS(e,t),max:XS(e,n)}}function XS(e,t){return typeof e=="number"?e:e[t]||0}const SU=new WeakMap;class AU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lc(T).point)},c=(T,S)=>{const{drag:C,dragPropagation:I,onDragStart:j}=this.getProps();if(C&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OL(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(F=>{let H=this.getAxisMotionValue(F).get()||0;if(Di.test(H)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const et=Y.layout.layoutBox[F];et&&(H=hn(et)*(parseFloat(H)/100))}}this.originPoint[F]=H}),j&&Jt.postRender(()=>j(T,S)),Ng(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:I,onDirectionLock:j,onDrag:k}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:F}=S;if(I&&this.currentDirection===null){this.currentDirection=bU(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",S.point,F),this.updateAxis("y",S.point,F),this.visualElement.render(),k&&k(T,S)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new SR(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:ER(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Jt.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!qh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=gU(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yU(r.layoutBox,t):this.constraints=!1,this.elastic=EU(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=TU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!yo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Dk(r,o.root,this.visualElement.getTransformPagePoint());let c=vU(o.layout.layoutBox,u);if(n){const d=n(Rk(c));this.hasMutatedConstraints=!!d,d&&(c=sR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Hn(y=>{if(!qh(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,I={type:"inertia",velocity:r?t[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,I)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ng(this.visualElement,t),r.start(yv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!qh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];u.set(t[n]-se(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=_U({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!qh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(se(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;SU.set(this.visualElement,this);const t=this.visualElement.current,n=bu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();yo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(r);const c=Hu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Pg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function bU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wU extends fr{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new AU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const QS=e=>(t,n)=>{e&&Jt.postRender(()=>e(t,n))};class RU extends fr{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new SR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ER(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:QS(t),onStart:QS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Jt.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=WS(e,t.target.x),r=WS(e,t.target.y);return`${n}% ${r}%`}},CU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ur.parse(e);if(o.length>5)return r;const u=ur.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=se(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let Lp=!1;class xU extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;tk(DU),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),Lp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Lp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Jt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),av.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;Lp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bR(e){const[t,n]=H1(),r=P.useContext(Uy);return z.jsx(xU,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(nR),isPresent:t,safeToRemove:n})}const DU={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:CU};function wR(e,t,n){const r=Ue(e)?e:pa(e);return r.start(yv("",r,t,n)),r.animation}const IU=(e,t)=>e.depth-t.depth;class MU{constructor(){this.children=[],this.isDirty=!1}add(t){zy(this.children,t),this.isDirty=!0}remove(t){ed(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IU),this.isDirty=!1,this.children.forEach(t)}}function NU(e,t){const n=gn.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(gs(r),e(u-t))};return Jt.setup(r,!0),()=>gs(r)}const RR=["TopLeft","TopRight","BottomLeft","BottomRight"],OU=RR.length,ZS=e=>typeof e=="string"?parseFloat(e):e,JS=e=>typeof e=="number"||St.test(e);function PU(e,t,n,r,o,u){o?(e.opacity=se(0,n.opacity??1,VU(r)),e.opacityExit=se(t.opacity??1,0,LU(r))):u&&(e.opacity=se(t.opacity??1,n.opacity??1,r));for(let c=0;c<OU;c++){const d=`border${RR[c]}Radius`;let m=tA(t,d),g=tA(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||JS(m)===JS(g)?(e[d]=Math.max(se(ZS(m),ZS(g),r),0),(Di.test(g)||Di.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=se(t.rotate||0,n.rotate||0,r))}function tA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VU=CR(0,.5,i1),LU=CR(.5,.95,Gn);function CR(e,t,n){return r=>r<e?0:r>t?1:n(Vo(e,t,r))}function eA(e,t){e.min=t.min,e.max=t.max}function Fn(e,t){eA(e.x,t.x),eA(e.y,t.y)}function nA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iA(e,t,n,r,o){return e-=t,e=Nf(e,1/n,r),o!==void 0&&(e=Nf(e,1/o,r)),e}function kU(e,t=0,n=1,r=.5,o,u=e,c=e){if(Di.test(t)&&(t=parseFloat(t),t=se(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=se(u.min,u.max,r);e===u&&(d-=t),e.min=iA(e.min,t,n,d,o),e.max=iA(e.max,t,n,d,o)}function sA(e,t,[n,r,o],u,c){kU(e,t[n],t[r],t[o],t.scale,u,c)}const UU=["x","scaleX","originX"],jU=["y","scaleY","originY"];function rA(e,t,n,r){sA(e.x,t,UU,n?n.x:void 0,r?r.x:void 0),sA(e.y,t,jU,n?n.y:void 0,r?r.y:void 0)}function aA(e){return e.translate===0&&e.scale===1}function xR(e){return aA(e.x)&&aA(e.y)}function oA(e,t){return e.min===t.min&&e.max===t.max}function BU(e,t){return oA(e.x,t.x)&&oA(e.y,t.y)}function lA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function DR(e,t){return lA(e.x,t.x)&&lA(e.y,t.y)}function uA(e){return hn(e.x)/hn(e.y)}function cA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zU{constructor(){this.members=[]}add(t){zy(this.members,t),t.scheduleRender()}remove(t){if(ed(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FU(e,t,n){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:S,skewX:C,skewY:I}=n;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),C&&(r+=`skewX(${C}deg) `),I&&(r+=`skewY(${I}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const kp=["","X","Y","Z"],HU=1e3;let qU=0;function Up(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IR(r)}function MR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=qU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($U),this.nodes.forEach(WU),this.nodes.forEach(ZU),this.nodes.forEach(YU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new MU)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lv(c)&&!F1(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const S=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{T=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=NU(S,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(dA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||i6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:k}=g.getProps(),F=!this.targetLayout||!DR(this.targetLayout,C),H=!T&&S;if(this.options.layoutRoot||this.resumeFrom||H||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...sv(I,"layout"),onPlay:j,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,H)}else T||dA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QU),this.nodes.forEach(GU),this.nodes.forEach(KU)):this.nodes.forEach(fA),this.clearAllSnapshots();const d=gn.now();Ge.delta=ms(0,1e3/60,d-Ge.timestamp),Ge.timestamp=d,Ge.isProcessing=!0,Rp.update.process(Ge),Rp.preRender.process(Ge),Rp.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XU),this.sharedNodes.forEach(t6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!xR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Zr(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),s6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return he();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(r6))){const{scroll:g}=this.root;g&&(vo(d.x,g.offset.x),vo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=he();if(Fn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Fn(d,c),vo(d.x,y.offset.x),vo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=he();Fn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_o(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Zr(y.latestValues)&&_o(m,y.latestValues)}return Zr(this.latestValues)&&_o(m,this.latestValues),m}removeTransform(c){const d=he();Fn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Zr(g.latestValues))continue;xg(g.latestValues)&&g.updateSnapshot();const y=he(),T=g.measurePageBox();Fn(y,T),rA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Zr(this.latestValues)&&rA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Ru(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),aR(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Ru(this.relativeTargetOrigin,this.target,S.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||rR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Fn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;xk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=he());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nA(this.prevProjectionDelta.x,this.projectionDelta.x),nA(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!cA(this.projectionDelta.x,this.prevProjectionDelta.x)||!cA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},T=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=he(),C=m?m.source:void 0,I=this.layout?this.layout.source:void 0,j=C!==I,k=this.getStack(),F=!k||k.members.length<=1,H=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(n6));this.animationProgress=0;let Y;this.mixTargetDelta=et=>{const W=et/1e3;mA(T.x,c.x,W),mA(T.y,c.y,W),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ru(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e6(this.relativeTarget,this.relativeTargetOrigin,S,W),Y&&BU(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=he()),Fn(Y,this.relativeTarget)),j&&(this.animationValues=y,PU(y,g,this.latestValues,W,H,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pa(0)),this.currentAnimation=wR(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&NR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||he();const T=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const S=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Fn(d,m),_o(d,y),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zU),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Up("z",c,g,this.animationValues);for(let y=0;y<kp.length;y++)Up(`rotate${kp[y]}`,c,g,this.animationValues),Up(`skew${kp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rf(d?.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=FU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in zu){if(y[I]===void 0)continue;const{correct:j,applyTo:k,isCSSVariable:F}=zu[I],H=T==="none"?y[I]:j(y[I],g);if(k){const Y=k.length;for(let et=0;et<Y;et++)c[k[et]]=H}else F?this.options.visualElement.renderState.vars[I]=H:c[I]=H}this.options.layoutId&&(c.pointerEvents=g===this?rf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(hA),this.root.sharedNodes.clear()}}}function GU(e){e.updateLayout()}function KU(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Hn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=hn(T);T.min=n[y].min,T.max=T.min+S}):NR(o,t.layoutBox,n)&&Hn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=hn(n[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=To();wu(c,n,t.layoutBox);const d=To();u?wu(d,e.applyTransform(r,!0),t.measuredBox):wu(d,n,t.layoutBox);const m=!xR(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const C=he();Ru(C,t.layoutBox,T.layoutBox);const I=he();Ru(I,n,S.layoutBox),DR(C,I)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $U(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XU(e){e.clearSnapshot()}function hA(e){e.clearMeasurements()}function fA(e){e.isLayoutDirty=!1}function QU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WU(e){e.resolveTargetDelta()}function ZU(e){e.calcProjection()}function JU(e){e.resetSkewAndRotation()}function t6(e){e.removeLeadSnapshot()}function mA(e,t,n){e.translate=se(t.translate,0,n),e.scale=se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pA(e,t,n,r){e.min=se(t.min,n.min,r),e.max=se(t.max,n.max,r)}function e6(e,t,n,r){pA(e.x,t.x,n.x,r),pA(e.y,t.y,n.y,r)}function n6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const i6={duration:.45,ease:[.4,0,.1,1]},gA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yA=gA("applewebkit/")&&!gA("chrome/")?Math.round:Gn;function vA(e){e.min=yA(e.min),e.max=yA(e.max)}function s6(e){vA(e.x),vA(e.y)}function NR(e,t,n){return e==="position"||e==="preserve-aspect"&&!hU(uA(t),uA(n),.2)}function r6(e){return e!==e.root&&e.scroll?.wasRoot}const a6=MR({attachResizeListener:(e,t)=>Hu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},OR=MR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jp.current){const e=new a6({});e.mount(window),e.setOptions({layoutScroll:!0}),jp.current=e}return jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),o6={pan:{Feature:RU},drag:{Feature:wU,ProjectionNode:OR,MeasureLayout:bR}};function _A(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Jt.postRender(()=>u(t,lc(t)))}class l6 extends fr{mount(){const{current:t}=this.node;t&&(this.unmount=PL(t,(n,r)=>(_A(this.node,r,"Start"),o=>_A(this.node,o,"End"))))}unmount(){}}class u6 extends fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rc(Hu(this.node.current,"focus",()=>this.onFocus()),Hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Jt.postRender(()=>u(t,lc(t)))}class c6 extends fr{mount(){const{current:t}=this.node;t&&(this.unmount=UL(t,(n,r)=>(TA(this.node,r,"Start"),(o,{success:u})=>TA(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vg=new WeakMap,Bp=new WeakMap,h6=e=>{const t=Vg.get(e.target);t&&t(e)},f6=e=>{e.forEach(h6)};function d6({root:e,...t}){const n=e||document;Bp.has(n)||Bp.set(n,{});const r=Bp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(f6,{root:e,...t})),r[o]}function m6(e,t,n){const r=d6(t);return Vg.set(e,n),r.observe(e),()=>{Vg.delete(e),r.unobserve(e)}}const p6={some:0,all:1};class g6 extends fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:p6[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=g?y:T;S&&S(m)};return m6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(y6(t,n))&&this.startObserver()}unmount(){}}function y6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const v6={inView:{Feature:g6},tap:{Feature:c6},focus:{Feature:u6},hover:{Feature:l6}},_6={layout:{ProjectionNode:OR,MeasureLayout:bR}},T6={...rU,...v6,...o6,..._6},Cu=wk(T6,Pk);function Lg(e){const t=sc(()=>pa(e)),{isStatic:n}=P.useContext(nd);if(n){const[,r]=P.useState(e);P.useEffect(()=>t.on("change",r),[])}return t}function PR(e,t){const n=Lg(t()),r=()=>n.set(t());return r(),By(()=>{const o=()=>Jt.preRender(r,!1,!0),u=e.map(c=>c.on("change",o));return()=>{u.forEach(c=>c()),gs(r)}}),n}function E6(e){Au.current=[],e();const t=PR(Au.current,e);return Au.current=void 0,t}function ou(e,t,n,r){if(typeof e=="function")return E6(e);const o=typeof t=="function"?t:jL(t,n,r);return Array.isArray(e)?EA(e,o):EA([e],([u])=>o(u))}function EA(e,t){const n=sc(()=>[]);return PR(e,()=>{n.length=0;const r=e.length;for(let o=0;o<r;o++)n[o]=e[o].get();return t(n)})}function _v(e){return typeof e=="object"&&!Array.isArray(e)}function VR(e,t,n,r){return typeof e=="string"&&_v(t)?L1(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function S6(e,t,n){return e*(t+1)}function SA(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function A6(e,t,n){for(let r=0;r<e.length;r++){const o=e[r];o.at>t&&o.at<n&&(ed(e,o),r--)}}function b6(e,t,n,r,o,u){A6(e,o,u);for(let c=0;c<t.length;c++)e.push({value:t[c],at:se(o,u,r[c]),easing:o1(n,c)})}function w6(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function R6(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const C6="easeInOut";function x6(e,{defaultTransition:t={},...n}={},r,o){const u=t.duration||.3,c=new Map,d=new Map,m={},g=new Map;let y=0,T=0,S=0;for(let C=0;C<e.length;C++){const I=e[C];if(typeof I=="string"){g.set(I,T);continue}else if(!Array.isArray(I)){g.set(I.name,SA(T,I.at,y,g));continue}let[j,k,F={}]=I;F.at!==void 0&&(T=SA(T,F.at,y,g));let H=0;const Y=(et,W,rt,x=0,w=0)=>{const R=D6(et),{delay:N=0,times:V=A1(R),type:U="keyframes",repeat:M,repeatType:me,repeatDelay:Qt=0,...Z}=W;let{ease:at=t.ease||"easeOut",duration:ht}=W;const bt=typeof N=="function"?N(x,w):N,O=R.length,it=iv(U)?U:o?.[U||"keyframes"];if(O<=2&&it){let At=100;if(O===2&&N6(R)){const kt=R[1]-R[0];At=Math.abs(kt)}const yt={...Z};ht!==void 0&&(yt.duration=si(ht));const ae=_1(yt,At,it);at=ae.ease,ht=ae.duration}ht??(ht=u);const ct=T+bt;V.length===1&&V[0]===0&&(V[1]=1);const lt=V.length-R.length;if(lt>0&&S1(V,lt),R.length===1&&R.unshift(null),M){ht=S6(ht,M);const At=[...R],yt=[...V];at=Array.isArray(at)?[...at]:[at];const ae=[...at];for(let kt=0;kt<M;kt++){R.push(...At);for(let Ze=0;Ze<At.length;Ze++)V.push(yt[Ze]+(kt+1)),at.push(Ze===0?"linear":o1(ae,Ze-1))}w6(V,M)}const pt=ct+ht;b6(rt,R,at,V,ct,pt),H=Math.max(bt+ht,H),S=Math.max(pt,S)};if(Ue(j)){const et=AA(j,d);Y(k,F,bA("default",et))}else{const et=VR(j,k,r,m),W=et.length;for(let rt=0;rt<W;rt++){k=k,F=F;const x=et[rt],w=AA(x,d);for(const R in k)Y(k[R],I6(F,R),bA(R,w),rt,W)}}y=T,T+=H}return d.forEach((C,I)=>{for(const j in C){const k=C[j];k.sort(R6);const F=[],H=[],Y=[];for(let W=0;W<k.length;W++){const{at:rt,value:x,easing:w}=k[W];F.push(x),H.push(Vo(0,S,rt)),Y.push(w||"easeOut")}H[0]!==0&&(H.unshift(0),F.unshift(F[0]),Y.unshift(C6)),H[H.length-1]!==1&&(H.push(1),F.push(null)),c.has(I)||c.set(I,{keyframes:{},transition:{}});const et=c.get(I);et.keyframes[j]=F,et.transition[j]={...t,duration:S,ease:Y,times:H,...n}}}),c}function AA(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function bA(e,t){return t[e]||(t[e]=[]),t[e]}function D6(e){return Array.isArray(e)?e:[e]}function I6(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const M6=e=>typeof e=="number",N6=e=>e.every(M6);function O6(e,t){return e in t}class P6 extends uR{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(O6(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return he()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function V6(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=lv(e)&&!F1(e)?new mR(t):new fR(t);n.mount(e),Fu.set(e,n)}function L6(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new P6(t);n.mount(e),Fu.set(e,n)}function k6(e,t){return Ue(e)||typeof e=="number"||typeof e=="string"&&!_v(t)}function LR(e,t,n,r){const o=[];if(k6(e,t))o.push(wR(e,_v(t)&&t.default||t,n&&(n.default||n)));else{const u=VR(e,t,r),c=u.length;for(let d=0;d<c;d++){const m=u[d],g=m instanceof Element?V6:L6;Fu.has(m)||g(m);const y=Fu.get(m),T={...n};"delay"in T&&typeof T.delay=="function"&&(T.delay=T.delay(d,c)),o.push(...vv(y,{...t,transition:T},{}))}}return o}function U6(e,t,n){const r=[];return x6(e,t,n,{spring:ju}).forEach(({keyframes:u,transition:c},d)=>{r.push(...LR(d,u,c))}),r}function j6(e){return Array.isArray(e)&&e.some(Array.isArray)}function B6(e){function t(n,r,o){let u=[];return j6(n)?u=U6(n,r,e):u=LR(n,r,o,e),new vL(u)}return t}const zp=B6(),kg=(e,t)=>t.some(n=>e instanceof n);let wA,RA;function z6(){return wA||(wA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return RA||(RA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ug=new WeakMap,Fp=new WeakMap,ad=new WeakMap;function H6(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(aa(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return ad.set(t,e),t}function q6(e){if(Ug.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Ug.set(e,t)}let jg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ug.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kR(e){jg=e(jg)}function G6(e){return F6().includes(e)?function(...t){return e.apply(Bg(this),t),aa(this.request)}:function(...t){return aa(e.apply(Bg(this),t))}}function K6(e){return typeof e=="function"?G6(e):(e instanceof IDBTransaction&&q6(e),kg(e,z6())?new Proxy(e,jg):e)}function aa(e){if(e instanceof IDBRequest)return H6(e);if(Fp.has(e))return Fp.get(e);const t=K6(e);return t!==e&&(Fp.set(e,t),ad.set(t,e)),t}const Bg=e=>ad.get(e);function $6(e,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=aa(c);return r&&c.addEventListener("upgradeneeded",m=>{r(aa(c.result),m.oldVersion,m.newVersion,aa(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Y6=["get","getKey","getAll","getAllKeys","count"],X6=["put","add","delete","clear"],Hp=new Map;function CA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hp.get(t))return Hp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=X6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Y6.includes(n)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return Hp.set(t,u),u}kR(e=>({...e,get:(t,n,r)=>CA(t,n)||e.get(t,n,r),has:(t,n)=>!!CA(t,n)||e.has(t,n)}));const Q6=["continue","continuePrimaryKey","advance"],xA={},zg=new WeakMap,UR=new WeakMap,W6={get(e,t){if(!Q6.includes(t))return e[t];let n=xA[t];return n||(n=xA[t]=function(...r){zg.set(this,UR.get(this)[t](...r))}),n}};async function*Z6(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,W6);for(UR.set(n,t),ad.set(n,Bg(t));t;)yield n,t=await(zg.get(n)||t.continue()),zg.delete(n)}function DA(e,t){return t===Symbol.asyncIterator&&kg(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&kg(e,[IDBIndex,IDBObjectStore])}kR(e=>({...e,get(t,n,r){return DA(t,n)?Z6:e.get(t,n,r)},has(t,n){return DA(t,n)||e.has(t,n)}}));const J6="tasker-db",Kn="tasks",t3=3;async function _a(){return $6(J6,t3,{upgrade(e,t,n,r){let o;e.objectStoreNames.contains(Kn)?o=r.objectStore(Kn):o=e.createObjectStore(Kn,{keyPath:"id"}),t<2&&!o.indexNames.contains("by_user")&&o.createIndex("by_user","userId",{unique:!1}),t<3&&!o.indexNames.contains("by_date")&&o.createIndex("by_date","data",{unique:!1}),t<3&&!o.indexNames.contains("by_user_date")&&o.createIndex("by_user_date",["userId","data"],{unique:!1})}})}async function jR(e){const n=(await _a()).transaction(Kn,"readwrite");await n.store.put(e),await n.done}async function BR(){const t=(await _a()).transaction(Kn,"readonly"),n=await t.store.getAll();return await t.done,n}async function e3(e){const n=(await _a()).transaction(Kn,"readonly"),o=await n.store.index("by_user").getAll(e);return await n.done,o}async function n3(e,t){const r=(await _a()).transaction(Kn,"readonly"),o=r.store.index("by_user_date"),u=IDBKeyRange.only([e,t]),c=await o.getAll(u);return await r.done,c}async function i3(e,t){const r=(await _a()).transaction(Kn,"readwrite"),o=r.objectStore(Kn),u=await o.get(e);u&&(u.done=t,u.lastUpdated=new Date().toISOString(),u.synced=!1,await o.put(u),await r.done)}async function s3(e){const n=(await _a()).transaction(Kn,"readwrite"),r=n.objectStore(Kn),o=await r.get(e);if(!o){await n.done;return}o._deleted=!0,o.synced=!1,o.lastUpdated=new Date().toISOString(),await r.put(o),await n.done}async function r3(e){const n=(await _a()).transaction(Kn,"readwrite");await n.store.delete(e),await n.done}async function a3({sent:e=0,updated:t=0,deleted:n=0}){try{if(typeof window>"u"||!("Notification"in window)||!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1")||!(e+t+n))return;const u=[];e&&u.push(`${e} enviada(s)`),t&&u.push(`${t} atualizada(s)`),n&&u.push(`${n} excluda(s)`);const c=`Sincronizao concluda: ${u.join("  ")}`;if(Notification.permission==="granted"){new Notification("Tarefas sincronizadas",{body:c,icon:"/icons/tasker-192.png"});return}Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&new Notification("Tarefas sincronizadas",{body:c,icon:"/icons/tasker-192.png"})}catch(r){console.debug("notifySync falhou:",r)}}async function Fg(){const e=await BR(),t=e.filter(c=>c._deleted===!0);let n=0;for(const c of t)try{await HV(c.id),await r3(c.id),n++}catch(d){console.error("Erro ao sincronizar deleo:",c,d)}const r=e.filter(c=>!c.synced&&c._deleted!==!0);let o=0,u=0;for(const c of r)try{c._onlyDoneUpdate?(await FV(c.id,c.done),u++):(await zV(c),o++),c.synced=!0,await jR(c)}catch(d){console.error("Error syncing task:",c,d);continue}await a3({sent:o,updated:u,deleted:n})}function o3({open:e,taskTitle:t,onCancel:n,onConfirm:r}){const[o,u]=P.useState(!1);async function c(){try{u(!0),await r()}finally{u(!1)}}return z.jsx(q1,{children:e&&z.jsx(Cu.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},children:z.jsxs(Cu.div,{className:"modal-card",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.98},transition:{duration:.2,ease:"easeOut"},onClick:d=>d.stopPropagation(),children:[z.jsx("h3",{children:"Excluir tarefa?"}),z.jsxs("p",{children:["Tem certeza que deseja excluir"," ",z.jsx("strong",{children:t||"esta tarefa"}),"?"]}),z.jsxs("div",{className:"modal-actions",children:[z.jsx("button",{className:"outline",onClick:n,disabled:o,children:"Cancelar"}),z.jsx("button",{className:"warnBtn",onClick:c,disabled:o,children:o?z.jsx("span",{className:"spinner","aria-label":"Excluindo..."}):"Excluir"})]})]})})})}const lu=80,l3=90;function u3({task:e,isOpen:t,flashingId:n,delayId:r,onToggleDone:o,onOpenSwipe:u,onCloseSwipe:c,onAskDelete:d}){const m=Lg(0);P.useEffect(()=>zp(m,t?lu:0,{duration:.2}).stop,[t,m]);const g=ou(m,[0,lu],[0,1]),y=ou(g,[0,1],[48,70]),T=ou(g,[0,1],[24,16]),S=ou(g,[0,1],[0,1]),C=ou(g,[0,1],[90,98]),I=Lg(e.done?.7:1);P.useEffect(()=>{if(e.done){const F=setTimeout(()=>{zp(I,.7,{duration:.2})},300);return()=>clearTimeout(F)}I.set(1)},[e.done,I]);function j(){u(null)}function k(F,H){const Y=m.get(),et=H.velocity.x||0,W=Y>lu*.5||Y>lu*.25&&et>250;zp(m,W?lu:0,{type:"spring",stiffness:700,damping:40}),W?u(e.id):c()}return z.jsxs(Cu.div,{layout:"position",initial:!1,style:{position:"relative",zIndex:e.done?0:1},transition:{layout:{delay:r?.4:0}},children:[z.jsx("div",{className:"trash-layer",style:{position:"absolute",inset:0,display:e.done&&!t?"none":"flex",alignItems:"center",pointerEvents:t?"auto":"none"},onPointerDown:F=>F.stopPropagation(),children:z.jsx(Cu.button,{className:"trash-btn",onClick:()=>d(e.id),title:"Excluir tarefa",style:{backgroundColor:"#e15e5b",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:"0.5rem",fontSize:"1.2rem",height:C,width:y,borderRadius:T,opacity:S},children:z.jsx("span",{className:"material-symbols-outlined",children:"delete"})})}),z.jsxs(Cu.div,{layout:!0,className:`task-card ${e.done?"concluida":""} ${n===e.id?"anim-reflexo":""} d-flex flex-row justify-space-between gap-5`,initial:!1,style:{x:m,opacity:I},drag:"x",dragElastic:0,dragMomentum:!1,dragConstraints:{left:0,right:l3},onDragStart:j,onDragEnd:k,onPointerDown:F=>F.stopPropagation(),children:[z.jsx("div",{className:"task-icon-container d-flex",children:z.jsx("span",{className:"material-symbols-outlined",children:"assignment"})}),z.jsxs("div",{className:"task-body d-flex flex-row gap-5",children:[z.jsxs("div",{className:"d-flex flex-column gap-5 justify-space-between",style:{flex:"1 1 auto"},children:[z.jsxs("div",{className:"d-flex flex-column",children:[z.jsxs("div",{className:"d-flex flex-row align-items-center",children:[z.jsx("div",{className:"d-flex flex-column sync-status",children:e.synced?z.jsx("span",{className:"material-symbols-outlined",children:"cloud_done"}):z.jsx("span",{className:"material-symbols-outlined",children:"cloud_off"})}),z.jsx("h3",{className:"align-left",children:e.title})]}),z.jsx("p",{className:"desc one-line",title:e.descricao||"Autodescritiva",children:e.descricao&&e.descricao.trim()?e.descricao:z.jsx("em",{children:"Autodescritiva"})})]}),z.jsx("div",{className:"d-flex flex-row task-type",children:z.jsx("p",{children:"Tipo"})})]}),z.jsxs("div",{className:"d-flex flex-column justify-space-between align-items-right",style:{flex:"1 1 0"},children:[z.jsxs("p",{className:"d-flex flex-row align-items-center task-deadline justify-end",children:[z.jsx("span",{className:"material-symbols-outlined",children:"schedule"}),e.hora]}),z.jsx("div",{className:"d-flex status justify-end",onClick:()=>o(e.id),style:{cursor:"pointer"},title:e.done?"Marcar como pendente":"Marcar como concluda",children:z.jsx("div",{className:e.done?"status-concluida":"status-pendente"})})]})]})]})]})}function c3(){const[e,t]=P.useState([]),[n,r]=P.useState(null),[o,u]=P.useState(null),c=P.useRef(null),d=P.useRef(null),{currentUser:m}=qo(),[g,y]=P.useState(null),[T,S]=P.useState(null),C=()=>{const et=new Date,W=et.getFullYear(),rt=String(et.getMonth()+1).padStart(2,"0"),x=String(et.getDate()).padStart(2,"0");return`${W}-${rt}-${x}`};P.useEffect(()=>(j(),navigator.onLine&&I(),window.addEventListener("online",I),window.addEventListener("offline",j),()=>{window.removeEventListener("online",I),window.removeEventListener("offline",j),c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current)}),[m?.uid]);async function I(){await Fg(),await j()}async function j(){const et=m?.uid;if(!et)return t([]);const W=C();let rt=[];try{rt=await n3(et,W)}catch(w){console.warn("getTasksByUserAndDate falhou:",w)}if(!rt||rt.length===0)try{rt=(await e3(et)).filter(R=>(R.data??W)===W)}catch(w){console.warn("getTasksByUser falhou:",w),rt=[]}const x=rt.filter(w=>w._deleted!==!0).slice().sort((w,R)=>w.done!==R.done?w.done-R.done:String(w.hora).localeCompare(String(R.hora)));t(x),y(null)}async function k(et){const W=e.find(x=>x.id===et);if(!W)return;const rt=!W.done;rt?(c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),r(et),u(et)):(r(null),u(null)),await i3(et,rt),await j(),navigator.onLine&&await I(),rt&&(c.current=setTimeout(()=>r(null),600),d.current=setTimeout(()=>u(null),800))}function F(et){S(et)}function H(){S(null)}async function Y(){const et=T;if(et)try{await s3(et),navigator.onLine&&await Fg()}catch(W){console.error("Erro ao marcar para deleo:",W),alert("No foi possvel excluir a tarefa.")}finally{H(),y(null),await j()}}return z.jsxs("div",{className:"d-flex flex-column gap-10 align-left",onPointerDown:()=>{g&&y(null)},children:[e.length===0&&z.jsx("p",{className:"desc",children:"Nenhuma tarefa encontrada."}),z.jsx(q1,{children:e.map(et=>z.jsx(u3,{task:et,isOpen:g===et.id,flashingId:n,delayId:o,onToggleDone:k,onOpenSwipe:W=>{y(W||null)},onCloseSwipe:()=>y(null),onAskDelete:W=>F(W)},et.id))}),z.jsx(o3,{open:!!T,taskTitle:e.find(et=>et.id===T)?.title,onCancel:H,onConfirm:Y})]})}function h3(){const{currentUser:e,logout:t}=qo();return z.jsxs(z.Fragment,{children:[z.jsx(YV,{}),z.jsx(c3,{})]})}function f3(){const{currentUser:e,logout:t}=qo(),[n,r]=P.useState([]),[o,u]=P.useState([]);return P.useEffect(()=>{async function c(){const d=await BR();r(d);const m=d.filter(g=>g.done);u(m)}c()},[]),z.jsxs("div",{className:"d-flex d-column w-100",children:[z.jsxs("div",{className:"d-flex d-column gap-10 justify-space-between align-left mb-40 w-100",children:[z.jsx("h2",{className:"d-flex align-left m-0",children:"Tarefas concludas"}),z.jsx(Ii,{to:"/",children:z.jsx("button",{type:"button",className:"btn-access",children:" Voltar para Home"})})]}),o.length===0?z.jsx("p",{children:"Nenhuma tarefa concluda."}):z.jsx("div",{className:"d-flex d-column gap-10 w-100",children:o.map(c=>z.jsxs("div",{className:"taskItem d-flex d-column justify-space-between gap-5",children:[z.jsx("h3",{className:"align-left",children:c.title}),z.jsxs("div",{className:"d-flex d-row gap-10 justify-space-between",children:[z.jsxs("p",{className:"d-flex d-row gap-5 align-left align-items-center",children:[z.jsx("span",{className:"material-icons",children:"schedule"}),c.hora]}),z.jsx("p",{className:c.done?"status-concluida":"status-pendente",children:c.done?"Concluda":"Pendente"}),z.jsx("div",{className:"d-flex d-column",children:c.synced?z.jsx("p",{className:"status-synced",children:"Sincronizada"}):z.jsx("p",{className:"status-not-synced",children:"No sincronizada"})})]})]},c.id))})]})}function d3(){const[e,t]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(!1),[c,d]=P.useState(null);async function m(g){g.preventDefault(),u(!0),d(null);try{await jV(e,n),window.location.href="/"}catch(y){d("Erro ao fazer login: "+y.message)}u(!1)}return z.jsxs("div",{className:"d-flex flex-column align-items-center",style:{flex:"1 1 auto",justifyContent:"center"},children:[z.jsx("h2",{children:"Entrar"}),z.jsxs("form",{className:"d-flex flex-column gap-10",onSubmit:m,children:[z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"email",children:"E-mail"}),z.jsx("input",{id:"email",type:"email",value:e,onChange:g=>t(g.target.value),required:!0,autoComplete:"username",placeholder:"Digite seu e-mail"})]}),z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"password",children:"Senha"}),z.jsx("input",{id:"password",type:"password",value:n,onChange:g=>r(g.target.value),required:!0,autoComplete:"current-password",placeholder:"Digite sua senha"})]}),c&&z.jsx("p",{className:"error",children:c}),z.jsx("button",{type:"submit",disabled:o,children:o?"Entrando...":"Entrar"}),z.jsxs("p",{children:["No tem conta? ",z.jsx(Ii,{to:"/cadastro",children:"Cadastre-se"})]})]})]})}function m3(){const[e,t]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(""),[c,d]=P.useState(""),[m,g]=P.useState(!1),[y,T]=P.useState("");async function S(C){C.preventDefault(),g(!0),T("");const I=e.trim();if(!I){T("Informe seu nome."),g(!1);return}if(o!==c){T("As senhas no coincidem."),g(!1);return}if(o.length<6){T("A senha deve ter pelo menos 6 caracteres."),g(!1);return}try{await BV(n,o,I),window.location.href="/"}catch(j){T("Erro ao criar a conta: "+j.message)}finally{g(!1)}}return z.jsxs("div",{className:"d-flex flex-column align-items-center",style:{flex:"1 1 auto",justifyContent:"center"},children:[z.jsx("h2",{children:"Criar conta"}),z.jsxs("form",{className:"d-flex flex-column gap-10",onSubmit:S,children:[z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"name",children:"Nome"}),z.jsx("input",{id:"name",type:"text",value:e,onChange:C=>t(C.target.value),required:!0,autoComplete:"name",placeholder:"Seu nome"})]}),z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"email",children:"E-mail"}),z.jsx("input",{id:"email",type:"email",value:n,onChange:C=>r(C.target.value),required:!0,autoComplete:"username",placeholder:"Digite seu e-mail"})]}),z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"password",children:"Senha"}),z.jsx("input",{id:"password",type:"password",value:o,onChange:C=>u(C.target.value),required:!0,autoComplete:"new-password",placeholder:"Digite sua senha"})]}),z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"confirmPassword",children:"Confirme a senha"}),z.jsx("input",{id:"confirmPassword",type:"password",value:c,onChange:C=>d(C.target.value),required:!0,autoComplete:"new-password",placeholder:"Confirme sua senha"})]}),y&&z.jsx("p",{className:"error",children:y}),z.jsx("button",{type:"submit",disabled:m,children:m?"Cadastrando...":"Cadastrar"}),z.jsxs("p",{children:["J tem conta? ",z.jsx(Ii,{to:"/login",children:"Entrar"})]})]})]})}function p3(){return z.jsxs("div",{className:"d-flex d-column align-items-center justify-content-center height-100vh",children:[z.jsx("div",{className:"backgroundDecoration",children:":("}),z.jsx("h1",{children:"404"}),z.jsx("h2",{className:"m-0",children:"Pgina no encontrada"}),z.jsx("p",{className:"mb-40",children:"A rota que voc tentou acessar no existe."}),z.jsx(Ii,{to:"/",className:"btn-voltar",children:"Voltar para Home"})]})}const qe=[];for(let e=0;e<256;++e)qe.push((e+256).toString(16).slice(1));function g3(e,t=0){return(qe[e[t+0]]+qe[e[t+1]]+qe[e[t+2]]+qe[e[t+3]]+"-"+qe[e[t+4]]+qe[e[t+5]]+"-"+qe[e[t+6]]+qe[e[t+7]]+"-"+qe[e[t+8]]+qe[e[t+9]]+"-"+qe[e[t+10]]+qe[e[t+11]]+qe[e[t+12]]+qe[e[t+13]]+qe[e[t+14]]+qe[e[t+15]]).toLowerCase()}let qp;const y3=new Uint8Array(16);function v3(){if(!qp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qp=crypto.getRandomValues.bind(crypto)}return qp(y3)}const _3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IA={randomUUID:_3};function T3(e,t,n){e=e||{};const r=e.random??e.rng?.()??v3();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,g3(r)}function E3(e,t,n){return IA.randomUUID&&!e?IA.randomUUID():T3(e)}function MA(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function S3(){const[e,t]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(MA()),[c,d]=P.useState(""),[m,g]=P.useState(!1),[y,T]=P.useState(!1),[S,C]=P.useState(null),I=$g(),{currentUser:j}=qo();function k(){const x=j?.uid??null;return{id:E3(),title:e,descricao:n,data:o,hora:c,done:m,userId:x,lastUpdated:new Date().toISOString(),synced:!1}}async function F(x,w){try{if(!(location.protocol==="https:"||location.hostname==="localhost")||!("Notification"in window))return;const N=`${x||"Sem ttulo"}${w?` - ${w}`:""}`;if(Notification.permission==="granted"){new Notification("Tarefa criada com sucesso!",{body:N});return}Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&new Notification("Tarefa criada com sucesso!",{body:N})}catch(R){console.debug("Web Notification falhou:",R)}}function H(){t(""),r(""),u(MA()),d(""),g(!1)}async function Y(x,w){if(!x||!o||!w)return alert("Por favor, preencha todos os campos obrigatrios."),!1;try{return T(!0),await jR(k()),navigator.onLine&&await Fg(),await F(x,w),!0}catch(R){return console.error("Erro ao registrar tarefa:",R),alert("No foi possvel registrar a tarefa. Tente novamente."),!1}finally{T(!1),C(null)}}async function et(){C("stay"),await Y(e,c)&&H()}async function W(){C("back"),await Y(e,c)&&I("/")}const rt=y;return z.jsxs("div",{className:"d-flex flex-column gap-10 justify-space-between",style:{flex:"1 1 auto"},children:[z.jsxs("div",{"aria-disabled":rt,children:[z.jsxs("div",{className:"d-flex flex-row align-items-center mb-40 w-100 relative",children:[z.jsx(Ii,{to:"/",onClick:x=>rt&&x.preventDefault(),children:z.jsx("button",{type:"button",disabled:rt,className:"d-flex flex-row gap-5 btn-access align-items-center absolute horizontal-center-absolute",children:z.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})})}),z.jsx("h2",{className:"d-flex m-0 flex-column justify-center primary-text",style:{flex:"1 1 auto"},children:"Nova tarefa"})]}),z.jsxs("div",{className:"d-flex flex-column gap-15",children:[z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"title",children:"Ttulo"}),z.jsx("input",{id:"title",value:e,onChange:x=>t(x.target.value),placeholder:"O que voc precisa fazer?",disabled:rt})]}),z.jsxs("div",{className:"complete-input",children:[z.jsx("label",{htmlFor:"descricao",children:"Descrio (opcional)"}),z.jsx("textarea",{id:"descricao",value:n,onChange:x=>r(x.target.value),placeholder:"Precisa especificar mais detalhes?",rows:3,disabled:rt})]}),z.jsxs("div",{className:"d-flex flex-row gap-10",children:[z.jsxs("div",{className:"complete-input",style:{flex:"1 1 0"},children:[z.jsx("label",{htmlFor:"data",children:"Data"}),z.jsx("input",{id:"data",type:"date",value:o,onChange:x=>u(x.target.value),disabled:rt})]}),z.jsxs("div",{className:"complete-input",style:{flex:"1 1 0"},children:[z.jsx("label",{htmlFor:"hora",children:"Hora"}),z.jsx("input",{id:"hora",type:"time",value:c,onChange:x=>d(x.target.value),disabled:rt})]})]}),z.jsxs("label",{className:"d-flex flex-row align-items-center",children:[z.jsx("input",{type:"checkbox",checked:m,onChange:x=>g(x.target.checked),disabled:rt}),"Feita"]})]})]}),z.jsxs("div",{className:"d-flex flex-row gap-10 mt-auto",children:[z.jsx("button",{onClick:et,className:"flex-1 d-flex justify-center outline",disabled:rt,children:S==="stay"?z.jsx("span",{className:"spinner"}):"Adicionar e criar outra"}),z.jsx("button",{onClick:W,className:"flex-1 d-flex justify-center",disabled:rt,children:S==="back"?z.jsx("span",{className:"spinner"}):"Adicionar"})]})]})}Tx.createRoot(document.getElementById("root")).render(z.jsx(P.StrictMode,{children:z.jsx(qV,{children:z.jsx(kD,{children:z.jsxs(mD,{children:[z.jsxs(Qs,{path:"/",element:z.jsx(GV,{children:z.jsx($V,{})}),children:[z.jsx(Qs,{index:!0,element:z.jsx(h3,{})}),z.jsx(Qs,{path:"dashboard",element:z.jsx(f3,{})})]}),z.jsx(Qs,{path:"/login",element:z.jsx(fu,{showNavbar:!1,children:z.jsx(d3,{})})}),z.jsx(Qs,{path:"/cadastro",element:z.jsx(fu,{showNavbar:!1,children:z.jsx(m3,{})})}),z.jsx(Qs,{path:"/nova-tarefa",element:z.jsx(fu,{showNavbar:!1,children:z.jsx(S3,{})})}),z.jsx(Qs,{path:"*",element:z.jsx(fu,{showNavbar:!1,children:z.jsx(p3,{})})})]})})})}));"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.getRegistrations();for(const n of e)new URL(n.active?.scriptURL||n.waiting?.scriptURL||n.installing?.scriptURL||"",location.href).pathname!=="/sw.js"&&await n.unregister();const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("Service Worker registrado. Escopo:",t.scope),navigator.serviceWorker.addEventListener("message",n=>{console.log("Mensagem do SW:",n.data)})}catch(e){console.error("Falha ao registrar Service Worker:",e)}});
